{"title":"LogTrick æ–¹æ³•è§£å†³å­æ•°ç»„æœ€å€¼æˆ–è®¡æ•°é—®é¢˜","tags":["LogTrick","äºŒåˆ†æŸ¥æ‰¾","Java","LeetCode"],"cover":"https://cdn.gallery.uuanqin.top/img/202501232337583.webp","description":"é™ä½Žå†…å±‚å¾ªçŽ¯çš„æ—¶é—´å¤æ‚åº¦å®žçŽ° Trick","categories":["ç®—æ³•ä¸Žæ•°æ®ç»“æž„"],"abbrlink":"6aba4215","katex":true,"date":"2025-01-26T03:30:08.000Z","top_img":null,"summary":"Logtrick æ˜¯åœ¨æ—¶é—´å¤æ‚åº¦ä¸º $O(n^2)$ è®¡ç®—å­æ•°ç»„é—®é¢˜çš„åŸºç¡€ä¸Šï¼Œåˆ©ç”¨ |,&,lcm,gcd ç­‰æ€§è´¨ä¼˜åŒ–çš„ä¸€ç§ç®—æ³•ã€‚ é€šå¸¸ç”¨äºŽæ±‚ å­æ•°ç»„ ç»è¿‡ä¸€äº›æ“ä½œ (gcd,lcm,&,|) åŽçš„ maxã€ min æˆ–è€…è®¡æ•°é—®é¢˜ã€‚ æœ¬æ–‡å°†åˆ†ä¸ºä¸¤å¤§éƒ¨åˆ†è®²è§£ LogTrick çš„ç†è§£ï¼š å­æ•°ç»„ç»è¿‡ä¸€äº›æ“ä½œåŽçš„æœ€å€¼é—®é¢˜ å­æ•°ç»„ç»è¿‡ä¸€äº›æ“ä½œåŽçš„è®¡æ•°é—®é¢˜ æœ¬æ–‡é¢˜ç›®éš¾åº¦æ ‡è¯†ï¼šðŸŸ©ç®€å•ï¼ŒðŸŸ¨ä¸­ç­‰ï¼ŒðŸŸ¥å›°éš¾ã€‚ æœ€å€¼é—®é¢˜ OR è¿ç®— - æœ€å€¼é—®é¢˜ > [!example] ðŸŸ¥ 3171. æ‰¾åˆ°æŒ‰ä½æˆ–æœ€æŽ¥è¿‘ K çš„å­æ•°ç»„ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰ > ç»™ä½ ä¸€ä¸ªæ•°ç»„ nums å’Œä¸€ä¸ªæ•´æ•° k ã€‚ä½ éœ€è¦æ‰¾åˆ° nums çš„ä¸€ä¸ªå­æ•°ç»„ï¼Œæ»¡è¶³å­æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ æŒ‰ä½æˆ–è¿ç®— OR çš„å€¼ä¸Ž k çš„ ç»å¯¹å·® å°½å¯èƒ½ å° ã€‚æ¢è¨€ä¹‹ï¼Œä½ éœ€è¦é€‰æ‹©ä¸€ä¸ªå­æ•°ç»„ `nums[l..r]` æ»¡è¶³ `|k - (nums[l] OR nums[l + 1] ... OR nums[r])|` æœ€å°ã€‚ > > è¯·ä½ è¿”å›ž æœ€å° çš„ç»å¯¹å·®å€¼ã€‚ > > å­æ•°ç»„ æ˜¯æ•°ç»„ä¸­è¿žç»­çš„ éžç©º å…ƒç´ åºåˆ—ã€‚ > > é™åˆ¶ï¼š > - `1 <= nums.length <= 10^5` > - `1 <= nums[i] <= 10^9` > - `1 <= k <= 10^9` ä»Žæš´åŠ›æ–¹æ³•å¼€å§‹è®²èµ· æˆ‘ä»¬å¯ä»¥æƒ³åˆ°ä¸€ä¸ª $O(n^2)$ çš„æš´åŠ›ç®—æ³•ï¼š æ–¹æ³•çš„è¦ç‚¹åœ¨äºŽæŠŠå­æ•°ç»„ç›¸æˆ–çš„ç»“æžœå­˜å‚¨åœ¨ `nums` ä¸­ã€‚ å¤æ‚åº¦åˆ†æžï¼š æ—¶é—´å¤æ‚åº¦ï¼š $O(n^2)$ ç©ºé—´å¤æ‚åº¦ï¼š$O(1)$ã€‚ Trick! ä¸ºäº†å……åˆ†åˆ©ç”¨ OR çš„æ€§è´¨ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥å¯¹å†…å±‚å¾ªçŽ¯è¿›è¡Œä¼˜åŒ–ã€‚ å†…å±‚å¾ªçŽ¯ `j` åœ¨é€’å‡æ—¶ï¼Œå¦‚æžœ `x` å’Œå½“å‰ `nums[j]` ç›¸æˆ–ä¸å†å‘ç”Ÿå˜åŒ–ï¼Œé‚£ä¹ˆå’Œ `nums[j-1]`ã€`nums[j-2]` ...... `nums[0]` ç›¸æˆ–ä¹Ÿä¸ä¼šå‘ç”Ÿå˜åŒ–ã€‚è¿™æ—¶æˆ‘ä»¬å¯ä»¥è·³å‡ºå¾ªçŽ¯äº†ã€‚ å½“ `j` åœ¨é€’å‡æ—¶ï¼Œx èƒ½è®©å½“å‰ `nums[j]` çš„ä¸€äº›æ¯”ç‰¹ä½ä»Ž 0 å˜ä¸º 1ï¼Œå¦‚æžœä¸èƒ½å°±ä¼šé€€å‡ºå†…å±‚å¾ªçŽ¯ã€‚x æœ€å¤§å€¼é™åˆ¶ä¸º `10^9`ï¼Œå³ x æœ€å¤šæœ‰ 29 ä¸ªæ¯”ç‰¹ä½ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œx æœ€å¤šèƒ½è¿›è¡Œ 29 æ¬¡å†…éƒ¨å¾ªçŽ¯ï¼ˆç¬¬äºŒé‡å¾ªçŽ¯ï¼‰ã€‚å› æ­¤åœ¨æœ¬é¢˜ä¸­ï¼Œå†…éƒ¨å¾ªçŽ¯çš„æ—¶é—´å¤æ‚åº¦å°†æ˜¯ä¸€ä¸ªå¸¸æ•°ã€‚..."}