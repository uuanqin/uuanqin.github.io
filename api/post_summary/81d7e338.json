{"title":"Waline 邮件通知以及个性化邮件的设置","tags":["Waline","Vercel","Email","企业微信"],"cover":"https://cdn.gallery.uuanqin.top/img/diy-waline.png","description":"为网站建立邮件服务","categories":["博客站点维护","Waline"],"abbrlink":"81d7e338","date":"2023-04-28T16:15:12.000Z","top_img":null,"summary":"> [!note] 文章解耦 `241024`：解耦自 [[【索引】定制自己的 Waline 评论系统]] Waline 发送邮件，首先你得有一个专门发送通知的邮箱，任何支持 STMP 协议的都行。 网站邮箱服务 > 本文以腾讯企业邮作域名邮箱为例。 拥有域名邮箱 注册一个企业微信，企业微信完成企业创建后，可以申请域名邮箱： 解析设置 然后在阿里云云解析进行设置：（其他云服务商解析设置方法参考：如何确认域名的服务商以及各大域名商的域名设置方法-帮助中心-企业微信 (qq.com)） 邮箱设置好密码 拥有企业邮箱之后，登录邮箱设置好密码。可参考 成员如何设置邮箱密码？腾讯企业邮箱帮助中心 (qq.com) Waline 环境变量配置 设置好域名邮箱密码后，打开 Vercel 服务端项目，点击环境变量： 然后按照 Waline 官方文档的指导设置好服务端的环境变量：评论通知 | Waline，腾讯企业邮相关参数如下： 参考：Fluid -15- Waline 邮件通知 - 腾讯云开发者社区-腾讯云 (tencent.com) 信件模板 这里我参考了洪涝（张洪 Heo）的针对 Twikoo 评论系统的示例：Twikoo 评论回复邮件模板：Acrylic Mail 粉 | 张洪 Heo (zhheo.com)。 效果 QQ 邮箱网页版： QQ 邮箱手机（暗黑模式）： 改动 其实与 Waline 大差不差，只是有一些写法需要注意（适配 Waline 后改动的地方）： 把洪涝示例中变量的形式改成 Waline 中变量的形式，比如 `${NICK}` 改为 `{{self.nick}}` 评论内容记得加上 `safe`，否则信件中显示的是 raw html 字符 [^字符显示]。如：`{{self.comment|safe}}`。 链接地址加上 `https://`，否则点不了。如 `href=\"https://{{site.url}}\"` Bug 修复：主框宽度调整。手机端、电脑端邮件显示正常。暗黑模式显示正常。 [^字符显示]: [[Bug]: 自定义邮件通知模板后评论内容显示问题 · Issue #1034 · walinejs/waline (github.com)](https://github.c..."}