{"data":{"title":"ä¸€äº›ç‰¹æ®Šçš„æ ˆï¼šå•è°ƒæ ˆã€æœ€å°æ ˆ","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/ä¸€äº›ç‰¹æ®Šçš„æ ˆï¼šå•è°ƒæ ˆã€æœ€å°æ ˆ","description":"æ ˆä¹Ÿèƒ½å¼„å‡ºè¿™æ ·çš„èŠ±æ ·ï¼Ÿ","date":"2024-11-17T10:34:53.000Z","updated":"2025-10-16T16:26:12.381Z","language":"zh-CN","comments":true,"url":"p/509c69f4/","cover":"https://cdn.gallery.uuanqin.top/img/202510170022670.webp","images":[],"content":"<h1 id=\"å•è°ƒæ ˆ\"><a class=\"markdownIt-Anchor\" href=\"#å•è°ƒæ ˆ\"></a> å•è°ƒæ ˆ</h1>\n<p>å•è°ƒæ ˆå³æ»¡è¶³å•è°ƒæ€§çš„æ ˆç»“æ„ã€‚</p>\n<p>å°†ä¸€ä¸ªå…ƒç´ æ’å…¥å•è°ƒæ ˆæ—¶ï¼Œä¸ºäº†ç»´æŠ¤æ ˆçš„å•è°ƒæ€§ï¼Œéœ€è¦åœ¨ä¿è¯å°†è¯¥å…ƒç´ æ’å…¥åˆ°æ ˆé¡¶åæ•´ä¸ªæ ˆæ»¡è¶³å•è°ƒæ€§çš„å‰æä¸‹å¼¹å‡ºæœ€å°‘çš„å…ƒç´ ã€‚</p>\n\n<div class=\"callout\" data-callout=\"example\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-list\"><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>\n</div>\n<div class=\"callout-title-inner\">ä¾‹å­</div>\n</div>\n<div class=\"callout-content\"><p>æ ˆä¸­è‡ªé¡¶å‘ä¸‹çš„å…ƒç´ ä¸º <code>[0,11,45,81]</code><br />\næ’å…¥å…ƒç´  14 æ—¶ä¸ºäº†ä¿è¯å•è°ƒæ€§éœ€è¦ä¾æ¬¡å¼¹å‡ºå…ƒç´  0, 11<br />\næ“ä½œåæ ˆå˜ä¸º <code>[14,45,81]</code></p>\n</div></div><h2 id=\"å®ç°\"><a class=\"markdownIt-Anchor\" href=\"#å®ç°\"></a> å®ç°</h2>\n<figure class=\"highlight pascal\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// å‡è®¾æ•°ç»„Aä»å·¦åˆ°å³éå†</span></span><br><span class=\"line\">insert x <span class=\"comment\">// x ä¸ºæ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´ </span></span><br><span class=\"line\"><span class=\"comment\">// å‡è®¾ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æ ˆï¼ˆè‡ªæ ˆé¡¶å‘ä¸‹å•è°ƒé€’å¢ï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">while</span> !stack.empty() &amp;&amp; stack.top()&lt;x</span><br><span class=\"line\">    y = stack.pop() <span class=\"comment\">// è¿™ä¹Ÿæ„å‘³ç€yå³ä¾§ç¬¬ä¸€ä¸ªæ¯”yå¤§çš„å…ƒç´ æ˜¯x</span></span><br><span class=\"line\">stack.push(x)</span><br></pre></td></tr></table></figure>\n<p>æœ‰æ—¶å€™ï¼Œå•è°ƒæ ˆæˆ–å•è°ƒé˜Ÿåˆ—ä¸­ä¸ä¸€å®šå­˜çš„æ˜¯å®é™…æ•°å­—çš„å€¼ï¼Œæœ‰å¯èƒ½å­˜çš„æ˜¯æŒ‡å‘å®é™…æ•°å­—çš„æŒ‡é’ˆæˆ–ä¸‹æ ‡ï¼Œæ¯•ç«Ÿæœ‰æ—¶å€™å®é™…æ•°å­—çš„å€¼å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®æ•°ç»„è·å¾—ï¼Œå­˜å‚¨ä¸‹æ ‡èƒ½ä¿å­˜æ›´å¤šåˆ©äºè®¡ç®—çš„ä¿¡æ¯ã€‚æ¯”å¦‚è¿™äº›é¢˜ï¼š</p>\n<ul>\n<li>ğŸŸ¥ <a href=\"https://leetcode.cn/problems/sliding-window-maximum/description/?envType=study-plan-v2&amp;envId=top-100-liked\">239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¥ <a href=\"https://leetcode.cn/problems/largest-rectangle-in-histogram/description/\">84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n<h2 id=\"åº”ç”¨\"><a class=\"markdownIt-Anchor\" href=\"#åº”ç”¨\"></a> åº”ç”¨</h2>\n<h3 id=\"ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ åŸå‹é¢˜\"><a class=\"markdownIt-Anchor\" href=\"#ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ åŸå‹é¢˜\"></a> ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆåŸå‹é¢˜ï¼‰</h3>\n\n<div class=\"callout\" data-callout=\"example\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-list\"><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>\n</div>\n<div class=\"callout-title-inner\">ğŸŸ© <a href=\"https://leetcode.cn/problems/next-greater-element-i/description/\">496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><p>æˆ–è€…å‰ä¸€ä¸ªæ›´å°å…ƒç´ ã€‚</p>\n<p>åœ¨çº¿æ€§æ—¶é—´å†…æ±‚å‡ºæ•°ç»„ <code>A</code> ä¸­æŸå…ƒç´  <code>x</code> çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼Œå³ <code>x</code> å³ä¾§ç¬¬ä¸€ä¸ªæ¯” <code>x</code> å¤§çš„å…ƒç´ çš„å€¼æˆ–ä¸‹æ ‡ã€‚</p>\n<p>ç›¸å…³é¢˜ç›®ï¼š</p>\n<ul>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/next-greater-element-ii/description/\">503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/sum-of-subarray-minimums/description/\">907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/sum-of-subarray-ranges/description/\">2104. å­æ•°ç»„èŒƒå›´å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/beautiful-towers-i/description/\">2865. ç¾ä¸½å¡” I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n<h3 id=\"ä¿å­˜å…³é”®å­—ç¬¦\"><a class=\"markdownIt-Anchor\" href=\"#ä¿å­˜å…³é”®å­—ç¬¦\"></a> ä¿å­˜å…³é”®å­—ç¬¦</h3>\n<p>é¦–å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¦‚ä½•å»æ‰å…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦ chï¼Œä½¿å¾—å¾—åˆ°çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰¾å‡ºæœ€å°çš„æ»¡è¶³ <code>s[i]&gt;s[i+1]</code> çš„ä¸‹æ ‡ <code>i</code>ï¼Œå¹¶å»é™¤å­—ç¬¦ <code>s[i]</code>ã€‚æˆ‘ä»¬ç§°è¿™æ ·çš„å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ã€‚</p>\n<p>ç›¸å…³é¢˜ç›®ï¼š</p>\n<ul>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/remove-duplicate-letters/description/\">316. å»é™¤é‡å¤å­—æ¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n<h1 id=\"æœ€å°æ ˆ\"><a class=\"markdownIt-Anchor\" href=\"#æœ€å°æ ˆ\"></a> æœ€å°æ ˆ</h1>\n\n<div class=\"callout\" data-callout=\"example\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-list\"><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>\n</div>\n<div class=\"callout-title-inner\">ğŸŸ¨ <a href=\"https://leetcode.cn/problems/min-stack/description/\">155. æœ€å°æ ˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></div>\n</div>\n<div class=\"callout-content\"><p>è¯·ä½ è®¾è®¡ä¸€ä¸ªÂ <strong>æœ€å°æ ˆ</strong>Â ã€‚å®ƒæä¾›Â <code>push</code>Â ï¼Œ<code>pop</code>Â ï¼Œ<code>top</code>Â æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚</p>\n</div></div><p>æš´åŠ›åšæ³•å°±æ˜¯æ¯æ¬¡è·å–è¾—è½¬æœ€å°å€¼æ—¶äºŒåˆ†æŸ¥æ‰¾æœ€å°å€¼ï¼Œæˆ–è€…å¦å¤–ç»´æŠ¤å †ç»“æ„ã€‚ä½†æ˜¯è¿™æ ·çš„è¯ï¼ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æˆ–ç»´æŠ¤å †çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚</p>\n<p>å¯¹äºæ ˆæ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªå…ƒç´  a åœ¨å…¥æ ˆæ—¶ï¼Œæ ˆé‡Œæœ‰å…¶å®ƒçš„å…ƒç´  b, c, dï¼Œé‚£ä¹ˆæ— è®ºè¿™ä¸ªæ ˆåœ¨ä¹‹åç»å†äº†ä»€ä¹ˆæ“ä½œï¼Œåªè¦ a åœ¨æ ˆä¸­ï¼Œb, c, d å°±ä¸€å®šåœ¨æ ˆä¸­ï¼Œå› ä¸ºåœ¨ a è¢«å¼¹å‡ºä¹‹å‰ï¼Œb, c, d ä¸ä¼šè¢«å¼¹å‡ºã€‚å› æ­¤ï¼Œåœ¨æ“ä½œè¿‡ç¨‹ä¸­çš„ä»»æ„ä¸€ä¸ªæ—¶åˆ»ï¼Œåªè¦æ ˆé¡¶çš„å…ƒç´ æ˜¯ aï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šæ ˆé‡Œé¢ç°åœ¨çš„å…ƒç´ ä¸€å®šæ˜¯ a, b, c, dã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªå…ƒç´  a å…¥æ ˆæ—¶æŠŠå½“å‰æ ˆçš„æœ€å°å€¼ m å­˜å‚¨èµ·æ¥ã€‚åœ¨è¿™ä¹‹åæ— è®ºä½•æ—¶ï¼Œå¦‚æœæ ˆé¡¶å…ƒç´ æ˜¯ aï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿”å›å­˜å‚¨çš„æœ€å°å€¼ mã€‚</p>\n<h2 id=\"åŸºæœ¬åšæ³•åŒæ ˆ\"><a class=\"markdownIt-Anchor\" href=\"#åŸºæœ¬åšæ³•åŒæ ˆ\"></a> åŸºæœ¬åšæ³•ï¼šåŒæ ˆ</h2>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MinStack</span> &#123;</span><br><span class=\"line\">    Deque&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    Deque&lt;Integer&gt; m_stack = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"type\">int</span> <span class=\"variable\">min</span> <span class=\"operator\">=</span> Integer.MAX_VALUE;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">/** initialize your data structure here. */</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MinStack</span><span class=\"params\">()</span> &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        min = Math.min(min,x);</span><br><span class=\"line\">        stack.push(x);</span><br><span class=\"line\">        m_stack.push(min);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        stack.pop();</span><br><span class=\"line\">        m_stack.pop();</span><br><span class=\"line\">        min = m_stack.peek()==<span class=\"literal\">null</span>?min = Integer.MAX_VALUE:m_stack.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getMin</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> m_stack.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å¦‚æœä½ è§‰å¾—ä¸Šé¢çš„ä»£ç è¿˜ä¸å¤Ÿç®€æ´ï¼Œä½ å¯ä»¥å»æ‰å…¨å±€ <code>min</code>ï¼Œå¹¶åœ¨æ ˆåˆå§‹åŒ–æ—¶ï¼Œæå‰å°† <code>Integer.MAX_VALUE</code> å“¨å…µæ”¾å…¥ <code>m_stack</code> ä¸­ã€‚</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202510170021537.webp\" alt=\"image.png\" width=\"400px\" /></p>\n<p>å¤æ‚åº¦åˆ†æï¼š</p>\n<ul>\n<li>æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äºé¢˜ç›®ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>ã€‚å› ä¸ºæ ˆçš„æ’å…¥ã€åˆ é™¤ä¸è¯»å–æ“ä½œéƒ½æ˜¯ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span>ï¼Œæˆ‘ä»¬å®šä¹‰çš„æ¯ä¸ªæ“ä½œæœ€å¤šè°ƒç”¨æ ˆæ“ä½œä¸¤æ¬¡ã€‚</li>\n<li>ç©ºé—´å¤æ‚åº¦ï¼š<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>ï¼Œå…¶ä¸­ n ä¸ºæ€»æ“ä½œæ•°ã€‚æœ€åæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šè¿ç»­æ’å…¥ n ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶ä¸¤ä¸ªæ ˆå ç”¨çš„ç©ºé—´ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span>ã€‚</li>\n</ul>\n<h2 id=\"å¸¸æ•°ä¼˜åŒ–è¾…åŠ©æ ˆç»´æŠ¤æ›´å°‘çš„å…ƒç´ \"><a class=\"markdownIt-Anchor\" href=\"#å¸¸æ•°ä¼˜åŒ–è¾…åŠ©æ ˆç»´æŠ¤æ›´å°‘çš„å…ƒç´ \"></a> å¸¸æ•°ä¼˜åŒ–ï¼šè¾…åŠ©æ ˆç»´æŠ¤æ›´å°‘çš„å…ƒç´ </h2>\n<p>åœ¨åŸºæœ¬çš„åšæ³•ä¸­ï¼Œæ¯ä¸ª <code>stack</code> ä¸­çš„å…ƒç´ éƒ½å¯¹åº” <code>m_stack</code> ä¸­ä¸€ä¸ªå…ƒç´ ã€‚å…¶å® <code>m_stack</code> ä¸­ä¼šæœ‰é‡å¤çš„å…ƒç´ æ”¾å…¥ã€‚</p>\n<p>æ”¹è¿›åï¼ŒåŒæ ˆåˆ†å·¥ï¼š</p>\n<ul>\n<li>æ•°æ®æ ˆ A ï¼š æ ˆ A ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ <code>push()</code> å‡½æ•°ã€å‡ºæ ˆ <code>pop()</code> å‡½æ•°ã€è·å–æ ˆé¡¶ <code>top()</code> å‡½æ•°çš„æ­£å¸¸é€»è¾‘ã€‚</li>\n<li>è¾…åŠ©æ ˆ B ï¼š æ ˆ B ä¸­å­˜å‚¨æ ˆ A ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº å…ƒç´ çš„å­åºåˆ—ï¼Œåˆ™æ ˆ A ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€‚æ­¤æ—¶ï¼Œ<code>getMin()</code> å‡½æ•°åªéœ€è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚</li>\n</ul>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202510170006421.webp\" alt=\"image.png\" width=\"375px\" /></p>\n<p>è¾…åŠ©æ ˆä¸­å…ƒç´ ä»¥ã€Œéä¸¥æ ¼é™åºã€è¿›è¡Œæ’åºï¼Œé˜²æ­¢è¾…åŠ©æ ˆæå‰å¼¹å‡ºæœ€å°å€¼ï¼š</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202510170009538.webp\" alt=\"image.png\" width=\"425px\" /></p>\n<p>å‚è€ƒå®ç°ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MinStack</span> &#123;</span><br><span class=\"line\">    Deque&lt;Integer&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    Deque&lt;Integer&gt; m_stack = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MinStack</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        m_stack.push(Integer.MAX_VALUE);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        stack.push(x);</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(x&lt;=m_stack.peek())&#123;</span><br><span class=\"line\">            m_stack.push(x);</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">int</span> <span class=\"variable\">o</span> <span class=\"operator\">=</span> stack.pop();</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(o==m_stack.peek())&#123;</span><br><span class=\"line\">            m_stack.pop();</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        </span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> stack.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getMin</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> m_stack.peek();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"å¸¸æ•°ä¼˜åŒ–åªä½¿ç”¨ä¸€ä¸ªæ ˆ\"><a class=\"markdownIt-Anchor\" href=\"#å¸¸æ•°ä¼˜åŒ–åªä½¿ç”¨ä¸€ä¸ªæ ˆ\"></a> å¸¸æ•°ä¼˜åŒ–ï¼šåªä½¿ç”¨ä¸€ä¸ªæ ˆ</h2>\n<p>æˆ‘ä»¬å–æ¶ˆè¾…åŠ©æ ˆï¼Œå¼•å…¥å…¨å±€å˜é‡ <code>min</code>ï¼Œå®æ—¶ç»´æŠ¤å½“å‰æ ˆä¸­æœ€å°å€¼ã€‚è€Œå”¯ä¸€çš„æ ˆç»“æ„ç”¨æ¥ä¿å­˜å…¥æ ˆæ—¶çš„å…ƒç´ ä¸å½“å‰ <code>min</code> çš„å·®å€¼ã€‚å› æ­¤æˆ‘ä»¬æœ€éœ€è¦å…³æ³¨çš„åœ°æ–¹ä¸ºï¼š</p>\n<ul>\n<li>å¼¹æ ˆæ—¶ï¼Œå¦‚ä½•ç»´æŠ¤å¥½ <code>min</code></li>\n<li>å¼¹æ ˆæ—¶ï¼Œå¹¶è¿”å›æ­£ç¡®çš„åˆå§‹å…ƒç´ </li>\n</ul>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">class</span> <span class=\"title class_\">MinStack</span> &#123;</span><br><span class=\"line\">    Deque&lt;Long&gt; stack = <span class=\"keyword\">new</span> <span class=\"title class_\">LinkedList</span>&lt;&gt;();</span><br><span class=\"line\">    <span class=\"type\">long</span> min;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">MinStack</span><span class=\"params\">()</span> &#123;&#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">push</span><span class=\"params\">(<span class=\"type\">int</span> x)</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(stack.isEmpty())&#123;</span><br><span class=\"line\">            min = x;</span><br><span class=\"line\">            stack.push(<span class=\"number\">0L</span>);</span><br><span class=\"line\">            <span class=\"keyword\">return</span>;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"type\">long</span> <span class=\"variable\">delta</span> <span class=\"operator\">=</span> x-min;</span><br><span class=\"line\">        <span class=\"keyword\">if</span>(delta&lt;<span class=\"number\">0L</span>)&#123;</span><br><span class=\"line\">            min = x;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        stack.push(delta);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">pop</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Long</span> <span class=\"variable\">o</span> <span class=\"operator\">=</span> stack.peek();</span><br><span class=\"line\">       </span><br><span class=\"line\">        <span class=\"keyword\">if</span>(o&lt;<span class=\"number\">0</span>)&#123;</span><br><span class=\"line\">            min = min-o;</span><br><span class=\"line\">        &#125;       </span><br><span class=\"line\">        stack.pop();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">top</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">Long</span> <span class=\"variable\">o</span> <span class=\"operator\">=</span> stack.peek();</span><br><span class=\"line\">        </span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"type\">int</span>)(o&gt;<span class=\"number\">0</span>?o+min:min);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    </span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"type\">int</span> <span class=\"title function_\">getMin</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (<span class=\"type\">int</span>)min;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h1 id=\"æœ¬æ–‡å‚è€ƒ\"><a class=\"markdownIt-Anchor\" href=\"#æœ¬æ–‡å‚è€ƒ\"></a> æœ¬æ–‡å‚è€ƒ</h1>\n<ul>\n<li><a href=\"https://oi-wiki.org/ds/monotonous-stack/\">å•è°ƒæ ˆ - OI Wiki (oi-wiki.org)</a> é™¤åº”ç”¨ä¸ä¹ é¢˜éƒ¨åˆ†</li>\n<li><a href=\"https://leetcode.cn/problems/bao-han-minhan-shu-de-zhan-lcof/solutions/133760/mian-shi-ti-30-bao-han-minhan-shu-de-zhan-fu-zhu-z/\">LCR 147. æœ€å°æ ˆ - @Krahets çš„é¢˜è§£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n","raw":"---\ntitle: ä¸€äº›ç‰¹æ®Šçš„æ ˆï¼šå•è°ƒæ ˆã€æœ€å°æ ˆ\ntags:\n  - å•è°ƒæ ˆ\n  - æœ€å°æ ˆ\n  - Java\n  - æ ˆ\ncover: 'https://cdn.gallery.uuanqin.top/img/202510170022670.webp'\ndescription: æ ˆä¹Ÿèƒ½å¼„å‡ºè¿™æ ·çš„èŠ±æ ·ï¼Ÿ\nkatex: true\ncategories:\n  - ç®—æ³•ä¸æ•°æ®ç»“æ„\nabbrlink: 509c69f4\ndate: 2024-11-17 18:34:53\ntop_img:\n---\n\n# å•è°ƒæ ˆ\n\nå•è°ƒæ ˆå³æ»¡è¶³å•è°ƒæ€§çš„æ ˆç»“æ„ã€‚\n\nå°†ä¸€ä¸ªå…ƒç´ æ’å…¥å•è°ƒæ ˆæ—¶ï¼Œä¸ºäº†ç»´æŠ¤æ ˆçš„å•è°ƒæ€§ï¼Œéœ€è¦åœ¨ä¿è¯å°†è¯¥å…ƒç´ æ’å…¥åˆ°æ ˆé¡¶åæ•´ä¸ªæ ˆæ»¡è¶³å•è°ƒæ€§çš„å‰æä¸‹å¼¹å‡ºæœ€å°‘çš„å…ƒç´ ã€‚\n\n> [!example] ä¾‹å­\n> æ ˆä¸­è‡ªé¡¶å‘ä¸‹çš„å…ƒç´ ä¸º `[0,11,45,81]`\n> æ’å…¥å…ƒç´  14 æ—¶ä¸ºäº†ä¿è¯å•è°ƒæ€§éœ€è¦ä¾æ¬¡å¼¹å‡ºå…ƒç´  0, 11\n> æ“ä½œåæ ˆå˜ä¸º `[14,45,81]`\n\n## å®ç°\n\n```pascal\n// å‡è®¾æ•°ç»„Aä»å·¦åˆ°å³éå†\ninsert x // x ä¸ºæ•°ç»„ä¸­æŸä¸€ä¸ªå…ƒç´ \n// å‡è®¾ç»´æŠ¤çš„æ˜¯ä¸€ä¸ªå•è°ƒé€’å¢çš„æ ˆï¼ˆè‡ªæ ˆé¡¶å‘ä¸‹å•è°ƒé€’å¢ï¼‰\nwhile !stack.empty() && stack.top()<x\n    y = stack.pop() // è¿™ä¹Ÿæ„å‘³ç€yå³ä¾§ç¬¬ä¸€ä¸ªæ¯”yå¤§çš„å…ƒç´ æ˜¯x\nstack.push(x)\n```\n\næœ‰æ—¶å€™ï¼Œå•è°ƒæ ˆæˆ–å•è°ƒé˜Ÿåˆ—ä¸­ä¸ä¸€å®šå­˜çš„æ˜¯å®é™…æ•°å­—çš„å€¼ï¼Œæœ‰å¯èƒ½å­˜çš„æ˜¯æŒ‡å‘å®é™…æ•°å­—çš„æŒ‡é’ˆæˆ–ä¸‹æ ‡ï¼Œæ¯•ç«Ÿæœ‰æ—¶å€™å®é™…æ•°å­—çš„å€¼å¯ä»¥é€šè¿‡ä¸‹æ ‡è®¿é—®æ•°ç»„è·å¾—ï¼Œå­˜å‚¨ä¸‹æ ‡èƒ½ä¿å­˜æ›´å¤šåˆ©äºè®¡ç®—çš„ä¿¡æ¯ã€‚æ¯”å¦‚è¿™äº›é¢˜ï¼š\n\n- ğŸŸ¥ [239. æ»‘åŠ¨çª—å£æœ€å¤§å€¼ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/sliding-window-maximum/description/?envType=study-plan-v2&envId=top-100-liked)\n- ğŸŸ¥ [84. æŸ±çŠ¶å›¾ä¸­æœ€å¤§çš„çŸ©å½¢ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/largest-rectangle-in-histogram/description/)\n\n## åº”ç”¨\n\n### ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´ ï¼ˆåŸå‹é¢˜ï¼‰\n\n> [!example] ğŸŸ© [496. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/next-greater-element-i/description/)\n\næˆ–è€…å‰ä¸€ä¸ªæ›´å°å…ƒç´ ã€‚\n\nåœ¨çº¿æ€§æ—¶é—´å†…æ±‚å‡ºæ•°ç»„ `A` ä¸­æŸå…ƒç´  `x` çš„ä¸‹ä¸€ä¸ªæ›´å¤§çš„å…ƒç´ ï¼Œå³ `x` å³ä¾§ç¬¬ä¸€ä¸ªæ¯” `x` å¤§çš„å…ƒç´ çš„å€¼æˆ–ä¸‹æ ‡ã€‚\n\nç›¸å…³é¢˜ç›®ï¼š\n\n* ğŸŸ¨ [503. ä¸‹ä¸€ä¸ªæ›´å¤§å…ƒç´  II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/next-greater-element-ii/description/)\n* ğŸŸ¨ [907. å­æ•°ç»„çš„æœ€å°å€¼ä¹‹å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/sum-of-subarray-minimums/description/)\n* ğŸŸ¨ [2104. å­æ•°ç»„èŒƒå›´å’Œ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/sum-of-subarray-ranges/description/)\n* ğŸŸ¨ [2865. ç¾ä¸½å¡” I - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/beautiful-towers-i/description/)\n\n### ä¿å­˜å…³é”®å­—ç¬¦\n\né¦–å…ˆè€ƒè™‘ä¸€ä¸ªç®€å•çš„é—®é¢˜ï¼šç»™å®šä¸€ä¸ªå­—ç¬¦ä¸² sï¼Œå¦‚ä½•å»æ‰å…¶ä¸­çš„ä¸€ä¸ªå­—ç¬¦ chï¼Œä½¿å¾—å¾—åˆ°çš„å­—ç¬¦ä¸²å­—å…¸åºæœ€å°å‘¢ï¼Ÿç­”æ¡ˆæ˜¯ï¼šæ‰¾å‡ºæœ€å°çš„æ»¡è¶³ `s[i]>s[i+1]` çš„ä¸‹æ ‡ `i`ï¼Œå¹¶å»é™¤å­—ç¬¦ `s[i]`ã€‚æˆ‘ä»¬ç§°è¿™æ ·çš„å­—ç¬¦ä¸ºã€Œå…³é”®å­—ç¬¦ã€ã€‚\n\nç›¸å…³é¢˜ç›®ï¼š\n\n- ğŸŸ¨ [316. å»é™¤é‡å¤å­—æ¯ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/remove-duplicate-letters/description/)\n\n# æœ€å°æ ˆ\n\n> [!example] ğŸŸ¨ [155. æœ€å°æ ˆ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/min-stack/description/)\n> è¯·ä½ è®¾è®¡ä¸€ä¸ªÂ **æœ€å°æ ˆ**Â ã€‚å®ƒæä¾›Â `push`Â ï¼Œ`pop`Â ï¼Œ`top`Â æ“ä½œï¼Œå¹¶èƒ½åœ¨å¸¸æ•°æ—¶é—´å†…æ£€ç´¢åˆ°æœ€å°å…ƒç´ çš„æ ˆã€‚\n\næš´åŠ›åšæ³•å°±æ˜¯æ¯æ¬¡è·å–è¾—è½¬æœ€å°å€¼æ—¶äºŒåˆ†æŸ¥æ‰¾æœ€å°å€¼ï¼Œæˆ–è€…å¦å¤–ç»´æŠ¤å †ç»“æ„ã€‚ä½†æ˜¯è¿™æ ·çš„è¯ï¼ŒæŸ¥æ‰¾çš„æ—¶é—´å¤æ‚åº¦æˆ–ç»´æŠ¤å †çš„æ—¶é—´å¤æ‚åº¦è¾ƒé«˜ã€‚\n\nå¯¹äºæ ˆæ¥è¯´ï¼Œå¦‚æœä¸€ä¸ªå…ƒç´  a åœ¨å…¥æ ˆæ—¶ï¼Œæ ˆé‡Œæœ‰å…¶å®ƒçš„å…ƒç´  b, c, dï¼Œé‚£ä¹ˆæ— è®ºè¿™ä¸ªæ ˆåœ¨ä¹‹åç»å†äº†ä»€ä¹ˆæ“ä½œï¼Œåªè¦ a åœ¨æ ˆä¸­ï¼Œb, c, d å°±ä¸€å®šåœ¨æ ˆä¸­ï¼Œå› ä¸ºåœ¨ a è¢«å¼¹å‡ºä¹‹å‰ï¼Œb, c, d ä¸ä¼šè¢«å¼¹å‡ºã€‚å› æ­¤ï¼Œåœ¨æ“ä½œè¿‡ç¨‹ä¸­çš„ä»»æ„ä¸€ä¸ªæ—¶åˆ»ï¼Œåªè¦æ ˆé¡¶çš„å…ƒç´ æ˜¯ aï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±å¯ä»¥ç¡®å®šæ ˆé‡Œé¢ç°åœ¨çš„å…ƒç´ ä¸€å®šæ˜¯ a, b, c, dã€‚é‚£ä¹ˆï¼Œæˆ‘ä»¬å¯ä»¥åœ¨æ¯ä¸ªå…ƒç´  a å…¥æ ˆæ—¶æŠŠå½“å‰æ ˆçš„æœ€å°å€¼ m å­˜å‚¨èµ·æ¥ã€‚åœ¨è¿™ä¹‹åæ— è®ºä½•æ—¶ï¼Œå¦‚æœæ ˆé¡¶å…ƒç´ æ˜¯ aï¼Œæˆ‘ä»¬å°±å¯ä»¥ç›´æ¥è¿”å›å­˜å‚¨çš„æœ€å°å€¼ mã€‚\n\n## åŸºæœ¬åšæ³•ï¼šåŒæ ˆ\n\n```java\nclass MinStack {\n    Deque<Integer> stack = new LinkedList<>();\n    Deque<Integer> m_stack = new LinkedList<>();\n    int min = Integer.MAX_VALUE;\n\n    /** initialize your data structure here. */\n    public MinStack() {}\n    \n    public void push(int x) {\n        min = Math.min(min,x);\n        stack.push(x);\n        m_stack.push(min);\n    }\n    \n    public void pop() {\n        stack.pop();\n        m_stack.pop();\n        min = m_stack.peek()==null?min = Integer.MAX_VALUE:m_stack.peek();\n    }\n    \n    public int top() {\n        return stack.peek();\n    }\n    \n    public int getMin() {\n        return m_stack.peek();\n    }\n}\n```\n\nå¦‚æœä½ è§‰å¾—ä¸Šé¢çš„ä»£ç è¿˜ä¸å¤Ÿç®€æ´ï¼Œä½ å¯ä»¥å»æ‰å…¨å±€ `min`ï¼Œå¹¶åœ¨æ ˆåˆå§‹åŒ–æ—¶ï¼Œæå‰å°† `Integer.MAX_VALUE` å“¨å…µæ”¾å…¥ `m_stack` ä¸­ã€‚\n\n![image.png|400](https://cdn.gallery.uuanqin.top/img/202510170021537.webp)\n\nå¤æ‚åº¦åˆ†æï¼š\n\n- æ—¶é—´å¤æ‚åº¦ï¼šå¯¹äºé¢˜ç›®ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œæ—¶é—´å¤æ‚åº¦å‡ä¸º $O(1)$ã€‚å› ä¸ºæ ˆçš„æ’å…¥ã€åˆ é™¤ä¸è¯»å–æ“ä½œéƒ½æ˜¯ $O(1)$ï¼Œæˆ‘ä»¬å®šä¹‰çš„æ¯ä¸ªæ“ä½œæœ€å¤šè°ƒç”¨æ ˆæ“ä½œä¸¤æ¬¡ã€‚\n- ç©ºé—´å¤æ‚åº¦ï¼š$O(n)$ï¼Œå…¶ä¸­ n ä¸ºæ€»æ“ä½œæ•°ã€‚æœ€åæƒ…å†µä¸‹ï¼Œæˆ‘ä»¬ä¼šè¿ç»­æ’å…¥ n ä¸ªå…ƒç´ ï¼Œæ­¤æ—¶ä¸¤ä¸ªæ ˆå ç”¨çš„ç©ºé—´ä¸º $O(n)$ã€‚\n\n## å¸¸æ•°ä¼˜åŒ–ï¼šè¾…åŠ©æ ˆç»´æŠ¤æ›´å°‘çš„å…ƒç´ \n\nåœ¨åŸºæœ¬çš„åšæ³•ä¸­ï¼Œæ¯ä¸ª `stack` ä¸­çš„å…ƒç´ éƒ½å¯¹åº” `m_stack` ä¸­ä¸€ä¸ªå…ƒç´ ã€‚å…¶å® `m_stack` ä¸­ä¼šæœ‰é‡å¤çš„å…ƒç´ æ”¾å…¥ã€‚\n\næ”¹è¿›åï¼ŒåŒæ ˆåˆ†å·¥ï¼š\n\n- æ•°æ®æ ˆ A ï¼š æ ˆ A ç”¨äºå­˜å‚¨æ‰€æœ‰å…ƒç´ ï¼Œä¿è¯å…¥æ ˆ `push()` å‡½æ•°ã€å‡ºæ ˆ `pop()` å‡½æ•°ã€è·å–æ ˆé¡¶ `top()` å‡½æ•°çš„æ­£å¸¸é€»è¾‘ã€‚\n- è¾…åŠ©æ ˆ B ï¼š æ ˆ B ä¸­å­˜å‚¨æ ˆ A ä¸­æ‰€æœ‰ éä¸¥æ ¼é™åº å…ƒç´ çš„å­åºåˆ—ï¼Œåˆ™æ ˆ A ä¸­çš„æœ€å°å…ƒç´ å§‹ç»ˆå¯¹åº”æ ˆ B çš„æ ˆé¡¶å…ƒç´ ã€‚æ­¤æ—¶ï¼Œ`getMin()` å‡½æ•°åªéœ€è¿”å›æ ˆ B çš„æ ˆé¡¶å…ƒç´ å³å¯ã€‚\n\n![image.png|375](https://cdn.gallery.uuanqin.top/img/202510170006421.webp)\n\nè¾…åŠ©æ ˆä¸­å…ƒç´ ä»¥ã€Œéä¸¥æ ¼é™åºã€è¿›è¡Œæ’åºï¼Œé˜²æ­¢è¾…åŠ©æ ˆæå‰å¼¹å‡ºæœ€å°å€¼ï¼š\n\n![image.png|425](https://cdn.gallery.uuanqin.top/img/202510170009538.webp)\n\nå‚è€ƒå®ç°ï¼š\n\n```java\nclass MinStack {\n    Deque<Integer> stack = new LinkedList<>();\n    Deque<Integer> m_stack = new LinkedList<>();\n\n    public MinStack() {\n        m_stack.push(Integer.MAX_VALUE);\n    }\n    \n    public void push(int x) {\n        stack.push(x);\n        if(x<=m_stack.peek()){\n            m_stack.push(x);\n        }\n    }\n    \n    public void pop() {\n        int o = stack.pop();\n       \n        if(o==m_stack.peek()){\n            m_stack.pop();\n        }\n        \n    }\n    \n    public int top() {\n        return stack.peek();\n    }\n    \n    public int getMin() {\n        return m_stack.peek();\n    }\n}\n```\n\n## å¸¸æ•°ä¼˜åŒ–ï¼šåªä½¿ç”¨ä¸€ä¸ªæ ˆ\n\næˆ‘ä»¬å–æ¶ˆè¾…åŠ©æ ˆï¼Œå¼•å…¥å…¨å±€å˜é‡ `min`ï¼Œå®æ—¶ç»´æŠ¤å½“å‰æ ˆä¸­æœ€å°å€¼ã€‚è€Œå”¯ä¸€çš„æ ˆç»“æ„ç”¨æ¥ä¿å­˜å…¥æ ˆæ—¶çš„å…ƒç´ ä¸å½“å‰ `min` çš„å·®å€¼ã€‚å› æ­¤æˆ‘ä»¬æœ€éœ€è¦å…³æ³¨çš„åœ°æ–¹ä¸ºï¼š\n\n- å¼¹æ ˆæ—¶ï¼Œå¦‚ä½•ç»´æŠ¤å¥½ `min`\n- å¼¹æ ˆæ—¶ï¼Œå¹¶è¿”å›æ­£ç¡®çš„åˆå§‹å…ƒç´ \n\n```java\nclass MinStack {\n    Deque<Long> stack = new LinkedList<>();\n    long min;\n\n    public MinStack() {}\n    \n    public void push(int x) {\n        if(stack.isEmpty()){\n            min = x;\n            stack.push(0L);\n            return;\n        }\n        long delta = x-min;\n        if(delta<0L){\n            min = x;\n        }\n        stack.push(delta);\n    }\n    \n    public void pop() {\n        Long o = stack.peek();\n       \n        if(o<0){\n            min = min-o;\n        }       \n        stack.pop();\n    }\n    \n    public int top() {\n        Long o = stack.peek();\n        \n        return (int)(o>0?o+min:min);\n    }\n    \n    public int getMin() {\n        return (int)min;\n    }\n}\n```\n\n# æœ¬æ–‡å‚è€ƒ\n\n- [å•è°ƒæ ˆ - OI Wiki (oi-wiki.org)](https://oi-wiki.org/ds/monotonous-stack/) é™¤åº”ç”¨ä¸ä¹ é¢˜éƒ¨åˆ†\n- [LCR 147. æœ€å°æ ˆ - @Krahets çš„é¢˜è§£ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/bao-han-minhan-shu-de-zhan-lcof/solutions/133760/mian-shi-ti-30-bao-han-minhan-shu-de-zhan-fu-zhu-z/)\n","categories":[{"name":"ç®—æ³•ä¸æ•°æ®ç»“æ„","api":"api/categories/ç®—æ³•ä¸æ•°æ®ç»“æ„.json"}],"tags":[{"name":"Java","api":"api/tags/Java.json"},{"name":"å•è°ƒæ ˆ","api":"api/tags/å•è°ƒæ ˆ.json"},{"name":"æœ€å°æ ˆ","api":"api/tags/æœ€å°æ ˆ.json"},{"name":"æ ˆ","api":"api/tags/æ ˆ.json"}]},"api":"api/posts/p/509c69f4.json"}