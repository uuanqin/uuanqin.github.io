{"title":"Butterfly 侧边栏实现 Obsidian 关系图谱","tags":["Butterfly","Obsidian","Cosma","Python","NPM","script","YAML","Markdown","HTML","CSS","项目","GitHub"],"cover":"https://cdn.gallery.uuanqin.top/img/relationcover.png","description":"通过自制脚本实现文章关系图绘制以及加入 Hexo 部署自动化流程中","categories":["博客站点维护","Hexo"],"abbrlink":"f6c0daf3","date":"2023-08-11T22:30:29.000Z","top_img":null,"summary":"> [!success] 本文不涉及对主题源代码的修改 > [!hint] 兼容性信息 > - 文章中脚本已适配 cosma 2.4.0 版本 `231227` > - cosma v2.1.0 版本更新后，原生支持 Obsidian 标题形式的双向链接，但优先识别 id 字段。本脚本执行过程会向输出文件增加 id 元数据，所以脚本在新版本 cosma 下仍能正确实现预期的功能。更多信息详见：Cosma | Changelog (arthurperret.fr) 本文包含的项目： [](https://github.com/uuanqin/obsidian2cosma) 挖坑 由于最近使用 Obsidian 写文章，页面之间的链接越来越丰富，关系图谱越来越复杂。我在想能不能有一种方法可以把 Obsidian 的这张关系图导出放在网站上呢？经历一番探索之后，我发现 Obsidian 官方是推出过关系图生成网页的功能的：Obsidian Publish，但它是付费服务。 终于，我在 Obsidian 的论坛找到了我想要的：Share the graph view and notes as HTML page for free with obsidian2cosma - Share & showcase - Obsidian Forum。在这篇帖子中，作者利用一款可以生成这种关系图的开源 APP Cosma 进行生成。Cosma 可以生成一个 HTML 网页，在包含关系图的同时提供对各个结点的交互，让用户在多种视图下审阅知识库的内容。 为了让文章中的双向链接能被 Cosma 识别，帖子作者 Kévin Polisano 还自己编写了一个 Python 命令行工具，将 Obsidian 知识库中的文章的 Front-matter、以及双向链接的格式进行替换，以使得 Cosma 能够识别文章。这一点就让我看到了 Hexo 关系图谱实现的可能性，于是耗时一个星期的挖坑开始了...... 效果 文章在 Obsidian 中显示的关系视图是这样的： 在 Hexo 侧边栏是这样的： 主关系图网页是这样的： 包含了各种标签筛选、视图以及文章查看等功能。 思路 整个过程分为几个步骤，我的愿景是脚本全自动进行。..."}