{"data":{"title":"自定义文章内外链接样式的另一种方法（使用 markdown-it 插件）","slug":"Archive/OutOfDate/自定义文章内外链接样式的另一种方法（使用 markdown-it 插件）","description":"介绍一款 markdown-it 插件以区分文章中的外部链接和内部链接","date":"2023-08-26T16:45:18.000Z","updated":"2024-11-24T18:58:23.672Z","language":"zh-CN","comments":true,"url":"p/7a103a3/","cover":"https://cdn.gallery.uuanqin.top/img/new-out-of-date-cover.png","images":[],"content":"\n<div class=\"callout\" data-callout=\"warning\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-alert-triangle\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>\n</div>\n<div class=\"callout-title-inner\">这是一篇过期文章 <code>241124</code></div>\n</div>\n<div class=\"callout-content\"><p></p>\n<ul>\n<li>该插件并不实用，被博主长期弃用</li>\n<li>要达到更好的链接效果，不如看这两篇文章：\n<ul>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/8aa53d93/\"><span class=\"bilink-pop-up\">站内文章</span>自定义 Hexo 中的超链接样式</a></li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/d4bc55f2/\"><span class=\"bilink-pop-up\">站内文章</span>Hexo 博客适配 Obsidian 新语法</a></li>\n</ul>\n</li>\n<li>内容比较水哈</li>\n</ul>\n</div></div><p>我们有很多种方式美化我们文章中的链接。在有些情况下，我们可能需要为文章中的外部链接和内部链接进行区分，分别设置它们的样式。</p>\n<h1 id=\"插件介绍\"><a class=\"markdownIt-Anchor\" href=\"#插件介绍\"></a> 插件介绍</h1>\n<p><a href=\"https://github.com/rotorz/markdown-it-external-links#readme\">markdown-it-external-links</a> 是一款 Markdown 渲染插件，为不同类型的链接增加 CSS class。</p>\n<p>例如，你的文章中的链接：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">Internal Link A</span>](<span class=\"link\">/</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">Internal Link B</span>](<span class=\"link\">//example.org</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">Internal Link C</span>](<span class=\"link\">http://example.org</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">Internal Link D</span>](<span class=\"link\">other-page.html</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">Internal Link E</span>](<span class=\"link\">.././other-page.html</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">External Link A</span>](<span class=\"link\">//example.com</span>)</span><br><span class=\"line\"><span class=\"bullet\">-</span> [<span class=\"string\">External Link B</span>](<span class=\"link\">http://example.com</span>)</span><br></pre></td></tr></table></figure>\n<p>将会被渲染为：</p>\n<figure class=\"highlight markdown\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">ul</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;/&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;internal-link&quot;</span>&gt;</span></span>Internal Link A<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;//example.org&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;internal-link&quot;</span>&gt;</span></span>Internal Link B<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://example.org&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;internal-link&quot;</span>&gt;</span></span>Internal Link C<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;other-page.html&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;internal-link&quot;</span>&gt;</span></span>Internal Link D<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;.././other-page.html&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;internal-link&quot;</span>&gt;</span></span>Internal Link E<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;//example.com&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;external-link&quot;</span>&gt;</span></span>External Link A<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\">  <span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">li</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;<span class=\"name\">a</span> <span class=\"attr\">href</span>=<span class=\"string\">&quot;http://example.com&quot;</span> <span class=\"attr\">class</span>=<span class=\"string\">&quot;external-link&quot;</span>&gt;</span></span>External Link B<span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">a</span>&gt;</span></span><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">li</span>&gt;</span></span></span><br><span class=\"line\"><span class=\"language-xml\"><span class=\"tag\">&lt;/<span class=\"name\">ul</span>&gt;</span></span></span><br></pre></td></tr></table></figure>\n<h1 id=\"使用\"><a class=\"markdownIt-Anchor\" href=\"#使用\"></a> 使用</h1>\n<p>在博客项目中安装插件：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">npm install --save markdown-it-external-links</span><br></pre></td></tr></table></figure>\n<p>如果你的 Markdown 渲染引擎为 <a href=\"https://www.npmjs.com/package/hexo-renderer-markdown-it\">hexo-renderer-markdown-it</a> 或 <a href=\"https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus\">hexo-renderer-markdown-it-plus</a> <sup class=\"footnote-ref\"><a href=\"#fn1\" id=\"fnref1\">[1]</a></sup>，则在配置文件 <code>_config.yml</code> 中对应的地方引入该插件。</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\"># markdown_it_plus 语法渲染插件选项</span></span><br><span class=\"line\"><span class=\"attr\">markdown_it_plus:</span></span><br><span class=\"line\">\t<span class=\"attr\">plugins:</span></span><br><span class=\"line\">\t\t<span class=\"comment\"># markdown-it-external-links 外部链接</span></span><br><span class=\"line\">\t\t<span class=\"bullet\">-</span> <span class=\"attr\">plugin:</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">name:</span> <span class=\"string\">markdown-it-external-links</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">enable:</span> <span class=\"literal\">true</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">options:</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\"># this is plugin option</span></span><br><span class=\"line\">\t\t\t<span class=\"attr\">externalClassName:</span> <span class=\"string\">link-external</span></span><br><span class=\"line\">\t\t\t<span class=\"comment\"># internalClassName:</span></span><br></pre></td></tr></table></figure>\n<p><code>externalClassName</code> 则允许我们自定义外部链接采用的样式名，这里为 <code>link-external</code>。</p>\n<p>这里我以 CodePen 项目 <a href=\"https://codepen.io/decemberly/pen/JOrBxo\">Awesome link underlines</a> 为例，将下面的 CSS 引入主题中，注意 CSS 选择器要重命名：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"selector-class\">.link-external</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: black;</span><br><span class=\"line\">\t<span class=\"attribute\">border-bottom</span>: <span class=\"number\">0.1em</span> solid <span class=\"number\">#669900</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">outline</span>: <span class=\"number\">1em</span> solid <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">215</span>, <span class=\"number\">0</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">text-decoration</span>: none;</span><br><span class=\"line\">\t<span class=\"attribute\">transition</span>: all <span class=\"number\">0.3s</span> ease;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"selector-class\">.link-external</span><span class=\"selector-pseudo\">:hover</span>, <span class=\"selector-class\">.link-external</span><span class=\"selector-pseudo\">:focus</span>, <span class=\"selector-class\">.link-external</span><span class=\"selector-pseudo\">:active</span> &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">background</span>: <span class=\"number\">#b5ca4226</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">outline</span>: <span class=\"number\">0.1em</span> solid <span class=\"number\">#b5ca4226</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>Butterfly 的引入方法为：</p>\n<ol>\n<li>打开主题配置文件（<code>butterfly.yml</code>）</li>\n<li>定位搜索 inject</li>\n<li>其中 head 是用来引入 css 的</li>\n</ol>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;your</span> <span class=\"string\">css&quot;&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">src=&quot;your</span> <span class=\"string\">js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"效果预览\"><a class=\"markdownIt-Anchor\" href=\"#效果预览\"></a> 效果预览</h1>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/hovermousedemo.gif\" alt=\"demo\" /></p>\n<p>当然，我选的这个项目比较简单，你可以设置更复杂的样式分别对两种链接进行美化。</p>\n<h1 id=\"后续改进\"><a class=\"markdownIt-Anchor\" href=\"#后续改进\"></a> 后续改进</h1>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input class=\"task-list-item-checkbox\" checked=\"\" disabled=\"\" type=\"checkbox\"> 由于我的博客写作使用 Obsidian，内部链接一般使用双向链接的<strong>双中括号</strong>语法，这个插件暂时还识别不出。后续有时间改进一下。截至目前，双中括号语法已写新插件，这个问题有望解决：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/d4bc55f2/\"><span class=\"bilink-pop-up\">站内文章</span>Hexo 博客适配 Obsidian 新语法</a>。<code>241124</code> 问题已经解决</li>\n</ul>\n<hr class=\"footnotes-sep\" />\n<section class=\"footnotes\">\n<ol class=\"footnotes-list\">\n<li id=\"fn1\" class=\"footnote-item\"><p>关于这两款插件的介绍可以参考：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/d4bc55f2/\"><span class=\"bilink-pop-up\">站内文章</span>Hexo 博客适配 Obsidian 新语法</a> 中的第一部分 <a href=\"#fnref1\" class=\"footnote-backref\">↩︎</a></p>\n</li>\n</ol>\n</section>\n","raw":"---\ntitle: 自定义文章内外链接样式的另一种方法（使用 markdown-it 插件）\ntags:\n  - Markdown\n  - NPM\n  - markdown-it\n  - css\n  - Codepen\ncover: 'https://cdn.gallery.uuanqin.top/img/new-out-of-date-cover.png'\ndescription: 介绍一款 markdown-it 插件以区分文章中的外部链接和内部链接\ncategories:\n  - Archive\n  - OutOfDate\nabbrlink: 7a103a3\ndate: 2023-08-27 00:45:18\ntop_img:\n---\n\n> [!warning] 这是一篇过期文章 `241124`\n> - 该插件并不实用，被博主长期弃用\n> - 要达到更好的链接效果，不如看这两篇文章：\n> \t- [[自定义 Hexo 中的超链接样式]]\n> \t- [[Hexo 博客适配 Obsidian 新语法]]\n> - 内容比较水哈\n\n我们有很多种方式美化我们文章中的链接。在有些情况下，我们可能需要为文章中的外部链接和内部链接进行区分，分别设置它们的样式。\n\n# 插件介绍\n\n[markdown-it-external-links](https://github.com/rotorz/markdown-it-external-links#readme) 是一款 Markdown 渲染插件，为不同类型的链接增加 CSS class。\n\n例如，你的文章中的链接：\n\n```markdown\n- [Internal Link A](/)\n- [Internal Link B](//example.org)\n- [Internal Link C](http://example.org)\n- [Internal Link D](other-page.html)\n- [Internal Link E](.././other-page.html)\n- [External Link A](//example.com)\n- [External Link B](http://example.com)\n```\n\n将会被渲染为：\n\n```markdown\n<ul>\n  <li><a href=\"/\" class=\"internal-link\">Internal Link A</a></li>\n  <li><a href=\"//example.org\" class=\"internal-link\">Internal Link B</a></li>\n  <li><a href=\"http://example.org\" class=\"internal-link\">Internal Link C</a></li>\n  <li><a href=\"other-page.html\" class=\"internal-link\">Internal Link D</a></li>\n  <li><a href=\".././other-page.html\" class=\"internal-link\">Internal Link E</a></li>\n  <li><a href=\"//example.com\" class=\"external-link\">External Link A</a></li>\n  <li><a href=\"http://example.com\" class=\"external-link\">External Link B</a></li>\n</ul>\n```\n\n# 使用\n\n在博客项目中安装插件：\n\n```sh\nnpm install --save markdown-it-external-links\n```\n\n如果你的 Markdown 渲染引擎为 [hexo-renderer-markdown-it](https://www.npmjs.com/package/hexo-renderer-markdown-it) 或 [hexo-renderer-markdown-it-plus](https://github.com/CHENXCHEN/hexo-renderer-markdown-it-plus) [^mdi]，则在配置文件 `_config.yml` 中对应的地方引入该插件。\n\n```yaml\n# markdown_it_plus 语法渲染插件选项\nmarkdown_it_plus:\n\tplugins:\n\t\t# markdown-it-external-links 外部链接\n\t\t- plugin:\n\t\t\tname: markdown-it-external-links\n\t\t\tenable: true\n\t\t\toptions:\n\t\t\t# this is plugin option\n\t\t\texternalClassName: link-external\n\t\t\t# internalClassName:\n```\n\n[^mdi]: 关于这两款插件的介绍可以参考：[[Hexo 博客适配 Obsidian 新语法]] 中的第一部分\n\n`externalClassName` 则允许我们自定义外部链接采用的样式名，这里为 `link-external`。\n\n这里我以 CodePen 项目 [Awesome link underlines](https://codepen.io/decemberly/pen/JOrBxo) 为例，将下面的 CSS 引入主题中，注意 CSS 选择器要重命名：\n\n```css\n.link-external {\n\tcolor: black;\n\tborder-bottom: 0.1em solid #669900;\n\toutline: 1em solid rgba(255, 215, 0, 0);\n\ttext-decoration: none;\n\ttransition: all 0.3s ease;\n}\n.link-external:hover, .link-external:focus, .link-external:active {\n\tbackground: #b5ca4226;\n\toutline: 0.1em solid #b5ca4226;\n}\n```\n\nButterfly 的引入方法为：\n\n1. 打开主题配置文件（`butterfly.yml`）\n2. 定位搜索 inject\n3. 其中 head 是用来引入 css 的\n\n```yaml\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"your css\">\n  bottom:\n    - <script src=\"your js\"></script>\n```\n\n# 效果预览\n\n![demo](https://cdn.gallery.uuanqin.top/img/hovermousedemo.gif)\n\n当然，我选的这个项目比较简单，你可以设置更复杂的样式分别对两种链接进行美化。\n\n# 后续改进\n\n- [x] 由于我的博客写作使用 Obsidian，内部链接一般使用双向链接的**双中括号**语法，这个插件暂时还识别不出。后续有时间改进一下。截至目前，双中括号语法已写新插件，这个问题有望解决：[[Hexo 博客适配 Obsidian 新语法]]。`241124` 问题已经解决","categories":[{"name":"Archive","api":"api/categories/Archive.json"},{"name":"OutOfDate","api":"api/categories/Archive/OutOfDate.json"}],"tags":[{"name":"css","api":"api/tags/css.json"},{"name":"Markdown","api":"api/tags/Markdown.json"},{"name":"NPM","api":"api/tags/NPM.json"},{"name":"markdown-it","api":"api/tags/markdown-it.json"},{"name":"Codepen","api":"api/tags/Codepen.json"}]},"api":"api/posts/p/7a103a3.json"}