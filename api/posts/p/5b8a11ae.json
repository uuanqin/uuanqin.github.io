{"data":{"title":"å»ºé€ è€…æ¨¡å¼çš„ä¸¤ç§ä¸åŒå®ç°æ–¹å¼","slug":"é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼/å»ºé€ è€…æ¨¡å¼çš„ä¸¤ç§ä¸åŒå®ç°æ–¹å¼","description":"è§£å†³äº†æ„é€ å‚æ•°ååˆ†å¤æ‚çš„é—®é¢˜","date":"2025-07-14T15:53:28.000Z","updated":"2025-08-31T08:27:35.088Z","language":"zh-CN","comments":true,"url":"p/5b8a11ae/","cover":"https://cdn.gallery.uuanqin.top/img/202508301729904.webp","images":[],"content":"<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/20240731143918.webp\" alt=\"\" width=\"375px\" /></p>\n<p>åˆ›å»ºä¸€ä¸ªå¯¹è±¡æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ <code>new</code> å…³é”®å­—åˆ›å»ºå‡ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™è¿™ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•å¹¶ä¸é€‚ç”¨ã€‚</p>\n<p>å»ºé€ è€…æ¨¡å¼ï¼ˆåˆç§°ä¸ºæ„å»ºè€…æ¨¡å¼æˆ–ç”Ÿæˆå™¨æ¨¡å¼ï¼‰ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒç”¨äºç»„è£…å¤æ‚çš„å®ä¾‹ã€‚å®ƒå¯<strong>å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å…¶è¡¨ç¤ºåˆ†ç¦»</strong>ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ç”¨æˆ·åªéœ€è¦æŒ‡å®šéœ€è¦å»ºé€ çš„ç±»å‹å°±å¯ä»¥ å¾—åˆ°è¯¥ç±»å‹å¯¹åº”çš„äº§å“å®ä¾‹ , ä¸å…³å¿ƒå»ºé€ è¿‡ç¨‹ç»†èŠ‚ã€‚</p>\n<h1 id=\"å»ºé€ è€…æ¨¡å¼\"><a class=\"markdownIt-Anchor\" href=\"#å»ºé€ è€…æ¨¡å¼\"></a> å»ºé€ è€…æ¨¡å¼</h1>\n<p>å»ºé€ è€…æ¨¡å¼æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€ç§æ˜¯ GoF ä¸­æå‡ºçš„ä¼ ç»Ÿçš„å»ºé€ è€…æ¨¡å¼å†™æ³•ï¼Œä¸€ç§æ˜¯ç°åœ¨å¸¸ç”¨çš„ä¸å¸¦ä¸»ç®¡ç±»çš„å†™æ³•ã€‚</p>\n<h2 id=\"ä¸åŒçš„å®ç°æ–¹å¼\"><a class=\"markdownIt-Anchor\" href=\"#ä¸åŒçš„å®ç°æ–¹å¼\"></a> ä¸åŒçš„å®ç°æ–¹å¼</h2>\n<h3 id=\"gof-ä¸­çš„å»ºé€ è€…æ¨¡å¼\"><a class=\"markdownIt-Anchor\" href=\"#gof-ä¸­çš„å»ºé€ è€…æ¨¡å¼\"></a> GoF ä¸­çš„å»ºé€ è€…æ¨¡å¼</h3>\n<blockquote>\n<p>è¿™é‡Œä»‹ç»çš„å»ºé€ è€…æ¨¡å¼çš„å®ç°æ¥è¿‘äº GoF çš„æ€æƒ³ã€‚</p>\n</blockquote>\n<p>ç™»åœºè§’è‰²ï¼š</p>\n<ul>\n<li><code>Product</code>ï¼ˆäº§å“ï¼‰ï¼šæˆ‘ä»¬éœ€è¦è·å¾—çš„ç±»ã€‚</li>\n<li><code>Builder</code>ï¼ˆæŠ½è±¡å»ºé€ è€…ï¼‰ï¼šå®šä¹‰ç”¨äºç”Ÿæˆå®ä¾‹çš„æ¥å£ï¼ˆAPIï¼‰ï¼Œå‡†å¤‡ç”¨äºç”Ÿæˆå®ä¾‹çš„æ–¹æ³•ã€‚</li>\n<li><code>ConcreteBuilder</code>ï¼ˆå…·ä½“çš„å»ºé€ è€…ï¼‰ï¼šè´Ÿè´£å®ç° <code>Builder</code> è§’è‰²æ¥å£ï¼ˆAPIï¼‰çš„ç±»ã€‚ConcreteBuilder è¿˜å®šä¹‰äº†è·å–æœ€ç»ˆç”Ÿæˆç»“æœï¼ˆäº§å“ï¼‰çš„æ–¹æ³•ã€‚</li>\n<li><code>Director</code>ï¼ˆç›‘å·¥/æŒ‡æŒ¥è€…ï¼‰ï¼šè´Ÿè´£ä½¿ç”¨ <code>Builder</code> è§’è‰²çš„æ¥å£ï¼ˆAPIï¼‰æ¥ç”Ÿæˆå®ä¾‹ï¼Œå®ƒå¹¶ä¸ä¾èµ–äº <code>ConcreteBuilder</code> è§’è‰²ï¼ˆå®ƒåªè°ƒç”¨åœ¨ <code>Builder</code> è§’è‰²ä¸­è¢«å®šä¹‰çš„æ–¹æ³•ï¼‰ã€‚æ³¨æ„æ˜¯å…·ä½“ç±»ã€‚ç»„è£…çš„å…·ä½“è¿‡ç¨‹éšè—åœ¨ <code>Director</code> ä¸­ã€‚</li>\n<li><code>Client</code>ï¼ˆä½¿ç”¨è€…ï¼‰ï¼šä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚</li>\n</ul>\n<p>åœ¨ GoF ä¹¦ä¸­æ²¡æœ‰ <code>Client</code> å’Œ <code>Product</code> è¿™ä¸¤ä¸ªè§’è‰²ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£è€Œå¼•å…¥ã€‚</p>\n<p>å»ºé€ è€…ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">param1</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">param2</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">param3</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// æŠ½è±¡å»ºé€ è€…</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Builder</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">protected</span> <span class=\"type\">Product</span> <span class=\"variable\">product</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// ä¸€äº›å»ºé€ çš„å‡½æ•°</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Builder <span class=\"title function_\">buildPart1</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Builder <span class=\"title function_\">buildPart2</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Builder <span class=\"title function_\">buildPart3</span><span class=\"params\">()</span>;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">abstract</span> Product <span class=\"title function_\">getProduct</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//å…·ä½“å»ºé€ è€…ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ConcreteBuilder</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Builder</span> &#123;</span><br><span class=\"line\">\t<span class=\"comment\">/* å…·ä½“å»ºé€ è€…å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å˜é‡ */</span></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder <span class=\"title function_\">buildPart1</span><span class=\"params\">()</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder <span class=\"title function_\">buildPart2</span><span class=\"params\">()</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder <span class=\"title function_\">buildPart3</span><span class=\"params\">()</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Product <span class=\"title function_\">getProduct</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">        <span class=\"comment\">/* è·å–äº§å“å‰çš„ä¸€äº›å¤„ç† */</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">return</span> product;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Director</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">private</span> Builder builder; <span class=\"comment\">// Director å¹¶ä¸å…³å¿ƒå…·ä½“ä½¿ç”¨äº†å“ªä¸ª Builder</span></span><br><span class=\"line\">\t<span class=\"comment\">// ä½¿ç”¨æ„é€ æ–¹æ³•æˆ– set æ–¹æ³•ä¼ å…¥å…·ä½“çš„ builder</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"title function_\">Director</span><span class=\"params\">(Builder builder)</span>&#123;</span><br><span class=\"line\">\t\t<span class=\"built_in\">this</span>.builder = builder;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// å»ºé€ å·¥ä½œï¼Œä¿è¯äº†ä¸€äº›å¿…é€‰æ­¥éª¤æ­£ç¡®æ‰§è¡Œ</span></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">build</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\t  <span class=\"comment\">/* çœç•¥ä¸€äº›å‰ç½®å¤„ç†æ“ä½œ */</span></span><br><span class=\"line\">\t  builder.buildPart1();</span><br><span class=\"line\">\t  builder.buildPart2();</span><br><span class=\"line\">\t  builder.buildPart3();</span><br><span class=\"line\">\t  <span class=\"comment\">/* çœç•¥ä¸€äº›åå¤„ç†æ“ä½œ */</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// ç”¨æˆ·è°ƒç”¨æ–¹å¼</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Client</span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span>&#123;</span><br><span class=\"line\">\t    <span class=\"type\">Builder</span> <span class=\"variable\">builder</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ConcreteBuilder</span>(); </span><br><span class=\"line\">\t\t<span class=\"type\">Director</span> <span class=\"variable\">director</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Director</span>(builder);</span><br><span class=\"line\">\t\tdirector.build();</span><br><span class=\"line\">\t\t<span class=\"type\">Product</span> <span class=\"variable\">product</span> <span class=\"operator\">=</span> builder.getProduct();</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507090014252.webp\" alt=\"image.png\" /></p>\n<p>å»ºé€ è€…æ¨¡å¼çš„æ—¶åºå›¾ï¼š</p>\n<pre><code class=\"highlight mermaid\">sequenceDiagram\n    participant C as Client\n    participant D as Director\n    participant B as ConcreteBuilder\n    activate C\n    C -&gt;&gt; B : new\n    activate B\n    deactivate B\n    C -&gt;&gt; D : build\n    activate D\n    D -&gt;&gt; B : buildPart1\n    activate B\n    B --&gt;&gt; D : \n    deactivate B\n\tD -&gt;&gt; B : buildPart2\n    activate B\n    B --&gt;&gt; D : \n    deactivate B\n    D -&gt;&gt; B : buildPart3\n    activate B\n    B --&gt;&gt; D : \n    deactivate B\n    D --&gt;&gt; C : \n    deactivate D\n    C -&gt;&gt; B : getProduct\n    activate B\n    B --&gt;&gt; C : \n    deactivate B\n    deactivate C</code></pre>\n<p>åœ¨å»ºé€ è€…æ¨¡å¼ä¸­ï¼Œ<code>Main</code> ä¸çŸ¥é“ <code>Builder</code> ç±»ï¼Œ<code>Director</code> ä¸çŸ¥é“ <code>ConcreteBuilder</code> ç±»ã€‚å¯æ›¿æ¢æ€§å°±ä½“ç°åœ¨ã€Œåªæœ‰ä¸çŸ¥é“å­ç±»æ‰èƒ½æ›¿æ¢ã€ã€‚</p>\n<h4 id=\"å…³äºä¸»ç®¡ç±»-director\"><a class=\"markdownIt-Anchor\" href=\"#å…³äºä¸»ç®¡ç±»-director\"></a> å…³äºä¸»ç®¡ç±» <code>Director</code></h4>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202508311511978.webp\" alt=\"image.png\" width=\"225px\" /></p>\n<p>å¯¹äºä¸Šé¢å»ºé€ è€…æ¨¡å¼å†™æ³•ï¼Œä¸åŒæ–‡ç« ä¸­çš„å®ç°ä¹Ÿæœ‰æ‰€ä¸åŒï¼š</p>\n<ul>\n<li>æœ‰äº›å†™æ³•æ˜¯ä½¿ç”¨ <code>Director</code> è·å–äº§å“ã€‚è¿™ç§æ–¹æ³•è®© <code>Director</code> å®Œå…¨æ§åˆ¶æ„å»ºæµç¨‹ï¼Œ<code>Builder</code> åªè´Ÿè´£éƒ¨ä»¶æ„é€ ï¼Œæ„å»ºçš„ä»£ç éƒ¨åˆ†å®ç°äº†å¤ç”¨ã€‚ç”¨æˆ·åªéœ€å’Œ <code>Director</code> äº¤äº’ã€‚</li>\n<li>æœ‰äº›å†™æ³•æ˜¯åƒä¸Šé¢æ–‡ç« è®²çš„é‚£æ ·é€šè¿‡ <code>ConcreteBuilder</code> è·å–äº§å“ï¼Œç”±å®¢æˆ·æ§åˆ¶å»ºé€ æµç¨‹ã€‚è¿™ç§æ–¹å¼ä¼šå‘ˆç°ä¸€å®šçš„æ„é€ çµæ´»åº¦ã€‚</li>\n</ul>\n<p>ä¸¥æ ¼æ¥è¯´ï¼Œç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚</p>\n<p>å¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œ å°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚</p>\n<h3 id=\"å»ºé€ è€…æ¨¡å¼å¸¸ç”¨å†™æ³•çœç•¥-director-è§’è‰²\"><a class=\"markdownIt-Anchor\" href=\"#å»ºé€ è€…æ¨¡å¼å¸¸ç”¨å†™æ³•çœç•¥-director-è§’è‰²\"></a> å»ºé€ è€…æ¨¡å¼å¸¸ç”¨å†™æ³•â€”â€”çœç•¥ Director è§’è‰²</h3>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202508311507575.webp\" alt=\"image.png\" width=\"400px\" /></p>\n<blockquote>\n<p>å»ºé€ è€…æ¨¡å¼çš„å¸¸ç”¨ç”¨æ³•ï¼Œæ˜¯ä¸€ç§æ··åˆæ¨¡å¼ã€‚</p>\n</blockquote>\n<p>å‡è®¾æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªèµ„æºæ± é…ç½®ç±» <code>ResourcePoolConfig</code>ã€‚è¿™é‡Œçš„èµ„æºæ± å¯ä»¥ç®€å•ç†è§£ä¸ºçº¿ç¨‹æ± ã€è¿æ¥æ± ã€å¯¹è±¡æ± ç­‰ã€‚åŒ…å«ä»¥ä¸‹å‚æ•°ï¼š</p>\n<ul>\n<li><code>name</code>ï¼šèµ„æºåç§°</li>\n<li><code>maxTotal</code>ï¼šæœ€å¤§æ€»èµ„æºæ•°é‡</li>\n<li><code>maxIdle</code>ï¼šæœ€å¤§ç©ºé—²èµ„æºæ•°é‡</li>\n<li><code>minIdle</code>ï¼šæœ€å°ç©ºé—²èµ„æºæ•°é‡</li>\n</ul>\n<p>æˆ‘ä»¬çš„æ„é€ å‡½æ•°æˆ–è®¸æ˜¯è¿™æ ·çš„ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ResourcePoolConfig</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MAX_TOTAL</span> <span class=\"operator\">=</span> <span class=\"number\">8</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MAX_IDLE</span> <span class=\"operator\">=</span> <span class=\"number\">8</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MIN_IDLE</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">maxTotal</span> <span class=\"operator\">=</span> DEFAULT_MAX_TOTAL;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">maxIdle</span> <span class=\"operator\">=</span> DEFAULT_MAX_IDLE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">minIdle</span> <span class=\"operator\">=</span> DEFAULT_MIN_IDLE;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name, Integer maxTotal, Integer maxIdle, Integer minIdle)</span> &#123;</span><br><span class=\"line\">\t  <span class=\"comment\">// ä¸€äº›å‚æ•°æ ¡éªŒé€»è¾‘</span></span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä¸ç®¡å¯é€‰æˆ–å¿…é€‰é…ç½®é¡¹ï¼Œæˆ‘ä»¬éƒ½ç”¨æ„é€ æ–¹æ³•é…ç½®è¿™äº›å‚æ•°æ—¶ï¼Œå°±å«åšæŠ˜å æ„é€ å‡½æ•°æ¨¡å¼ï¼ˆTelescoping Constructor Patternï¼‰ã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ResourcePoolConfig</span> &#123;</span><br><span class=\"line\">  <span class=\"comment\">//...</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name, Integer maxTotal)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name, Integer maxIdle, Integer minIdle)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name, Integer maxTotal, Integer maxIdle, Integer minIdle)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">  <span class=\"comment\">//...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>æˆ‘ä»¬å‘ç°ä¸€äº›é—®é¢˜ï¼š</p>\n<ul>\n<li>å½“ <code>ResourcePoolConfig</code> çš„å¿…é€‰é…ç½®é¡¹å˜ä¸º 8 ä¸ªã€10 ä¸ªæ—¶æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¼šè¶Šæ¥è¶Šé•¿</li>\n<li>å½“å‡ºç°å¤šä¸ªå¯é€‰é…ç½®é¡¹æ—¶ï¼Œæˆ‘ä»¬æ„é€ å‡½æ•°çš„é‡è½½æ–¹æ³•ä¼šè¶Šæ¥è¶Šå¤šã€‚å¦‚æœä¸€äº›å‚æ•°ç±»å‹å‡ ä¹éƒ½ç›¸ä¼¼ï¼Œé‚£ä¹ˆå‚æ•°ä¼ é€’æ—¶å¾ˆå®¹æ˜“ä¼ æ··æˆ–å‡ºé”™ã€‚</li>\n</ul>\n<p>å¯¹äºå¯é€‰é…ç½®é¡¹çš„ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹å¼ä¸ºä½¿ç”¨ <code>setXXX()</code> å‡½æ•°æ¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ï¼Œä»¥æ›¿ä»£å†—é•¿ç¹ççš„æ„é€ å‡½æ•°ã€‚è¿™ä¹Ÿæ˜¯æ‰€è°“çš„ Java Bean æ¨¡å¼ã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">ResourcePoolConfig</span> &#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MAX_TOTAL</span> <span class=\"operator\">=</span> <span class=\"number\">8</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MAX_IDLE</span> <span class=\"operator\">=</span> <span class=\"number\">8</span>;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"keyword\">static</span> <span class=\"keyword\">final</span> <span class=\"type\">int</span> <span class=\"variable\">DEFAULT_MIN_IDLE</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">maxTotal</span> <span class=\"operator\">=</span> DEFAULT_MAX_TOTAL;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">maxIdle</span> <span class=\"operator\">=</span> DEFAULT_MAX_IDLE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">minIdle</span> <span class=\"operator\">=</span> DEFAULT_MIN_IDLE;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"comment\">// name å¿…å¡«ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨æ„é€ å‡½æ•°ä¸­</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"title function_\">ResourcePoolConfig</span><span class=\"params\">(String name)</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">if</span> (StringUtils.isBlank(name)) &#123;</span><br><span class=\"line\">      <span class=\"keyword\">throw</span> <span class=\"keyword\">new</span> <span class=\"title class_\">IllegalArgumentException</span>(<span class=\"string\">&quot;name should not be empty.&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"built_in\">this</span>.name = name;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setMaxTotal</span><span class=\"params\">(<span class=\"type\">int</span> maxTotal)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setMaxIdle</span><span class=\"params\">(<span class=\"type\">int</span> maxIdle)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">setMinIdle</span><span class=\"params\">(<span class=\"type\">int</span> minIdle)</span> &#123;<span class=\"comment\">/***/</span>&#125;</span><br><span class=\"line\">  <span class=\"comment\">//...çœç•¥getteræ–¹æ³•...</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä½†ä½¿ç”¨ <code>setXXX()</code> å‡½æ•°è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š</p>\n<ul>\n<li>å¿…å¡«çš„é…ç½®ä¸èƒ½å¯ä»¥ä½¿ç”¨ <code>setXXX()</code> å‡½æ•°ï¼Œå› ä¸ºå¦‚æœå„ä¸ªå¿…å¡«é…ç½®å­˜åœ¨äº’ç›¸ä¾èµ–æ ¡éªŒï¼Œè¿™ç§æ ¡éªŒé€»è¾‘æ— æ³•å®ç°ã€‚æ‰€ä»¥å¿…é€‰é¡¹é…ç½®çš„é—®é¢˜è¿˜æ˜¯æ²¡æœ‰è§£å†³ã€‚</li>\n<li>ä¸èƒ½ä¿è¯å‚æ•°ä¼ é€’çš„å…ˆåæ¬¡åºã€‚</li>\n<li>ä¸€æ—¦å¿…å¡«çš„é…ç½®å¤šäº†èµ·æ¥ï¼Œæ„é€ å‚æ•°çš„åˆ—è¡¨è¿˜æ˜¯ä¼šé•¿èµ·æ¥ã€‚</li>\n<li>å¦‚æœæˆ‘ä»¬å¸Œæœ› <code>ResourcePoolConfig</code> æ˜¯ä¸å¯å˜çš„å¯¹è±¡ï¼Œé‚£ä¹ˆ <code>setXXX()</code> å°±ä¼šå‡ºç°é—®é¢˜ã€‚</li>\n</ul>\n<p>ä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒBuilder æ¨¡å¼è¯ç”Ÿã€‚</p>\n<p>ä»£ç å¦‚ä¸‹ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Product</span>&#123;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">required_param_1</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">optional_param_2</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">optional_param_3</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">  <span class=\"comment\">// ç§æœ‰çš„æ„é€ å‡½æ•°</span></span><br><span class=\"line\">  <span class=\"keyword\">private</span> <span class=\"title function_\">Product</span><span class=\"params\">(Builder builder)</span>&#123;</span><br><span class=\"line\">\t  <span class=\"built_in\">this</span>.required_param_1 = builder.required_param_1;</span><br><span class=\"line\">\t  <span class=\"built_in\">this</span>.optional_param_2 = builder.optional_param_2;</span><br><span class=\"line\">\t  <span class=\"built_in\">this</span>.optional_param_3 = builder.optional_param_3;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// ä¸“å±äºç‰¹å®šäº§å“çš„å†…éƒ¨Builderï¼Œæ‹¥æœ‰å’ŒProductä¸€æ ·çš„å‚æ•°</span></span><br><span class=\"line\">  <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Builder</span>&#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">required_param_1</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">optional_param_2</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> <span class=\"variable\">optional_param_3</span> <span class=\"operator\">=</span> DEFAULT_VALUE;</span><br><span class=\"line\">    <span class=\"comment\">// å¿…è¦å‚æ•°ä½¿ç”¨åˆ›å»ºè€…æ¨¡å¼æ„å»º</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">Builder</span><span class=\"params\">(<span class=\"type\">int</span> required_param_1)</span>&#123;</span><br><span class=\"line\">\t    <span class=\"built_in\">this</span>.required_param_1 = required_param_1;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"comment\">// å¯é€‰å‚æ•°ä½¿ç”¨ set æ–¹å¼è®¾ç½®ã€‚è¿”å›å€¼è¿”å› Builder ä»¥ä¾›é“¾å¼è°ƒç”¨ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder <span class=\"title function_\">setOptionalParam2</span><span class=\"params\">(<span class=\"type\">int</span> val)</span>&#123;</span><br><span class=\"line\">\t    <span class=\"built_in\">this</span>.optional_param_2 = val;</span><br><span class=\"line\">\t    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Builder <span class=\"title function_\">setOptionalParam3</span><span class=\"params\">(<span class=\"type\">int</span> val)</span>&#123;</span><br><span class=\"line\">\t    <span class=\"built_in\">this</span>.optional_param_3 = val;</span><br><span class=\"line\">\t    <span class=\"keyword\">return</span> <span class=\"built_in\">this</span>;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Product <span class=\"title function_\">build</span><span class=\"params\">()</span>&#123;</span><br><span class=\"line\">\t    <span class=\"comment\">// ä¸€äº›éªŒè¯é€»è¾‘å¯ä»¥æ”¾åœ¨æ­¤å¤„</span></span><br><span class=\"line\">\t    <span class=\"keyword\">return</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">  &#125;</span><br><span class=\"line\">  <span class=\"comment\">// æ­¤å¤„çœç•¥ getter æ–¹æ³•</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨æ–¹å¼ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">// é“¾å¼è°ƒç”¨</span></span><br><span class=\"line\"><span class=\"type\">Product</span> <span class=\"variable\">product</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Product</span>.Builder(val1)</span><br><span class=\"line\">\t.setOptionalParam2(val2)</span><br><span class=\"line\">\t.setOptionalParam3(val3)</span><br><span class=\"line\">\t.build();</span><br></pre></td></tr></table></figure>\n<p>ä¸ç»å…¸çš„å»ºé€ è€…æ¨¡å¼ç›¸æ¯”ï¼Œè¿™ç§æ¨¡å¼æŠŠ <code>Director</code> è§’è‰²ç»™çœç•¥äº†ï¼Œå¦å¤–åœ¨å†…éƒ¨é™æ€ <code>Builder</code> çš„æ„å»ºæ–¹æ³•ä¸­è¿”å›äº† <code>this</code> è‡ªèº«ï¼Œæ–¹ä¾¿æµå¼è°ƒç”¨ã€‚</p>\n<h2 id=\"å»ºé€ è€…æ¨¡å¼å°ç»“\"><a class=\"markdownIt-Anchor\" href=\"#å»ºé€ è€…æ¨¡å¼å°ç»“\"></a> å»ºé€ è€…æ¨¡å¼å°ç»“</h2>\n<p>åº”ç”¨åœºæ™¯ï¼š</p>\n<ul>\n<li>é¿å…ã€Œé‡å æ„é€ å‡½æ•° ï¼ˆtelescoping constructorï¼‰ã€çš„å‡ºç°</li>\n<li>åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“ï¼ˆåˆ¶é€ è¿‡ç¨‹ç›¸ä¼¼ä¸”ä»…æœ‰ç»†èŠ‚ä¸Šçš„å·®å¼‚ï¼‰</li>\n<li>æ„é€ å¤æ‚å¯¹è±¡ã€‚</li>\n</ul>\n<table>\n<thead>\n<tr>\n<th>ä¼˜ç‚¹</th>\n<th>ç¼ºç‚¹</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td>åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚</td>\n<td>åº”ç”¨è¯¥æ¨¡å¼æ—¶éœ€è¦å¢åŠ å¤šä¸ªç±»ã€‚</td>\n</tr>\n<tr>\n<td>ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œå¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚</td>\n<td rowspan=\"2\"></td>\n</tr>\n<tr>\n<td>å•ä¸€åˆ¶ä½œåŸåˆ™ã€‚å°†å¤æ‚æ„é€ ä»£ç ä»äº§å“çš„ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ã€‚</td>\n</tr>\n</tbody>\n</table>\n<h3 id=\"æ¨¡å¼çš„å¯¹æ¯”ä¸é€‰ç”¨\"><a class=\"markdownIt-Anchor\" href=\"#æ¨¡å¼çš„å¯¹æ¯”ä¸é€‰ç”¨\"></a> æ¨¡å¼çš„å¯¹æ¯”ä¸é€‰ç”¨</h3>\n<p>ç›¸å…³çš„è®¾è®¡æ¨¡å¼ï¼š</p>\n<ul>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/undefined/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>ç»„åˆæ¨¡å¼</a>ï¼šåˆ›å»ºå¤æ‚ç»„åˆæ¨¡å¼æ ‘æ—¶å¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨ï¼Œå› ä¸ºè¿™å¯ä½¿å…¶æ„é€ æ­¥éª¤ä»¥é€’å½’çš„æ–¹å¼è¿è¡Œã€‚</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/undefined/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>é—¨é¢æ¨¡å¼</a>ï¼š\n<ul>\n<li>åœ¨å»ºé€ è€…æ¨¡å¼ä¸­ï¼Œ<code>Director</code> è§’è‰²é€šè¿‡ç»„åˆ <code>Builder</code> è§’è‰²ä¸­çš„å¤æ‚æ–¹æ³•å‘å¤–éƒ¨æä¾›å¯ä»¥ç®€å•ç”Ÿæˆå®ä¾‹çš„æ¥å£ï¼ˆAPIï¼‰ï¼ˆç›¸å½“äºç¤ºä¾‹ç¨‹åºä¸­çš„ <code>construct</code> æ–¹æ³•ï¼‰ã€‚</li>\n<li>Facade æ¨¡å¼ä¸­çš„ Facade è§’è‰²åˆ™æ˜¯é€šè¿‡ç»„åˆå†…éƒ¨æ¨¡å—å‘å¤–éƒ¨æä¾›å¯ä»¥ç®€å•è°ƒç”¨çš„æ¥å£ï¼ˆAPIï¼‰ã€‚</li>\n</ul>\n</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/d9cc7566/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>æ¡¥æ¥æ¨¡å¼</a>ï¼šä¸»ç®¡ç±»è´Ÿè´£æŠ½è±¡å·¥ä½œï¼Œå„ç§ä¸åŒçš„ç”Ÿæˆå™¨è´Ÿè´£å®ç°å·¥ä½œã€‚</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/f7f6f747/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>å•ä¾‹æ¨¡å¼</a>ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼å’ŒåŸå‹æ¨¡å¼éƒ½å¯ä»¥ç”¨å•ä¾‹æ¨¡å¼æ¥å®ç°ã€‚</li>\n</ul>\n<h4 id=\"å»ºé€ è€…æ¨¡å¼ä¸å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\"><a class=\"markdownIt-Anchor\" href=\"#å»ºé€ è€…æ¨¡å¼ä¸å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\"></a> å»ºé€ è€…æ¨¡å¼ä¸å·¥å‚æ¨¡å¼çš„å¯¹æ¯”</h4>\n<p>æ¯”è¾ƒï¼š</p>\n<ul>\n<li>å»ºé€ è€…æ¨¡å¼ï¼šè®©å»ºé€ è€…ç±»æ¥è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/3a9f48af/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>å·¥å‚æ¨¡å¼</a>ï¼šå·¥å‚ç±»è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚åˆ›å»ºä¸åŒä½†ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼ˆç»§æ‰¿åŒä¸€çˆ¶ç±»æˆ–æ¥å£ <code>Product</code> çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šå‚æ•°å†³å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚Factory æŠ½è±¡ç±»å®šä¹‰çš„æ˜¯ä¸€ä¸ªå®ä¾‹äº§ç”Ÿçš„å…·ä½“æµç¨‹ï¼Œå­ç±»å®ç°å…·ä½“çš„å¤„ç†ã€‚</li>\n</ul>\n<p>æ¨¡å¼é€‰ç”¨ï¼š</p>\n<ul>\n<li>å½“åˆ›é€ ä¸€ä¸ªå¯¹è±¡éœ€è¦å¾ˆå¤šæ­¥éª¤æ—¶ , é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼</li>\n<li>å½“åˆ›é€ ä¸€ä¸ªå¯¹è±¡åªéœ€è¦ä¸€ä¸ªç®€å•çš„æ–¹æ³•å°±å¯ä»¥å®Œæˆï¼Œé€‚åˆä½¿ç”¨å·¥å‚æ¨¡å¼</li>\n</ul>\n<h4 id=\"å»ºé€ è€…æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\"><a class=\"markdownIt-Anchor\" href=\"#å»ºé€ è€…æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\"></a> å»ºé€ è€…æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼çš„å¯¹æ¯”</h4>\n<p>å»ºé€ è€…æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼éƒ½ç”¨äºç”Ÿæˆå¤æ‚çš„å®ä¾‹ã€‚</p>\n<ul>\n<li>å»ºé€ è€…æ¨¡å¼åˆ™æ˜¯åˆ†é˜¶æ®µåœ°åˆ¶ä½œå¤æ‚å®ä¾‹ï¼Œå…è®¸ä½ åœ¨è·å–äº§å“å‰æ‰§è¡Œä¸€äº›é¢å¤–æ„é€ æ­¥éª¤ã€‚</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/3a9f48af/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>æŠ½è±¡å·¥å‚æ¨¡å¼</a> é€šè¿‡è°ƒç”¨æŠ½è±¡äº§å“çš„æ¥å£ï¼ˆAPIï¼‰æ¥ç»„è£…æŠ½è±¡äº§å“ï¼Œç”Ÿæˆå…·æœ‰å¤æ‚ç»“æ„çš„å®ä¾‹ã€‚\n<ul>\n<li>é©¬ä¸Šè¿”å›äº§å“ã€‚</li>\n<li>æŠ½è±¡å·¥å‚æ¨¡å¼å¼ºè°ƒçš„æ˜¯äº§å“æ—çš„åˆ›å»ºï¼Œå³ç›¸å…³çš„äº§å“ä¸€èµ·è¢«åˆ›å»ºå‡ºæ¥ï¼Œè€Œå»ºé€ è€…æ¨¡å¼å¼ºè°ƒçš„æ˜¯ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œå³å®ƒçš„å„ä¸ªéƒ¨åˆ†é€æ­¥è¢«åˆ›å»ºå‡ºæ¥ã€‚</li>\n</ul>\n</li>\n</ul>\n<h1 id=\"lombok-ä¸­çš„-builder-æ³¨è§£\"><a class=\"markdownIt-Anchor\" href=\"#lombok-ä¸­çš„-builder-æ³¨è§£\"></a> Lombok ä¸­çš„ <code>@Builder</code> æ³¨è§£</h1>\n<p>Lombok æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ Java åº“ï¼Œé€šè¿‡æ·»åŠ æ³¨è§£å¯è‡ªåŠ¨å®ç°å»ºé€ è€…æ¨¡å¼ä»£ç æˆ– Getterã€Setter ç­‰ã€‚å…¶ä¸­ï¼Œ<code>@Builder</code> æ³¨è§£å¯ä»¥ç”¨æ¥å®ç°å»ºé€ è€…æ¨¡å¼ï¼Œçœç•¥æ‰‹åŠ¨ç¼–å†™å»ºé€ è€…æ¨¡å¼çš„ä»£ç ã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">import</span> lombok.Builder;</span><br><span class=\"line\"><span class=\"keyword\">import</span> lombok.ToString;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">@Builder</span></span><br><span class=\"line\"><span class=\"meta\">@ToString</span></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Person</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String name;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String address;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String email;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> String phone;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"comment\">// Lombok ä¸­çš„ @Builder æ³¨è§£ä¼šåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º Person.PersonBuilder çš„å†…éƒ¨ç±»</span></span><br><span class=\"line\">\t<span class=\"comment\">/*******************************</span></span><br><span class=\"line\"><span class=\"comment\">\tpublic static class Builder &#123;</span></span><br><span class=\"line\"><span class=\"comment\">        private String name;</span></span><br><span class=\"line\"><span class=\"comment\">        private int age;</span></span><br><span class=\"line\"><span class=\"comment\">        private String address;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">        public Builder() &#123;&#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">        public Builder name(String name) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            this.name = name;</span></span><br><span class=\"line\"><span class=\"comment\">            return this;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">        public Builder age(int age) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            this.age = age;</span></span><br><span class=\"line\"><span class=\"comment\">            return this;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">        public Builder address(String address) &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            this.address = address;</span></span><br><span class=\"line\"><span class=\"comment\">            return this;</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">\t\t// ... etc.</span></span><br><span class=\"line\"><span class=\"comment\"></span></span><br><span class=\"line\"><span class=\"comment\">        public Person build() &#123;</span></span><br><span class=\"line\"><span class=\"comment\">            return new Person(this);</span></span><br><span class=\"line\"><span class=\"comment\">        &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    &#125;</span></span><br><span class=\"line\"><span class=\"comment\">    ************************************/</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ä½¿ç”¨æ–¹å¼ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Person</span> <span class=\"variable\">person</span> <span class=\"operator\">=</span> Person.builder()</span><br><span class=\"line\">\t .name(<span class=\"string\">&quot;ç‹äº”&quot;</span>)</span><br><span class=\"line\">\t .age(<span class=\"number\">28</span>)</span><br><span class=\"line\">\t .address(<span class=\"string\">&quot;ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒº&quot;</span>)</span><br><span class=\"line\">\t .email(<span class=\"string\">&quot;wangwu@example.com&quot;</span>)</span><br><span class=\"line\">\t .phone(<span class=\"string\">&quot;13600000000&quot;</span>)</span><br><span class=\"line\">\t .build();</span><br><span class=\"line\">System.out.println(person);</span><br></pre></td></tr></table></figure>\n<h1 id=\"åè®°\"><a class=\"markdownIt-Anchor\" href=\"#åè®°\"></a> åè®°</h1>\n<blockquote>\n<p>ğŸ‚ä»Šå¤©æ˜¯åšä¸»çš„ç”Ÿæ—¥~</p>\n</blockquote>\n<p>ç­‰å¾…ææ˜ç™½çš„é—®é¢˜ï¼š</p>\n<ul class=\"contains-task-list\">\n<li class=\"task-list-item\"><input class=\"task-list-item-checkbox\" checked=\"\" disabled=\"\" type=\"checkbox\"> é—®ï¼šGoF ä¸­çš„å»ºé€ è€…æ¨¡å¼çš„å…·ä½“åº”ç”¨åœ¨å“ªé‡Œï¼Ÿå®ƒèƒ½è§£å†³æ„é€ å‚æ•°ä¸­çš„å¿…é€‰å‚æ•°å’Œå¯é€‰å‚æ•°çš„é—®é¢˜å—ï¼Ÿç­”ï¼šå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…æ˜¯æœ‰æ— ä¸»ç®¡çš„åŒºåˆ«ï¼Œå»ºé€ è€…æ¨¡å¼è§£å†³çš„é—®é¢˜å°±æ˜¯ä¸ºäº†é¿å…ã€Œé‡å æ„é€ å‡½æ•° ï¼ˆtelescoping constructorï¼‰ã€çš„å‡ºç°ã€‚</li>\n</ul>\n<h1 id=\"å‚è€ƒä¸å½’æ¡£\"><a class=\"markdownIt-Anchor\" href=\"#å‚è€ƒä¸å½’æ¡£\"></a> å‚è€ƒä¸å½’æ¡£</h1>\n<h2 id=\"æœ¬æ–‡-plantuml-ä»£ç å½’æ¡£\"><a class=\"markdownIt-Anchor\" href=\"#æœ¬æ–‡-plantuml-ä»£ç å½’æ¡£\"></a> æœ¬æ–‡ PlantUML ä»£ç å½’æ¡£</h2>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">class Client</span><br><span class=\"line\"></span><br><span class=\"line\">class Director&#123;</span><br><span class=\"line\">\tbuilder</span><br><span class=\"line\">\t&#123;method&#125; build</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">abstract class Builder&#123;</span><br><span class=\"line\">\tproduct</span><br><span class=\"line\">\t&#123;method&#125; &#123;abstract&#125; buildPart1</span><br><span class=\"line\">\t&#123;method&#125; &#123;abstract&#125; buildPart2</span><br><span class=\"line\">\t&#123;method&#125; &#123;abstract&#125; buildPart3</span><br><span class=\"line\">\t&#123;method&#125; &#123;abstract&#125; getProduct</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class ConcreteBuilder&#123;</span><br><span class=\"line\">\t&#123;method&#125; buildPart1</span><br><span class=\"line\">\t&#123;method&#125; buildPart2</span><br><span class=\"line\">\t&#123;method&#125; buildPart3 </span><br><span class=\"line\">\t&#123;method&#125; getProduct</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">class Product&#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">Client -&gt; Director : Uses</span><br><span class=\"line\">Director o- Builder</span><br><span class=\"line\">Builder &lt;|-- ConcreteBuilder</span><br><span class=\"line\">Client --&gt; ConcreteBuilder : Uses</span><br><span class=\"line\">Builder *- Product</span><br></pre></td></tr></table></figure>\n<h2 id=\"å‚è€ƒæ–‡ç« \"><a class=\"markdownIt-Anchor\" href=\"#å‚è€ƒæ–‡ç« \"></a> å‚è€ƒæ–‡ç« </h2>\n<ul>\n<li>ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬ä¸ƒç«  Builder æ¨¡å¼</li>\n<li><a href=\"https://gitee.com/buxsren/design-pattern-books/blob/master/docs/199674.md\">æå®¢æ—¶é—´ä¸“æ  - è®¾è®¡æ¨¡å¼ä¹‹ç¾ - ç‹äº‰</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_45433817/article/details/131175862\">è®¾è®¡æ¨¡å¼ç¬¬10è®²â€”â€”å»ºé€ è€…æ¨¡å¼ï¼ˆBuilderï¼‰-CSDNåšå®¢</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/58093669?share_code=3o79BrAEDdcS&amp;utm_psn=1921745149165283260\">ç§’æ‡‚è®¾è®¡æ¨¡å¼ä¹‹å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder patternï¼‰ - çŸ¥ä¹</a></li>\n<li><a href=\"https://blog.csdn.net/yk_dflkg/article/details/147340859\">å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰è¯¦è§£-CSDNåšå®¢</a></li>\n<li>è¿™ç¯‡æ–‡ç« å¯èƒ½æœ‰è¯¯ï¼Œè¯·ä»”ç»†ç”„åˆ«ï¼š<a href=\"https://developer.aliyun.com/article/1549784\">Javaè®¾è®¡æ¨¡å¼ï¼šå»ºé€ è€…æ¨¡å¼ä¹‹ç»å…¸ä¸æµå¼çš„ä¸‰ç§å®ç°ï¼ˆå››ï¼‰-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº</a></li>\n<li><a href=\"https://refactoringguru.cn/design-patterns/builder\">åŸå‹è®¾è®¡æ¨¡å¼</a></li>\n</ul>\n","raw":"---\ntitle: å»ºé€ è€…æ¨¡å¼çš„ä¸¤ç§ä¸åŒå®ç°æ–¹å¼\ntags:\n  - è®¾è®¡æ¨¡å¼\n  - Java\ncover: https://cdn.gallery.uuanqin.top/img/202508301729904.webp\ndescription: è§£å†³äº†æ„é€ å‚æ•°ååˆ†å¤æ‚çš„é—®é¢˜\nkatex: false\ncategories:\n  - é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼\nabbrlink: 5b8a11ae\ndate: 2025-07-14 23:53:28\ntop_img:\n---\n\n![|375](https://cdn.gallery.uuanqin.top/img/20240731143918.webp)\n\nåˆ›å»ºä¸€ä¸ªå¯¹è±¡æœ€å¸¸ç”¨çš„æ–¹æ³•å°±æ˜¯é€šè¿‡ `new` å…³é”®å­—åˆ›å»ºå‡ºä¸€ä¸ªå¯¹è±¡ï¼Œä½†æ˜¯æœ‰çš„æ—¶å€™è¿™ç§åˆ›å»ºå¯¹è±¡çš„æ–¹æ³•å¹¶ä¸é€‚ç”¨ã€‚\n\nå»ºé€ è€…æ¨¡å¼ï¼ˆåˆç§°ä¸ºæ„å»ºè€…æ¨¡å¼æˆ–ç”Ÿæˆå™¨æ¨¡å¼ï¼‰ï¼Œå±äºåˆ›å»ºå‹æ¨¡å¼ï¼Œå®ƒç”¨äºç»„è£…å¤æ‚çš„å®ä¾‹ã€‚å®ƒå¯**å°†ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„æ„å»ºä¸å…¶è¡¨ç¤ºåˆ†ç¦»**ï¼Œä½¿å¾—åŒæ ·çš„æ„å»ºè¿‡ç¨‹å¯ä»¥åˆ›å»ºä¸åŒçš„è¡¨ç¤ºã€‚ç”¨æˆ·åªéœ€è¦æŒ‡å®šéœ€è¦å»ºé€ çš„ç±»å‹å°±å¯ä»¥ å¾—åˆ°è¯¥ç±»å‹å¯¹åº”çš„äº§å“å®ä¾‹ , ä¸å…³å¿ƒå»ºé€ è¿‡ç¨‹ç»†èŠ‚ã€‚\n\n# å»ºé€ è€…æ¨¡å¼\n\nå»ºé€ è€…æ¨¡å¼æœ‰ä¸¤ç§å†™æ³•ï¼Œä¸€ç§æ˜¯ GoF ä¸­æå‡ºçš„ä¼ ç»Ÿçš„å»ºé€ è€…æ¨¡å¼å†™æ³•ï¼Œä¸€ç§æ˜¯ç°åœ¨å¸¸ç”¨çš„ä¸å¸¦ä¸»ç®¡ç±»çš„å†™æ³•ã€‚\n\n## ä¸åŒçš„å®ç°æ–¹å¼\n\n### GoF ä¸­çš„å»ºé€ è€…æ¨¡å¼\n\n> è¿™é‡Œä»‹ç»çš„å»ºé€ è€…æ¨¡å¼çš„å®ç°æ¥è¿‘äº GoF çš„æ€æƒ³ã€‚\n\nç™»åœºè§’è‰²ï¼š\n\n- `Product`ï¼ˆäº§å“ï¼‰ï¼šæˆ‘ä»¬éœ€è¦è·å¾—çš„ç±»ã€‚\n- `Builder`ï¼ˆæŠ½è±¡å»ºé€ è€…ï¼‰ï¼šå®šä¹‰ç”¨äºç”Ÿæˆå®ä¾‹çš„æ¥å£ï¼ˆAPIï¼‰ï¼Œå‡†å¤‡ç”¨äºç”Ÿæˆå®ä¾‹çš„æ–¹æ³•ã€‚\n- `ConcreteBuilder`ï¼ˆå…·ä½“çš„å»ºé€ è€…ï¼‰ï¼šè´Ÿè´£å®ç° `Builder` è§’è‰²æ¥å£ï¼ˆAPIï¼‰çš„ç±»ã€‚ConcreteBuilder è¿˜å®šä¹‰äº†è·å–æœ€ç»ˆç”Ÿæˆç»“æœï¼ˆäº§å“ï¼‰çš„æ–¹æ³•ã€‚\n- `Director`ï¼ˆç›‘å·¥/æŒ‡æŒ¥è€…ï¼‰ï¼šè´Ÿè´£ä½¿ç”¨ `Builder` è§’è‰²çš„æ¥å£ï¼ˆAPIï¼‰æ¥ç”Ÿæˆå®ä¾‹ï¼Œå®ƒå¹¶ä¸ä¾èµ–äº `ConcreteBuilder` è§’è‰²ï¼ˆå®ƒåªè°ƒç”¨åœ¨ `Builder` è§’è‰²ä¸­è¢«å®šä¹‰çš„æ–¹æ³•ï¼‰ã€‚æ³¨æ„æ˜¯å…·ä½“ç±»ã€‚ç»„è£…çš„å…·ä½“è¿‡ç¨‹éšè—åœ¨ `Director` ä¸­ã€‚\n- `Client`ï¼ˆä½¿ç”¨è€…ï¼‰ï¼šä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚\n\nåœ¨ GoF ä¹¦ä¸­æ²¡æœ‰ `Client` å’Œ `Product` è¿™ä¸¤ä¸ªè§’è‰²ï¼Œè¿™é‡Œåªæ˜¯ä¸ºäº†æ–¹ä¾¿ç†è§£è€Œå¼•å…¥ã€‚\n\nå»ºé€ è€…ä»£ç å¦‚ä¸‹æ‰€ç¤ºï¼š\n\n```java\npublic class Product {\n  private int param1 = DEFAULT_VALUE;\n  private int param2 = DEFAULT_VALUE;\n  private int param3 = DEFAULT_VALUE;\n}\n\n// æŠ½è±¡å»ºé€ è€…\npublic abstract class Builder {\n\tprotected Product product = new Product();\n\n\t// ä¸€äº›å»ºé€ çš„å‡½æ•°\n    public abstract Builder buildPart1();\n\tpublic abstract Builder buildPart2();\n\tpublic abstract Builder buildPart3();\n\tpublic abstract Product getProduct();\n}\n\n//å…·ä½“å»ºé€ è€…ï¼ˆå¯ä»¥æœ‰å¤šä¸ªï¼‰\npublic static class ConcreteBuilder extends Builder {\n\t/* å…·ä½“å»ºé€ è€…å¯ä»¥æ‹¥æœ‰è‡ªå·±çš„å˜é‡ */\n    @Override\n    public Builder buildPart1() {/***/}\n    @Override\n    public Builder buildPart2() {/***/}\n    @Override\n    public Builder buildPart3() {/***/}\n    @Override\n    public Product getProduct(){\n        /* è·å–äº§å“å‰çš„ä¸€äº›å¤„ç† */\n\t\treturn product;\n\t}\n  }\n}\n\npublic class Director{\n\tprivate Builder builder; // Director å¹¶ä¸å…³å¿ƒå…·ä½“ä½¿ç”¨äº†å“ªä¸ª Builder\n\t// ä½¿ç”¨æ„é€ æ–¹æ³•æˆ– set æ–¹æ³•ä¼ å…¥å…·ä½“çš„ builder\n\tpublic Director(Builder builder){\n\t\tthis.builder = builder;\n\t}\n\n\t// å»ºé€ å·¥ä½œï¼Œä¿è¯äº†ä¸€äº›å¿…é€‰æ­¥éª¤æ­£ç¡®æ‰§è¡Œ\n\tpublic void build(){\n\t  /* çœç•¥ä¸€äº›å‰ç½®å¤„ç†æ“ä½œ */\n\t  builder.buildPart1();\n\t  builder.buildPart2();\n\t  builder.buildPart3();\n\t  /* çœç•¥ä¸€äº›åå¤„ç†æ“ä½œ */\n    }\n}\n\n// ç”¨æˆ·è°ƒç”¨æ–¹å¼\npublic class Client{\n\tpublic static void main(String[] args){\n\t    Builder builder = new ConcreteBuilder(); \n\t\tDirector director = new Director(builder);\n\t\tdirector.build();\n\t\tProduct product = builder.getProduct();\n\t}\n}\n```\n\n![image.png](https://cdn.gallery.uuanqin.top/img/202507090014252.webp)\n\nå»ºé€ è€…æ¨¡å¼çš„æ—¶åºå›¾ï¼š\n\n```mermaid\nsequenceDiagram\n    participant C as Client\n    participant D as Director\n    participant B as ConcreteBuilder\n    activate C\n    C ->> B : new\n    activate B\n    deactivate B\n    C ->> D : build\n    activate D\n    D ->> B : buildPart1\n    activate B\n    B -->> D : \n    deactivate B\n\tD ->> B : buildPart2\n    activate B\n    B -->> D : \n    deactivate B\n    D ->> B : buildPart3\n    activate B\n    B -->> D : \n    deactivate B\n    D -->> C : \n    deactivate D\n    C ->> B : getProduct\n    activate B\n    B -->> C : \n    deactivate B\n    deactivate C\n```\n\nåœ¨å»ºé€ è€…æ¨¡å¼ä¸­ï¼Œ`Main` ä¸çŸ¥é“ `Builder` ç±»ï¼Œ`Director` ä¸çŸ¥é“ `ConcreteBuilder` ç±»ã€‚å¯æ›¿æ¢æ€§å°±ä½“ç°åœ¨ã€Œåªæœ‰ä¸çŸ¥é“å­ç±»æ‰èƒ½æ›¿æ¢ã€ã€‚\n\n#### å…³äºä¸»ç®¡ç±» `Director`\n\n![image.png|225](https://cdn.gallery.uuanqin.top/img/202508311511978.webp)\n\nå¯¹äºä¸Šé¢å»ºé€ è€…æ¨¡å¼å†™æ³•ï¼Œä¸åŒæ–‡ç« ä¸­çš„å®ç°ä¹Ÿæœ‰æ‰€ä¸åŒï¼š\n\n- æœ‰äº›å†™æ³•æ˜¯ä½¿ç”¨ `Director` è·å–äº§å“ã€‚è¿™ç§æ–¹æ³•è®© `Director` å®Œå…¨æ§åˆ¶æ„å»ºæµç¨‹ï¼Œ`Builder` åªè´Ÿè´£éƒ¨ä»¶æ„é€ ï¼Œæ„å»ºçš„ä»£ç éƒ¨åˆ†å®ç°äº†å¤ç”¨ã€‚ç”¨æˆ·åªéœ€å’Œ `Director` äº¤äº’ã€‚\n- æœ‰äº›å†™æ³•æ˜¯åƒä¸Šé¢æ–‡ç« è®²çš„é‚£æ ·é€šè¿‡ `ConcreteBuilder` è·å–äº§å“ï¼Œç”±å®¢æˆ·æ§åˆ¶å»ºé€ æµç¨‹ã€‚è¿™ç§æ–¹å¼ä¼šå‘ˆç°ä¸€å®šçš„æ„é€ çµæ´»åº¦ã€‚\n\nä¸¥æ ¼æ¥è¯´ï¼Œç¨‹åºä¸­å¹¶ä¸ä¸€å®šéœ€è¦ä¸»ç®¡ç±»ã€‚å®¢æˆ·ç«¯ä»£ç å¯ç›´æ¥ä»¥ç‰¹å®šé¡ºåºè°ƒç”¨åˆ›å»ºæ­¥éª¤ã€‚ä¸è¿‡ï¼Œä¸»ç®¡ç±»ä¸­éå¸¸é€‚åˆæ”¾å…¥å„ç§ä¾‹è¡Œæ„é€ æµç¨‹ï¼Œä»¥ä¾¿åœ¨ç¨‹åºä¸­åå¤ä½¿ç”¨ã€‚\n\nå¯¹äºå®¢æˆ·ç«¯ä»£ç æ¥è¯´ï¼Œä¸»ç®¡ç±»å®Œå…¨éšè—äº†äº§å“æ„é€ ç»†èŠ‚ã€‚å®¢æˆ·ç«¯åªéœ€è¦å°†ä¸€ä¸ªç”Ÿæˆå™¨ä¸ä¸»ç®¡ç±»å…³è”ï¼Œç„¶åä½¿ç”¨ä¸»ç®¡ç±»æ¥æ„é€ äº§å“ï¼Œ å°±èƒ½ä»ç”Ÿæˆå™¨å¤„è·å¾—æ„é€ ç»“æœäº†ã€‚\n\n### å»ºé€ è€…æ¨¡å¼å¸¸ç”¨å†™æ³•â€”â€”çœç•¥ Director è§’è‰²\n\n![image.png|400](https://cdn.gallery.uuanqin.top/img/202508311507575.webp)\n\n> å»ºé€ è€…æ¨¡å¼çš„å¸¸ç”¨ç”¨æ³•ï¼Œæ˜¯ä¸€ç§æ··åˆæ¨¡å¼ã€‚\n\nå‡è®¾æˆ‘ä»¬éœ€è¦å®šä¹‰ä¸€ä¸ªèµ„æºæ± é…ç½®ç±» `ResourcePoolConfig`ã€‚è¿™é‡Œçš„èµ„æºæ± å¯ä»¥ç®€å•ç†è§£ä¸ºçº¿ç¨‹æ± ã€è¿æ¥æ± ã€å¯¹è±¡æ± ç­‰ã€‚åŒ…å«ä»¥ä¸‹å‚æ•°ï¼š\n\n- `name`ï¼šèµ„æºåç§°\n- `maxTotal`ï¼šæœ€å¤§æ€»èµ„æºæ•°é‡\n- `maxIdle`ï¼šæœ€å¤§ç©ºé—²èµ„æºæ•°é‡\n- `minIdle`ï¼šæœ€å°ç©ºé—²èµ„æºæ•°é‡\n\næˆ‘ä»¬çš„æ„é€ å‡½æ•°æˆ–è®¸æ˜¯è¿™æ ·çš„ï¼š\n\n```java\npublic class ResourcePoolConfig {\n  private static final int DEFAULT_MAX_TOTAL = 8;\n  private static final int DEFAULT_MAX_IDLE = 8;\n  private static final int DEFAULT_MIN_IDLE = 0;\n\n  private String name;\n  private int maxTotal = DEFAULT_MAX_TOTAL;\n  private int maxIdle = DEFAULT_MAX_IDLE;\n  private int minIdle = DEFAULT_MIN_IDLE;\n\n  public ResourcePoolConfig(String name, Integer maxTotal, Integer maxIdle, Integer minIdle) {\n\t  // ä¸€äº›å‚æ•°æ ¡éªŒé€»è¾‘\n  }\n}\n```\n\nä¸ç®¡å¯é€‰æˆ–å¿…é€‰é…ç½®é¡¹ï¼Œæˆ‘ä»¬éƒ½ç”¨æ„é€ æ–¹æ³•é…ç½®è¿™äº›å‚æ•°æ—¶ï¼Œå°±å«åšæŠ˜å æ„é€ å‡½æ•°æ¨¡å¼ï¼ˆTelescoping Constructor Patternï¼‰ã€‚\n\n```java\npublic class ResourcePoolConfig {\n  //...\n  public ResourcePoolConfig(String name) {/***/}\n  public ResourcePoolConfig(String name, Integer maxTotal) {/***/}\n  public ResourcePoolConfig(String name, Integer maxIdle, Integer minIdle) {/***/}\n  public ResourcePoolConfig(String name, Integer maxTotal, Integer maxIdle, Integer minIdle) {/***/}\n  //...\n}\n```\n\næˆ‘ä»¬å‘ç°ä¸€äº›é—®é¢˜ï¼š\n\n- å½“ `ResourcePoolConfig` çš„å¿…é€‰é…ç½®é¡¹å˜ä¸º 8 ä¸ªã€10 ä¸ªæ—¶æˆ‘ä»¬çš„æ„é€ å‡½æ•°ä¼šè¶Šæ¥è¶Šé•¿\n- å½“å‡ºç°å¤šä¸ªå¯é€‰é…ç½®é¡¹æ—¶ï¼Œæˆ‘ä»¬æ„é€ å‡½æ•°çš„é‡è½½æ–¹æ³•ä¼šè¶Šæ¥è¶Šå¤šã€‚å¦‚æœä¸€äº›å‚æ•°ç±»å‹å‡ ä¹éƒ½ç›¸ä¼¼ï¼Œé‚£ä¹ˆå‚æ•°ä¼ é€’æ—¶å¾ˆå®¹æ˜“ä¼ æ··æˆ–å‡ºé”™ã€‚\n\nå¯¹äºå¯é€‰é…ç½®é¡¹çš„ä¸€ä¸ªç®€å•çš„è§£å†³æ–¹å¼ä¸ºä½¿ç”¨ `setXXX()` å‡½æ•°æ¥ç»™æˆå‘˜å˜é‡èµ‹å€¼ï¼Œä»¥æ›¿ä»£å†—é•¿ç¹ççš„æ„é€ å‡½æ•°ã€‚è¿™ä¹Ÿæ˜¯æ‰€è°“çš„ Java Bean æ¨¡å¼ã€‚\n\n```java\npublic class ResourcePoolConfig {\n  private static final int DEFAULT_MAX_TOTAL = 8;\n  private static final int DEFAULT_MAX_IDLE = 8;\n  private static final int DEFAULT_MIN_IDLE = 0;\n\n  private String name;\n  private int maxTotal = DEFAULT_MAX_TOTAL;\n  private int maxIdle = DEFAULT_MAX_IDLE;\n  private int minIdle = DEFAULT_MIN_IDLE;\n\n  // name å¿…å¡«ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠå®ƒæ”¾åœ¨æ„é€ å‡½æ•°ä¸­\n  public ResourcePoolConfig(String name) {\n    if (StringUtils.isBlank(name)) {\n      throw new IllegalArgumentException(\"name should not be empty.\");\n    }\n    this.name = name;\n  }\n\n  public void setMaxTotal(int maxTotal) {/***/}\n\n  public void setMaxIdle(int maxIdle) {/***/}\n\n  public void setMinIdle(int minIdle) {/***/}\n  //...çœç•¥getteræ–¹æ³•...\n}\n```\n\nä½†ä½¿ç”¨ `setXXX()` å‡½æ•°è¿˜å­˜åœ¨ä¸€äº›é—®é¢˜ï¼š\n\n- å¿…å¡«çš„é…ç½®ä¸èƒ½å¯ä»¥ä½¿ç”¨ `setXXX()` å‡½æ•°ï¼Œå› ä¸ºå¦‚æœå„ä¸ªå¿…å¡«é…ç½®å­˜åœ¨äº’ç›¸ä¾èµ–æ ¡éªŒï¼Œè¿™ç§æ ¡éªŒé€»è¾‘æ— æ³•å®ç°ã€‚æ‰€ä»¥å¿…é€‰é¡¹é…ç½®çš„é—®é¢˜è¿˜æ˜¯æ²¡æœ‰è§£å†³ã€‚\n- ä¸èƒ½ä¿è¯å‚æ•°ä¼ é€’çš„å…ˆåæ¬¡åºã€‚\n- ä¸€æ—¦å¿…å¡«çš„é…ç½®å¤šäº†èµ·æ¥ï¼Œæ„é€ å‚æ•°çš„åˆ—è¡¨è¿˜æ˜¯ä¼šé•¿èµ·æ¥ã€‚\n- å¦‚æœæˆ‘ä»¬å¸Œæœ› `ResourcePoolConfig` æ˜¯ä¸å¯å˜çš„å¯¹è±¡ï¼Œé‚£ä¹ˆ `setXXX()` å°±ä¼šå‡ºç°é—®é¢˜ã€‚\n\nä¸ºè§£å†³ä¸Šè¿°é—®é¢˜ï¼ŒBuilder æ¨¡å¼è¯ç”Ÿã€‚\n\nä»£ç å¦‚ä¸‹ï¼š\n\n```java\npublic class Product{\n  private int required_param_1 = DEFAULT_VALUE;\n  private int optional_param_2 = DEFAULT_VALUE;\n  private int optional_param_3 = DEFAULT_VALUE;\n  // ç§æœ‰çš„æ„é€ å‡½æ•°\n  private Product(Builder builder){\n\t  this.required_param_1 = builder.required_param_1;\n\t  this.optional_param_2 = builder.optional_param_2;\n\t  this.optional_param_3 = builder.optional_param_3;\n  }\n  // ä¸“å±äºç‰¹å®šäº§å“çš„å†…éƒ¨Builderï¼Œæ‹¥æœ‰å’ŒProductä¸€æ ·çš„å‚æ•°\n  public static class Builder{\n    private int required_param_1 = DEFAULT_VALUE;\n    private int optional_param_2 = DEFAULT_VALUE;\n    private int optional_param_3 = DEFAULT_VALUE;\n    // å¿…è¦å‚æ•°ä½¿ç”¨åˆ›å»ºè€…æ¨¡å¼æ„å»º\n    public Builder(int required_param_1){\n\t    this.required_param_1 = required_param_1;\n    }\n    // å¯é€‰å‚æ•°ä½¿ç”¨ set æ–¹å¼è®¾ç½®ã€‚è¿”å›å€¼è¿”å› Builder ä»¥ä¾›é“¾å¼è°ƒç”¨ã€‚\n    public Builder setOptionalParam2(int val){\n\t    this.optional_param_2 = val;\n\t    return this;\n    }\n    public Builder setOptionalParam3(int val){\n\t    this.optional_param_3 = val;\n\t    return this;\n    }\n    public Product build(){\n\t    // ä¸€äº›éªŒè¯é€»è¾‘å¯ä»¥æ”¾åœ¨æ­¤å¤„\n\t    return new Product(this);\n    }\n  }\n  // æ­¤å¤„çœç•¥ getter æ–¹æ³•\n}\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```java\n// é“¾å¼è°ƒç”¨\nProduct product = new Product.Builder(val1)\n\t.setOptionalParam2(val2)\n\t.setOptionalParam3(val3)\n\t.build();\n```\n\nä¸ç»å…¸çš„å»ºé€ è€…æ¨¡å¼ç›¸æ¯”ï¼Œè¿™ç§æ¨¡å¼æŠŠ `Director` è§’è‰²ç»™çœç•¥äº†ï¼Œå¦å¤–åœ¨å†…éƒ¨é™æ€ `Builder` çš„æ„å»ºæ–¹æ³•ä¸­è¿”å›äº† `this` è‡ªèº«ï¼Œæ–¹ä¾¿æµå¼è°ƒç”¨ã€‚\n\n## å»ºé€ è€…æ¨¡å¼å°ç»“\n\nåº”ç”¨åœºæ™¯ï¼š\n\n- é¿å…ã€Œé‡å æ„é€ å‡½æ•° ï¼ˆtelescoping constructorï¼‰ã€çš„å‡ºç°\n- åˆ›å»ºä¸åŒå½¢å¼çš„äº§å“ï¼ˆåˆ¶é€ è¿‡ç¨‹ç›¸ä¼¼ä¸”ä»…æœ‰ç»†èŠ‚ä¸Šçš„å·®å¼‚ï¼‰\n- æ„é€ å¤æ‚å¯¹è±¡ã€‚\n\n| ä¼˜ç‚¹                           | ç¼ºç‚¹             |\n| ---------------------------- | -------------- |\n| åˆ†æ­¥åˆ›å»ºå¯¹è±¡ï¼Œæš‚ç¼“åˆ›å»ºæ­¥éª¤æˆ–é€’å½’è¿è¡Œåˆ›å»ºæ­¥éª¤ã€‚      | åº”ç”¨è¯¥æ¨¡å¼æ—¶éœ€è¦å¢åŠ å¤šä¸ªç±»ã€‚ |\n| ç”Ÿæˆä¸åŒå½¢å¼çš„äº§å“æ—¶ï¼Œå¯ä»¥å¤ç”¨ç›¸åŒçš„åˆ¶é€ ä»£ç ã€‚      |                |\n| å•ä¸€åˆ¶ä½œåŸåˆ™ã€‚å°†å¤æ‚æ„é€ ä»£ç ä»äº§å“çš„ä¸šåŠ¡é€»è¾‘ä¸­åˆ†ç¦»å‡ºæ¥ã€‚ |                |\n\n### æ¨¡å¼çš„å¯¹æ¯”ä¸é€‰ç”¨\n\nç›¸å…³çš„è®¾è®¡æ¨¡å¼ï¼š\n\n- [[ç»„åˆæ¨¡å¼ï¼šæ ‘å½¢ç»“æ„|ç»„åˆæ¨¡å¼]]ï¼šåˆ›å»ºå¤æ‚ç»„åˆæ¨¡å¼æ ‘æ—¶å¯ä»¥ä½¿ç”¨ç”Ÿæˆå™¨ï¼Œå› ä¸ºè¿™å¯ä½¿å…¶æ„é€ æ­¥éª¤ä»¥é€’å½’çš„æ–¹å¼è¿è¡Œã€‚\n- [[é—¨é¢æ¨¡å¼ï¼šç‚¹å‡»å³ç”¨|é—¨é¢æ¨¡å¼]]ï¼š\n\t- åœ¨å»ºé€ è€…æ¨¡å¼ä¸­ï¼Œ`Director` è§’è‰²é€šè¿‡ç»„åˆ `Builder` è§’è‰²ä¸­çš„å¤æ‚æ–¹æ³•å‘å¤–éƒ¨æä¾›å¯ä»¥ç®€å•ç”Ÿæˆå®ä¾‹çš„æ¥å£ï¼ˆAPIï¼‰ï¼ˆç›¸å½“äºç¤ºä¾‹ç¨‹åºä¸­çš„ `construct` æ–¹æ³•ï¼‰ã€‚\n\t- Facade æ¨¡å¼ä¸­çš„ Facade è§’è‰²åˆ™æ˜¯é€šè¿‡ç»„åˆå†…éƒ¨æ¨¡å—å‘å¤–éƒ¨æä¾›å¯ä»¥ç®€å•è°ƒç”¨çš„æ¥å£ï¼ˆAPIï¼‰ã€‚\n- [[æ¡¥æ¥æ¨¡å¼å¯ä»¥æ²Ÿé€šåŠŸèƒ½å±‚æ¬¡ä¸å®ç°å±‚æ¬¡|æ¡¥æ¥æ¨¡å¼]]ï¼šä¸»ç®¡ç±»è´Ÿè´£æŠ½è±¡å·¥ä½œï¼Œå„ç§ä¸åŒçš„ç”Ÿæˆå™¨è´Ÿè´£å®ç°å·¥ä½œã€‚\n- [[å•ä¾‹æ¨¡å¼ï¼šä¿æŒå”¯ä¸€|å•ä¾‹æ¨¡å¼]]ï¼šæŠ½è±¡å·¥å‚æ¨¡å¼ã€å»ºé€ è€…æ¨¡å¼å’ŒåŸå‹æ¨¡å¼éƒ½å¯ä»¥ç”¨å•ä¾‹æ¨¡å¼æ¥å®ç°ã€‚\n\n#### å»ºé€ è€…æ¨¡å¼ä¸å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\n\næ¯”è¾ƒï¼š\n\n- å»ºé€ è€…æ¨¡å¼ï¼šè®©å»ºé€ è€…ç±»æ¥è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚\n- [[ç±»çš„å·¥å‚|å·¥å‚æ¨¡å¼]]ï¼šå·¥å‚ç±»è´Ÿè´£å¯¹è±¡çš„åˆ›å»ºå·¥ä½œã€‚åˆ›å»ºä¸åŒä½†ç›¸å…³ç±»å‹çš„å¯¹è±¡ï¼ˆç»§æ‰¿åŒä¸€çˆ¶ç±»æˆ–æ¥å£ `Product` çš„ä¸€ç»„å­ç±»ï¼‰ï¼Œç”±ç»™å®šå‚æ•°å†³å®šåˆ›å»ºå“ªç§ç±»å‹çš„å¯¹è±¡ã€‚Factory æŠ½è±¡ç±»å®šä¹‰çš„æ˜¯ä¸€ä¸ªå®ä¾‹äº§ç”Ÿçš„å…·ä½“æµç¨‹ï¼Œå­ç±»å®ç°å…·ä½“çš„å¤„ç†ã€‚\n\næ¨¡å¼é€‰ç”¨ï¼š\n\n- å½“åˆ›é€ ä¸€ä¸ªå¯¹è±¡éœ€è¦å¾ˆå¤šæ­¥éª¤æ—¶ , é€‚åˆä½¿ç”¨å»ºé€ è€…æ¨¡å¼\n- å½“åˆ›é€ ä¸€ä¸ªå¯¹è±¡åªéœ€è¦ä¸€ä¸ªç®€å•çš„æ–¹æ³•å°±å¯ä»¥å®Œæˆï¼Œé€‚åˆä½¿ç”¨å·¥å‚æ¨¡å¼\n\n#### å»ºé€ è€…æ¨¡å¼ä¸æŠ½è±¡å·¥å‚æ¨¡å¼çš„å¯¹æ¯”\n\nå»ºé€ è€…æ¨¡å¼å’ŒæŠ½è±¡å·¥å‚æ¨¡å¼éƒ½ç”¨äºç”Ÿæˆå¤æ‚çš„å®ä¾‹ã€‚\n\n- å»ºé€ è€…æ¨¡å¼åˆ™æ˜¯åˆ†é˜¶æ®µåœ°åˆ¶ä½œå¤æ‚å®ä¾‹ï¼Œå…è®¸ä½ åœ¨è·å–äº§å“å‰æ‰§è¡Œä¸€äº›é¢å¤–æ„é€ æ­¥éª¤ã€‚\n- [[ç±»çš„å·¥å‚|æŠ½è±¡å·¥å‚æ¨¡å¼]] é€šè¿‡è°ƒç”¨æŠ½è±¡äº§å“çš„æ¥å£ï¼ˆAPIï¼‰æ¥ç»„è£…æŠ½è±¡äº§å“ï¼Œç”Ÿæˆå…·æœ‰å¤æ‚ç»“æ„çš„å®ä¾‹ã€‚\n\t- é©¬ä¸Šè¿”å›äº§å“ã€‚\n\t- æŠ½è±¡å·¥å‚æ¨¡å¼å¼ºè°ƒçš„æ˜¯äº§å“æ—çš„åˆ›å»ºï¼Œå³ç›¸å…³çš„äº§å“ä¸€èµ·è¢«åˆ›å»ºå‡ºæ¥ï¼Œè€Œå»ºé€ è€…æ¨¡å¼å¼ºè°ƒçš„æ˜¯ä¸€ä¸ªå¤æ‚å¯¹è±¡çš„åˆ›å»ºï¼Œå³å®ƒçš„å„ä¸ªéƒ¨åˆ†é€æ­¥è¢«åˆ›å»ºå‡ºæ¥ã€‚\n\n# Lombok ä¸­çš„ `@Builder` æ³¨è§£\n\nLombok æ˜¯ä¸€ä¸ªå¸¸ç”¨çš„ Java åº“ï¼Œé€šè¿‡æ·»åŠ æ³¨è§£å¯è‡ªåŠ¨å®ç°å»ºé€ è€…æ¨¡å¼ä»£ç æˆ– Getterã€Setter ç­‰ã€‚å…¶ä¸­ï¼Œ`@Builder` æ³¨è§£å¯ä»¥ç”¨æ¥å®ç°å»ºé€ è€…æ¨¡å¼ï¼Œçœç•¥æ‰‹åŠ¨ç¼–å†™å»ºé€ è€…æ¨¡å¼çš„ä»£ç ã€‚\n\n```java\nimport lombok.Builder;\nimport lombok.ToString;\n\n@Builder\n@ToString\npublic class Person {\n    private String name;\n    private int age;\n    private String address;\n    private String email;\n    private String phone;\n\n\t// Lombok ä¸­çš„ @Builder æ³¨è§£ä¼šåœ¨ç¼–è¯‘æ—¶è‡ªåŠ¨ç”Ÿæˆä¸€ä¸ªåä¸º Person.PersonBuilder çš„å†…éƒ¨ç±»\n\t/*******************************\n\tpublic static class Builder {\n        private String name;\n        private int age;\n        private String address;\n\n        public Builder() {}\n\n        public Builder name(String name) {\n            this.name = name;\n            return this;\n        }\n\n        public Builder age(int age) {\n            this.age = age;\n            return this;\n        }\n\n        public Builder address(String address) {\n            this.address = address;\n            return this;\n        }\n\n\t\t// ... etc.\n\n        public Person build() {\n            return new Person(this);\n        }\n    }\n    ************************************/\n}\n```\n\nä½¿ç”¨æ–¹å¼ï¼š\n\n```java\nPerson person = Person.builder()\n\t .name(\"ç‹äº”\")\n\t .age(28)\n\t .address(\"ä¸Šæµ·å¸‚æµ¦ä¸œæ–°åŒº\")\n\t .email(\"wangwu@example.com\")\n\t .phone(\"13600000000\")\n\t .build();\nSystem.out.println(person);\n```\n\n# åè®°\n\n> ğŸ‚ä»Šå¤©æ˜¯åšä¸»çš„ç”Ÿæ—¥~\n\nç­‰å¾…ææ˜ç™½çš„é—®é¢˜ï¼š\n\n- [x] é—®ï¼šGoF ä¸­çš„å»ºé€ è€…æ¨¡å¼çš„å…·ä½“åº”ç”¨åœ¨å“ªé‡Œï¼Ÿå®ƒèƒ½è§£å†³æ„é€ å‚æ•°ä¸­çš„å¿…é€‰å‚æ•°å’Œå¯é€‰å‚æ•°çš„é—®é¢˜å—ï¼Ÿç­”ï¼šå®ƒä»¬ä¹‹é—´çš„åŒºåˆ«ä»…æ˜¯æœ‰æ— ä¸»ç®¡çš„åŒºåˆ«ï¼Œå»ºé€ è€…æ¨¡å¼è§£å†³çš„é—®é¢˜å°±æ˜¯ä¸ºäº†é¿å…ã€Œé‡å æ„é€ å‡½æ•° ï¼ˆtelescoping constructorï¼‰ã€çš„å‡ºç°ã€‚\n\n# å‚è€ƒä¸å½’æ¡£\n\n## æœ¬æ–‡ PlantUML ä»£ç å½’æ¡£\n\n```plantuml\nclass Client\n\nclass Director{\n\tbuilder\n\t{method} build\n}\n\nabstract class Builder{\n\tproduct\n\t{method} {abstract} buildPart1\n\t{method} {abstract} buildPart2\n\t{method} {abstract} buildPart3\n\t{method} {abstract} getProduct\n}\n\nclass ConcreteBuilder{\n\t{method} buildPart1\n\t{method} buildPart2\n\t{method} buildPart3 \n\t{method} getProduct\n}\n\nclass Product{}\n\nClient -> Director : Uses\nDirector o- Builder\nBuilder <|-- ConcreteBuilder\nClient --> ConcreteBuilder : Uses\nBuilder *- Product\n```\n\n## å‚è€ƒæ–‡ç« \n\n- ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬ä¸ƒç«  Builder æ¨¡å¼\n- [æå®¢æ—¶é—´ä¸“æ  - è®¾è®¡æ¨¡å¼ä¹‹ç¾ - ç‹äº‰](https://gitee.com/buxsren/design-pattern-books/blob/master/docs/199674.md)\n- [è®¾è®¡æ¨¡å¼ç¬¬10è®²â€”â€”å»ºé€ è€…æ¨¡å¼ï¼ˆBuilderï¼‰-CSDNåšå®¢](https://blog.csdn.net/weixin_45433817/article/details/131175862)\n- [ç§’æ‡‚è®¾è®¡æ¨¡å¼ä¹‹å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder patternï¼‰ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/58093669?share_code=3o79BrAEDdcS&utm_psn=1921745149165283260)\n- [å»ºé€ è€…æ¨¡å¼ï¼ˆBuilder Patternï¼‰è¯¦è§£-CSDNåšå®¢](https://blog.csdn.net/yk_dflkg/article/details/147340859)\n- è¿™ç¯‡æ–‡ç« å¯èƒ½æœ‰è¯¯ï¼Œè¯·ä»”ç»†ç”„åˆ«ï¼š[Javaè®¾è®¡æ¨¡å¼ï¼šå»ºé€ è€…æ¨¡å¼ä¹‹ç»å…¸ä¸æµå¼çš„ä¸‰ç§å®ç°ï¼ˆå››ï¼‰-é˜¿é‡Œäº‘å¼€å‘è€…ç¤¾åŒº](https://developer.aliyun.com/article/1549784)\n- [åŸå‹è®¾è®¡æ¨¡å¼](https://refactoringguru.cn/design-patterns/builder)\n","categories":[{"name":"é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼","api":"api/categories/é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼.json"}],"tags":[{"name":"Java","api":"api/tags/Java.json"},{"name":"è®¾è®¡æ¨¡å¼","api":"api/tags/è®¾è®¡æ¨¡å¼.json"}]},"api":"api/posts/p/5b8a11ae.json"}