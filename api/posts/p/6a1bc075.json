{"data":{"title":"WordPress 修改文章标题前的「私密」和「密码保护」","slug":"博客站点维护/WordPress/WordPress 修改文章标题前的「私密」和「密码保护」","description":"在functions.php添加自定义函数。","date":"2022-04-01T14:58:15.000Z","updated":"2024-12-09T19:37:21.215Z","language":"zh-CN","comments":true,"url":"p/6a1bc075/","cover":"https://cdn.gallery.uuanqin.top/img/WPPIC.png","images":[],"content":"<p>打开仪表盘&gt;外观&gt;主题文件编辑器，找到functions.php，添加以下代码：</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"title function_ invoke__\">add_filter</span>( <span class=\"string\">&#x27;private_title_format&#x27;</span>, <span class=\"string\">&#x27;your_private_title_format&#x27;</span> ); <span class=\"comment\">//私密</span></span><br><span class=\"line\"><span class=\"title function_ invoke__\">add_filter</span>( <span class=\"string\">&#x27;protected_title_format&#x27;</span>, <span class=\"string\">&#x27;your_private_title_format&#x27;</span> ); <span class=\"comment\">//密码保护</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">your_private_title_format</span>(<span class=\"params\"> <span class=\"variable\">$format</span> </span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&#x27;%s&#x27;</span>; <span class=\"comment\">//这个不能省略</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p><code>return '%s'</code> 表示直接返回标题，也可以根据自己的需要，分别为 私密 和 密码保护 撰写不同的函数，定义返回的标题格式即可。比如：</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">//私密</span></span><br><span class=\"line\"><span class=\"title function_ invoke__\">add_filter</span>( <span class=\"string\">&#x27;private_title_format&#x27;</span>, <span class=\"string\">&#x27;your_private_title_format&#x27;</span> );</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">your_private_title_format</span>(<span class=\"params\"> <span class=\"variable\">$format</span> </span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&#x27;[私密] %s&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">//密码保护</span></span><br><span class=\"line\"><span class=\"title function_ invoke__\">add_filter</span>( <span class=\"string\">&#x27;protected_title_format&#x27;</span>, <span class=\"string\">&#x27;your_protected_title_format&#x27;</span> );</span><br><span class=\"line\"><span class=\"function\"><span class=\"keyword\">function</span> <span class=\"title\">your_protected_title_format</span>(<span class=\"params\"> <span class=\"variable\">$format</span> </span>) </span>&#123;</span><br><span class=\"line\">\t<span class=\"keyword\">return</span> <span class=\"string\">&#x27;[密码保护] %s&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>来源：<a href=\"http://yangjunwei.com/1557.html\">WordPress修改标题前的”私密”和”密码保护” - YangJunwei</a></p>\n","raw":"---\ntitle: WordPress 修改文章标题前的「私密」和「密码保护」\ntags:\n  - 搬运\ncategories:\n  - 博客站点维护\n  - WordPress\ndescription: 在functions.php添加自定义函数。\ncover: 'https://cdn.gallery.uuanqin.top/img/WPPIC.png'\nabbrlink: 6a1bc075\ndate: 2022-04-01 22:58:15\n---\n\n打开仪表盘>外观>主题文件编辑器，找到functions.php，添加以下代码：\n\n```php\nadd_filter( 'private_title_format', 'your_private_title_format' ); //私密\nadd_filter( 'protected_title_format', 'your_private_title_format' ); //密码保护\n\nfunction your_private_title_format( $format ) {\n\treturn '%s'; //这个不能省略\n}\n```\n\n`return '%s'` 表示直接返回标题，也可以根据自己的需要，分别为 私密 和 密码保护 撰写不同的函数，定义返回的标题格式即可。比如：\n\n```php\n//私密\nadd_filter( 'private_title_format', 'your_private_title_format' );\nfunction your_private_title_format( $format ) {\n\treturn '[私密] %s';\n}\n\n//密码保护\nadd_filter( 'protected_title_format', 'your_protected_title_format' );\nfunction your_protected_title_format( $format ) {\n\treturn '[密码保护] %s';\n}\n```\n\n来源：[WordPress修改标题前的”私密”和”密码保护” - YangJunwei](http://yangjunwei.com/1557.html)","categories":[{"name":"博客站点维护","api":"api/categories/博客站点维护.json"},{"name":"WordPress","api":"api/categories/博客站点维护/WordPress.json"}],"tags":[{"name":"搬运","api":"api/tags/搬运.json"}]},"api":"api/posts/p/6a1bc075.json"}