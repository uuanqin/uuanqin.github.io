{"title":"域名 DNS 服务托管至 Cloudflare 以及 301 重定向的配置","tags":["Cloudflare","301","DNS","阿里云"],"cover":"https://cdn.gallery.uuanqin.top/img/202410260347184.webp","description":"Cloudflare 重定向配置可以简化 Nginx 中的反向代理操作","abbrlink":"41b77d61","categories":["博客站点维护"],"date":"2024-10-26T03:32:09.000Z","top_img":null,"summary":"文章包含以下重定向需求的解决： | 名称 | 原地址 | 重定向后地址 | 原因 | | --------------- | ------------------------------ | -------------------- | ------------ | | HTTP 重定向到 HTTPS | `http://a.com` | `https://a.com` | 需全站跳转 HTTPS | | WWW 重定向到根 | `https://www.a.com` | `https://a.com` | 提高网站可达率 | | 去掉 `index.html` | `https://a.com/xxx/index.html` | `https://a.com/xxx/` | 统一路径、维持数据统一性 | | 补齐末尾斜杠 `/` | `https://a.com/xxx` | `https://a.com/xxx/` | 统一路径、维持数据统一性 | 链接重写与链接重定向的区别 链接重写 Rewrite > 相似概念：Rewrite URL（Cloudflare）、重写回源 URL（阿里云 CDN）、回源 URL 重写（腾讯云 CDN）、隐性 URL 转发（阿里云云解析） 简单来说，链接重写就是用户在请求 `https://a.com/p/a.txt` 资源时，当请求经过某个中间机构时，中间机构将请求替换为另一个链接，如 `https://b.top/img/a.txt`，并将新链接下的资源返回给用户。但是用户对所有这些替换操作均不知情，用户浏览器中的地址不会改变。 比如阿里云 CDN、腾讯云 CDN 均提供了「重写回源 URL」的功能： 链接重写常用于隐藏源站的真实 URL 结构，保护源站信息；或者通过 URL 映射，让 CDN 节点回源到不同的源站目录。 链接重定向 Redirect > 相似概念：Redirects（Cloudflare）、重写访问 URL（阿里云 CDN）、访问 URL 重写（腾讯云 CDN）、访问重定向（多吉云 CDN）、显性 URL 转发（阿里云云解析） 而链接重定向是指用户在请求 `https://a.com/p/a.txt` 资源时，中间服务结点告诉用户这个资源已经移到了 `https://b.top/img/a.t..."}