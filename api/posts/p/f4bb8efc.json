{"data":{"title":"å·®åˆ†æ•°ç»„","slug":"ç®—æ³•ä¸æ•°æ®ç»“æ„/å·®åˆ†æ•°ç»„","description":"è¿ç”¨å·®åˆ†æ•°ç»„çš„æ€§è´¨é™ä½å¤æ‚åº¦","date":"2025-05-22T15:04:47.000Z","updated":"2025-09-26T16:05:51.022Z","language":"zh-CN","comments":true,"url":"p/f4bb8efc/","cover":"https://cdn.gallery.uuanqin.top/img/202505262100782.webp","images":[],"content":"<p>å·®åˆ†æ•°ç»„æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—ã€‚</p>\n\n<div class=\"callout\" data-callout=\"cite\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-quote\"><path d=\"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z\"/><path d=\"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z\"/></svg>\n</div>\n<div class=\"callout-title-inner\">Cite</div>\n</div>\n<div class=\"callout-content\"><p>å·®åˆ†ä¸ <a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/59af443f/\"><span class=\"bilink-pop-up\">ç«™å†…æ–‡ç« </span>å‰ç¼€å’Œ</a> çš„å…³ç³»ï¼Œç±»ä¼¼å¯¼æ•°ä¸ç§¯åˆ†çš„å…³ç³»ã€‚â€”â€”<a href=\"https://leetcode.cn/u/endlesscheng/\">@çµèŒ¶å±±è‰¾åºœ</a></p>\n</div></div><p>æœ¬æ–‡é¢˜ç›®éš¾åº¦æ ‡è¯†ï¼šğŸŸ©ç®€å•ï¼ŒğŸŸ¨ä¸­ç­‰ï¼ŒğŸŸ¥å›°éš¾ã€‚</p>\n<h1 id=\"ä¸€ç»´å·®åˆ†\"><a class=\"markdownIt-Anchor\" href=\"#ä¸€ç»´å·®åˆ†\"></a> ä¸€ç»´å·®åˆ†</h1>\n<p>å¯¹äºæ•°ç»„ aï¼Œå®šä¹‰å…¶å·®åˆ†æ•°ç»„ï¼ˆdifference arrayï¼‰ä¸º</p>\n<p class='katex-block'><span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>d</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo><mo>=</mo><mrow><mo fence=\"true\">{</mo><mtable rowspacing=\"0.3599999999999999em\" columnalign=\"left left\" columnspacing=\"1em\"><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>a</mi><mo stretchy=\"false\">[</mo><mn>0</mn><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mspace width=\"1em\"/><mi>i</mi><mo>=</mo><mn>0</mn></mrow></mstyle></mtd></mtr><mtr><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mi>a</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo><mo>âˆ’</mo><mi>a</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo>âˆ’</mo><mn>1</mn><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo></mrow></mstyle></mtd><mtd><mstyle scriptlevel=\"0\" displaystyle=\"false\"><mrow><mspace width=\"1em\"/><mi>i</mi><mo>â‰¥</mo><mn>1</mn></mrow></mstyle></mtd></mtr></mtable></mrow></mrow><annotation encoding=\"application/x-tex\">\nd[i] = \n\\begin{cases} \na[0], &amp; \\quad i = 0 \\\\ \na[i] - a[i - 1], &amp; \\quad i \\geq 1 \n\\end{cases}\n\n</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:3.0000299999999998em;vertical-align:-1.25003em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size4\">{</span></span><span class=\"mord\"><span class=\"mtable\"><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord\">0</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">âˆ’</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span><span class=\"arraycolsep\" style=\"width:1em;\"></span><span class=\"col-align-l\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.69em;\"><span style=\"top:-3.69em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">0</span></span></span><span style=\"top:-2.25em;\"><span class=\"pstrut\" style=\"height:3.008em;\"></span><span class=\"mord\"><span class=\"mspace\" style=\"margin-right:1em;\"></span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mrel\">â‰¥</span><span class=\"mspace\" style=\"margin-right:0.2777777777777778em;\"></span><span class=\"mord\">1</span></span></span></span><span class=\"vlist-s\">â€‹</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.19em;\"><span></span></span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span></span></span></span></span></p>\n<p>å·®åˆ†æ•°ç»„å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š</p>\n<ul>\n<li>æ€§è´¨ 1ï¼šä»å·¦åˆ°å³ç´¯åŠ  d ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥å¾—åˆ°æ•°ç»„ aã€‚</li>\n<li>æ€§è´¨ 2ï¼šå¦‚ä¸‹ä¸¤ä¸ªæ“ä½œæ˜¯ç­‰ä»·çš„ã€‚\n<ul>\n<li>æŠŠ a çš„å­æ•°ç»„ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>a</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">]</mo><mo separator=\"true\">,</mo><mo>â€¦</mo><mo separator=\"true\">,</mo><mi>a</mi><mo stretchy=\"false\">[</mo><mi>j</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">a[i],a[i+1],â€¦,a[j]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"minner\">â€¦</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.16666666666666666em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mclose\">]</span></span></span></span> éƒ½åŠ ä¸Š <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ã€‚</li>\n<li>æŠŠ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">d[i]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span></span></span></span> å¢åŠ  <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ï¼ŒæŠŠ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mo stretchy=\"false\">[</mo><mi>j</mi><mo>+</mo><mn>1</mn><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">d[j+1]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\" style=\"margin-right:0.05724em;\">j</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222222222222222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\">1</span><span class=\"mclose\">]</span></span></span></span> å‡å°‘ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>x</mi></mrow><annotation encoding=\"application/x-tex\">x</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.43056em;vertical-align:0em;\"></span><span class=\"mord mathnormal\">x</span></span></span></span>ã€‚</li>\n</ul>\n</li>\n</ul>\n<p>è§‚å¯Ÿæ€§è´¨ 2ï¼ŒåŸæœ¬ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> çš„æ“ä½œå¯ä»¥å˜ä¸º <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mn>1</mn><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(1)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord\">1</span><span class=\"mclose\">)</span></span></span></span> çš„æ“ä½œï¼Œç„¶åé€šè¿‡æ€§è´¨ 1 ä½¿ç”¨ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>O</mi><mo stretchy=\"false\">(</mo><mi>n</mi><mo stretchy=\"false\">)</mo></mrow><annotation encoding=\"application/x-tex\">O(n)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.02778em;\">O</span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">n</span><span class=\"mclose\">)</span></span></span></span> çš„æ—¶é—´æ¢å¤æ•°ç»„ aã€‚æ€§è´¨ 2 ä¹Ÿå‘Šè¯‰æˆ‘ä»¬å·®åˆ†æ•°ç»„æ˜¯æ€ä¹ˆå½±å“åŸæ•°ç»„çš„ã€‚å½“ <span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>d</mi><mo stretchy=\"false\">[</mo><mi>i</mi><mo stretchy=\"false\">]</mo></mrow><annotation encoding=\"application/x-tex\">d[i]</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">d</span><span class=\"mopen\">[</span><span class=\"mord mathnormal\">i</span><span class=\"mclose\">]</span></span></span></span> å‘ç”Ÿå˜åŠ¨ï¼Œå¦‚åŠ  1ï¼Œè¡¨ç¤ºæŠŠ a ä¸­ä¸‹æ ‡ i åŠåé¢çš„æ•°éƒ½åŠ ä¸Šäº† 1ã€‚</p>\n\n<div class=\"callout\" data-callout=\"example\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-list\"><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>\n</div>\n<div class=\"callout-title-inner\">æœ¬èŠ‚ä¾‹é¢˜ ğŸŸ¨ <a href=\"https://leetcode.cn/problems/car-pooling/description/\">1094. æ‹¼è½¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">int</span>[] diff = <span class=\"keyword\">new</span> <span class=\"title class_\">int</span>[<span class=\"number\">1003</span>];</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>[] q: questions)&#123;</span><br><span class=\"line\">\tdiff[q[<span class=\"number\">1</span>]]+=q[<span class=\"number\">0</span>]; <span class=\"comment\">// start</span></span><br><span class=\"line\">\tdiff[q[<span class=\"number\">2</span>]]-=q[<span class=\"number\">0</span>]; <span class=\"comment\">// end+1</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;          <span class=\"comment\">// å‰ç¼€å’Œ</span></span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span> i=<span class=\"number\">0</span>;i&lt;=<span class=\"number\">1000</span>;i++)&#123;</span><br><span class=\"line\">\tpre+=diff[i];</span><br><span class=\"line\">\t<span class=\"comment\">// é€šè¿‡å‰ç¼€å’Œè¿˜åŸåŸæ•°ç»„</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç›¸å…³é¢˜ç›®ï¼šğŸŸ© <a href=\"https://leetcode.cn/problems/points-that-intersect-with-cars/description/\">2848. ä¸è½¦ç›¸äº¤çš„ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></p>\n<p>å¦‚æœå·®åˆ†æ•°ç»„çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œæˆ–æ„å»ºå·®åˆ†æ•°ç»„çš„é•¿åº¦è¿‡å¤§ï¼Œé‚£ä¹ˆåœ¨å®ç°å·®åˆ†æ•°ç»„æ—¶é™¤äº†å»ºç«‹ä¸€ä¸ª <code>Array</code> æ•°ç»„å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ <code>Map</code> æ›¿ä»£æ•°ç»„è®°å½•ä¸‹æ ‡å’Œå€¼çš„é”®å€¼å¯¹ã€‚</p>\n<p>Java å…·ä½“åšæ³•ä¸ºï¼Œä½¿ç”¨ <code>TreeMap</code> æˆ–ä½¿ç”¨æ™®é€š <code>Map</code>ï¼Œå†å¯¹ <code>key</code> åšä¸€æ¬¡æ’åºã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">Map&lt;Integer,Integer&gt; map = <span class=\"keyword\">new</span> <span class=\"title class_\">TreeMap</span>&lt;&gt;();</span><br><span class=\"line\"><span class=\"keyword\">for</span>(<span class=\"type\">int</span>[] q:questions)&#123;</span><br><span class=\"line\">\tmap.merge(q[<span class=\"number\">1</span>],q[<span class=\"number\">0</span>],Integer::sum);</span><br><span class=\"line\">\tmap.merge(q[<span class=\"number\">2</span>],-q[<span class=\"number\">0</span>],Integer::sum);</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"><span class=\"type\">int</span> <span class=\"variable\">pre</span> <span class=\"operator\">=</span> <span class=\"number\">0</span>;</span><br><span class=\"line\"><span class=\"keyword\">for</span>(Map.Entry&lt;Integer,Integer&gt; e:map.entrySet())&#123;</span><br><span class=\"line\">\tpre+=e.getValue();</span><br><span class=\"line\">\t<span class=\"comment\">// é€šè¿‡å‰ç¼€å’Œè¿˜åŸåŸæ•°ç»„</span></span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>ç›¸å…³é¢˜ç›®ï¼š</p>\n<ul>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/my-calendar-ii/\">731. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¥ <a href=\"https://leetcode.cn/problems/my-calendar-iii/description/\">732. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n<h1 id=\"äºŒç»´å·®åˆ†\"><a class=\"markdownIt-Anchor\" href=\"#äºŒç»´å·®åˆ†\"></a> äºŒç»´å·®åˆ†</h1>\n<p>ä»ä¸€ä½å·®åˆ†æ•°ç»„åˆ°äºŒç»´å·®åˆ†æ•°ç»„ï¼š</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202505262050529.webp\" alt=\"image.png\" /></p>\n<p>åŸæ•°ç»„çš„è¿˜åŸæ–¹å¼ï¼šè®¡ç®—äºŒç»´å‰ç¼€å’Œå³å¯è¿˜åŸã€‚</p>\n\n<div class=\"callout\" data-callout=\"example\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-list\"><line x1=\"8\" x2=\"21\" y1=\"6\" y2=\"6\"/><line x1=\"8\" x2=\"21\" y1=\"12\" y2=\"12\"/><line x1=\"8\" x2=\"21\" y1=\"18\" y2=\"18\"/><line x1=\"3\" x2=\"3.01\" y1=\"6\" y2=\"6\"/><line x1=\"3\" x2=\"3.01\" y1=\"12\" y2=\"12\"/><line x1=\"3\" x2=\"3.01\" y1=\"18\" y2=\"18\"/></svg>\n</div>\n<div class=\"callout-title-inner\">äºŒç»´å‰ç¼€å’Œï¼šğŸŸ¨ <a href=\"https://leetcode.cn/problems/range-sum-query-2d-immutable/description/\">304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><p>ç›¸å…³é¢˜ç›®ï¼š</p>\n<ul>\n<li>ğŸŸ¨ <a href=\"https://leetcode.cn/problems/increment-submatrices-by-one/description/\">2536. å­çŸ©é˜µå…ƒç´ åŠ  1 - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li>ğŸŸ¥ <a href=\"https://leetcode.cn/problems/stamping-the-grid/description/\">2132. ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n<h1 id=\"æœ¬æ–‡å‚è€ƒ\"><a class=\"markdownIt-Anchor\" href=\"#æœ¬æ–‡å‚è€ƒ\"></a> æœ¬æ–‡å‚è€ƒ</h1>\n<ul>\n<li><a href=\"https://leetcode.cn/problems/car-pooling/solutions/1/suan-fa-xiao-ke-tang-chai-fen-shu-zu-fu-9d4ra/\">ã€ç®—æ³•å°è¯¾å ‚ã€‘å·®åˆ†æ•°ç»„ï¼ˆPython/Java/C++/Go/JS/Rustï¼‰</a></li>\n<li><a href=\"https://leetcode.cn/discuss/post/3583665/fen-xiang-gun-ti-dan-chang-yong-shu-ju-j-bvmv/\">åˆ†äº«ä¸¨ã€ç®—æ³•é¢˜å•ã€‘å¸¸ç”¨æ•°æ®ç»“æ„ï¼ˆå‰ç¼€å’Œ/æ ˆ/é˜Ÿåˆ—/å †/å­—å…¸æ ‘/å¹¶æŸ¥é›†/æ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘ï¼‰- è®¨è®º - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n<li><a href=\"https://leetcode.cn/problems/stamping-the-grid/solutions/1199642/wu-nao-zuo-fa-er-wei-qian-zhui-he-er-wei-zwiu/\">2132. ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰</a></li>\n</ul>\n","raw":"---\ntitle: å·®åˆ†æ•°ç»„\ntags:\n  - Array\n  - Java\n  - å‰ç¼€å’Œ\ncover: 'https://cdn.gallery.uuanqin.top/img/202505262100782.webp'\ndescription: è¿ç”¨å·®åˆ†æ•°ç»„çš„æ€§è´¨é™ä½å¤æ‚åº¦\nkatex: true\ncategories:\n  - ç®—æ³•ä¸æ•°æ®ç»“æ„\nabbrlink: f4bb8efc\ndate: 2025-05-22 23:04:47\ntop_img:\n---\n\nå·®åˆ†æ•°ç»„æ˜¯å‰ç¼€å’Œçš„é€†è¿ç®—ã€‚\n\n> [!cite]\n> å·®åˆ†ä¸ [[å‰åç¼€åˆ†è§£çš„åº”ç”¨|å‰ç¼€å’Œ]] çš„å…³ç³»ï¼Œç±»ä¼¼å¯¼æ•°ä¸ç§¯åˆ†çš„å…³ç³»ã€‚â€”â€”[@çµèŒ¶å±±è‰¾åºœ](https://leetcode.cn/u/endlesscheng/)\n\næœ¬æ–‡é¢˜ç›®éš¾åº¦æ ‡è¯†ï¼šğŸŸ©ç®€å•ï¼ŒğŸŸ¨ä¸­ç­‰ï¼ŒğŸŸ¥å›°éš¾ã€‚\n\n# ä¸€ç»´å·®åˆ†\n\nå¯¹äºæ•°ç»„ aï¼Œå®šä¹‰å…¶å·®åˆ†æ•°ç»„ï¼ˆdifference arrayï¼‰ä¸º\n\n$$\n\nd[i] = \n\\begin{cases} \na[0], & \\quad i = 0 \\\\ \na[i] - a[i - 1], & \\quad i \\geq 1 \n\\end{cases}\n\n$$\n\nå·®åˆ†æ•°ç»„å…·æœ‰ä»¥ä¸‹æ€§è´¨ï¼š\n\n- æ€§è´¨ 1ï¼šä»å·¦åˆ°å³ç´¯åŠ  d ä¸­çš„å…ƒç´ ï¼Œå¯ä»¥å¾—åˆ°æ•°ç»„ aã€‚\n- æ€§è´¨ 2ï¼šå¦‚ä¸‹ä¸¤ä¸ªæ“ä½œæ˜¯ç­‰ä»·çš„ã€‚\n\t- æŠŠ a çš„å­æ•°ç»„ $a[i],a[i+1],â€¦,a[j]$ éƒ½åŠ ä¸Š $x$ã€‚\n\t- æŠŠ $d[i]$ å¢åŠ  $x$ï¼ŒæŠŠ $d[j+1]$ å‡å°‘ $x$ã€‚\n\nè§‚å¯Ÿæ€§è´¨ 2ï¼ŒåŸæœ¬ $O(n)$ çš„æ“ä½œå¯ä»¥å˜ä¸º $O(1)$ çš„æ“ä½œï¼Œç„¶åé€šè¿‡æ€§è´¨ 1 ä½¿ç”¨ $O(n)$ çš„æ—¶é—´æ¢å¤æ•°ç»„ aã€‚æ€§è´¨ 2 ä¹Ÿå‘Šè¯‰æˆ‘ä»¬å·®åˆ†æ•°ç»„æ˜¯æ€ä¹ˆå½±å“åŸæ•°ç»„çš„ã€‚å½“ $d[i]$ å‘ç”Ÿå˜åŠ¨ï¼Œå¦‚åŠ  1ï¼Œè¡¨ç¤ºæŠŠ a ä¸­ä¸‹æ ‡ i åŠåé¢çš„æ•°éƒ½åŠ ä¸Šäº† 1ã€‚\n\n> [!example] æœ¬èŠ‚ä¾‹é¢˜ ğŸŸ¨ [1094. æ‹¼è½¦ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/car-pooling/description/)\n\n```java\nint[] diff = new int[1003];\nfor(int[] q: questions){\n\tdiff[q[1]]+=q[0]; // start\n\tdiff[q[2]]-=q[0]; // end+1\n}\nint pre = 0;          // å‰ç¼€å’Œ\nfor(int i=0;i<=1000;i++){\n\tpre+=diff[i];\n\t// é€šè¿‡å‰ç¼€å’Œè¿˜åŸåŸæ•°ç»„\n}\n```\n\nç›¸å…³é¢˜ç›®ï¼šğŸŸ© [2848. ä¸è½¦ç›¸äº¤çš„ç‚¹ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/points-that-intersect-with-cars/description/)\n\nå¦‚æœå·®åˆ†æ•°ç»„çš„æ•°æ®æ¯”è¾ƒç¨€ç–ï¼Œæˆ–æ„å»ºå·®åˆ†æ•°ç»„çš„é•¿åº¦è¿‡å¤§ï¼Œé‚£ä¹ˆåœ¨å®ç°å·®åˆ†æ•°ç»„æ—¶é™¤äº†å»ºç«‹ä¸€ä¸ª `Array` æ•°ç»„å¤–ï¼Œè¿˜å¯ä»¥ä½¿ç”¨ `Map` æ›¿ä»£æ•°ç»„è®°å½•ä¸‹æ ‡å’Œå€¼çš„é”®å€¼å¯¹ã€‚\n\nJava å…·ä½“åšæ³•ä¸ºï¼Œä½¿ç”¨ `TreeMap` æˆ–ä½¿ç”¨æ™®é€š `Map`ï¼Œå†å¯¹ `key` åšä¸€æ¬¡æ’åºã€‚\n\n```java\nMap<Integer,Integer> map = new TreeMap<>();\nfor(int[] q:questions){\n\tmap.merge(q[1],q[0],Integer::sum);\n\tmap.merge(q[2],-q[0],Integer::sum);\n}\nint pre = 0;\nfor(Map.Entry<Integer,Integer> e:map.entrySet()){\n\tpre+=e.getValue();\n\t// é€šè¿‡å‰ç¼€å’Œè¿˜åŸåŸæ•°ç»„\n}\n```\n\nç›¸å…³é¢˜ç›®ï¼š\n\n- ğŸŸ¨ [731. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ II - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/my-calendar-ii/)\n- ğŸŸ¥ [732. æˆ‘çš„æ—¥ç¨‹å®‰æ’è¡¨ III - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/my-calendar-iii/description/)\n\n# äºŒç»´å·®åˆ†\n\nä»ä¸€ä½å·®åˆ†æ•°ç»„åˆ°äºŒç»´å·®åˆ†æ•°ç»„ï¼š\n\n![image.png](https://cdn.gallery.uuanqin.top/img/202505262050529.webp)\n\nåŸæ•°ç»„çš„è¿˜åŸæ–¹å¼ï¼šè®¡ç®—äºŒç»´å‰ç¼€å’Œå³å¯è¿˜åŸã€‚\n\n> [!example] äºŒç»´å‰ç¼€å’Œï¼šğŸŸ¨ [304. äºŒç»´åŒºåŸŸå’Œæ£€ç´¢ - çŸ©é˜µä¸å¯å˜ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/range-sum-query-2d-immutable/description/)\n\nç›¸å…³é¢˜ç›®ï¼š\n\n- ğŸŸ¨ [2536. å­çŸ©é˜µå…ƒç´ åŠ  1 - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/increment-submatrices-by-one/description/)\n- ğŸŸ¥ [2132. ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/stamping-the-grid/description/)\n\n# æœ¬æ–‡å‚è€ƒ\n- [ã€ç®—æ³•å°è¯¾å ‚ã€‘å·®åˆ†æ•°ç»„ï¼ˆPython/Java/C++/Go/JS/Rustï¼‰](https://leetcode.cn/problems/car-pooling/solutions/1/suan-fa-xiao-ke-tang-chai-fen-shu-zu-fu-9d4ra/)\n- [åˆ†äº«ä¸¨ã€ç®—æ³•é¢˜å•ã€‘å¸¸ç”¨æ•°æ®ç»“æ„ï¼ˆå‰ç¼€å’Œ/æ ˆ/é˜Ÿåˆ—/å †/å­—å…¸æ ‘/å¹¶æŸ¥é›†/æ ‘çŠ¶æ•°ç»„/çº¿æ®µæ ‘ï¼‰- è®¨è®º - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/discuss/post/3583665/fen-xiang-gun-ti-dan-chang-yong-shu-ju-j-bvmv/)\n- [2132. ç”¨é‚®ç¥¨è´´æ»¡ç½‘æ ¼å›¾ - åŠ›æ‰£ï¼ˆLeetCodeï¼‰](https://leetcode.cn/problems/stamping-the-grid/solutions/1199642/wu-nao-zuo-fa-er-wei-qian-zhui-he-er-wei-zwiu/)\n","categories":[{"name":"ç®—æ³•ä¸æ•°æ®ç»“æ„","api":"api/categories/ç®—æ³•ä¸æ•°æ®ç»“æ„.json"}],"tags":[{"name":"Java","api":"api/tags/Java.json"},{"name":"å‰ç¼€å’Œ","api":"api/tags/å‰ç¼€å’Œ.json"},{"name":"Array","api":"api/tags/Array.json"}]},"api":"api/posts/p/f4bb8efc.json"}