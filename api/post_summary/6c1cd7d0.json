{"title":"STM32 工程的创建 - 基于寄存器或标准库","tags":["STM32","Keil","C"],"description":"附两种方式的 LED 点灯。","categories":["嵌入式"],"abbrlink":"6c1cd7d0","date":"2024-04-02T14:12:46.000Z","cover":"https://cdn.gallery.uuanqin.top/img/20240404230910.webp","top_img":null,"summary":"目前 STM32 的开发方式有 3 个层次： 基于寄存器方式。极少的人使用这种形式。这种方式最底层、最直接、效率更高，但 STM32 寄存器十分复杂，一般不建议采取这种方式。 基于标准库（库函数）方式。使用 ST 官方提供封装好的函数，通过调用函数间接配置寄存器。这种方式对开发人员比较友好，有利于提高开发效率。 基于 HAL 库方式。HAL 库是 ST 公司目前主力推的开发方式，全称就是 Hardware Abstraction Layer（抽象印象层）。可以使用图形化界面快速配置 STM32，隐藏底层的逻辑。 这里介绍基于寄存器或标准库方式创建 STM32 工程（以 STM32F103C8T6 为例，其它型号大差不差），并通过点灯演示示例。基于 HAL 库方式请移步：[[STM32 工程的创建 - 基于 HAL 库]] 软件安装提示：阅读前请准备好 Keil uVision5 MDK 的安装（可以和 Keil C51 安在一起），软件需破解。安装和破解过程不再赘述。Keil 的一些使用技巧可以看这篇文章：[[Keil 的使用技巧与问题解决]] LED 点灯实验工具准备： ST-LINK STM32（以 STM32F103C8T6 最小核心板为例） 杜邦线若干 固件库下载 进入官网： https://www.st.com/ 右上角选择中文。根据菜单选择：工具与软件>嵌入式软件>STM32 微控制器软件。 选择标准外设软件库，选择 F1 系列。 点击获取最新版本进行下载。 解压后得到固件库文件夹： 注意上面带【A】【B】【C】【D】【E】【F】标号的文件位置，后面会有相应操作。 新建项目 打开 Keil，选择 Project>New uVision project。 选择你要存放项目的文件夹（这个文件夹下有多个项目） 再新建一个文件夹（这个文件夹存放一个项目的所有东西，文件夹名称以后可以方便改） 选择新的空文件夹进入，设置工程的名字（比如这里为 `STM32-proj`）。工程的名字可以设置为通用的名字（以后不太方便改）。 注意路径名称 不要有中文。 新建工程后，选择 STM32F103C8： 我们可以把弹出的新建工程小助手给关掉，这里暂时不演示其的使用。..."}