{"title":"Linux 服务器 HTTPS 的配置","tags":["Apache","CDN","HTTPS","Linux","SSL","腾讯云"],"categories":["博客站点维护"],"description":"SSL证书的不同部署方式以及CDN配置HTTPS。","cover":"https://cdn.gallery.uuanqin.top/img/SSL_certificate-1cover.webp","abbrlink":"6f54b93a","date":"2023-12-06T14:54:30.000Z","summary":"> [!Notice] 文章增补说明 > 原题目：Linux 服务器添加 SSL 证书，最初于 2022 年 4 月 21 日发布。 > 现增加 SSL 证书自动部署部分重新发布，原文章永久链接不变。 让网站加上一个小锁。先展示未安装证书之前： 现描述配置步骤如下。 自动部署方式 > 本节于 2023 年 12 月 6 日新增。 首先确保相关子域名的 DNS 已经成功解析到当前服务器。 安装 certbot： 使用： 可以发现 Nginx 的配置文件已经出现了变化。比如我要加密的是 push.uuanqin.top 的子域名。现在的配置为： 修改后记得重启 nginx 一下： > 迁移服务器提示：把 nginx 配置文件迁移到新的服务器上时。在新服务器第一次使用 certbot 前，把之前旧服务器 certbot 在配置文件中自动添加的内容删掉，不然出错。 其他参考（没试过）：ZeroSSL: How to Secure Your Website with a Free SSL Certificate (linuxiac.com) certbot 部署的证书有效期为 3 个月，在过期前 1 个月会收到提示。我们可以重新运行 `certbot --nginx` 对相应的证书进行更新。或者结合 cron 定时任务完成自动更新。cron 用法详见：[[Linux 使用 Cron 创建定时任务]]。 手动部署方式 > 阿里云免费证书有效期目前调整至 3 个月：关于免费证书有效期策略调整通知_数字证书管理服务-阿里云帮助中心 (aliyun.com)。一个月后，新产品 HTTPS加速网关 上市，每月 60 元。 > > 腾讯云目前（2024 年 3 月 7 日）依然保持方法有效期 1 年的免费证书。一年可签发 50 张。但是 2024 年 4 月 25 日以后，免费 SSL 证书有效期将从 12 个月缩短至 3 个月：SSL 证书 关于免费 SSL 证书策略调整通知-产品公告-文档中心-腾讯云 (tencent.com) 获取 SSL 免费证书 在云服务商上申请免费证书。阿里云免费证书有效期为 1 年（2023 年 11 月 14 日以前）。现以阿里云免费证书 云盾证书服务 (aliyun.c..."}