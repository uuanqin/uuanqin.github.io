{"title":"【刷题日记】SQL 写题技巧积累","tags":["SQL","LeetCode"],"cover":"https://cdn.gallery.uuanqin.top/img/202409050037631.webp","description":"SQL 刷题热身练习","abbrlink":"12bc4bc9","categories":["计算机语言"],"date":"2024-08-28T16:37:41.000Z","top_img":null,"summary":"最近狂刷 SQL 题单，小小总结了一些题目的思路和技巧。 本文题目难度标识：🟩简单，🟨中等，🟥困难。 单纯的 `SELECT` 语句使用 SQL 中单纯使用 `SELECT` 语句（不使用 `FROM`）语句可以完成一些函数测试，或构建简单表。 标量子查询将空表处理为 `NULL` > 相关题目：🟨 176. 第二高的薪水 - 力扣（LeetCode） `select` 加上标量子查询的技巧： `\"some result\"` 可以代替为一个标量子查询，该子查询返回 1 行 1 列结果或者 1 列空表。 当子查询返回一个结果时，`select <子查询> as col_name;` 返回列名更改后的子查询结果 当子查询为空表时，`select <子查询> as col_name;` 返回一个 `NULL` 值 下面的语句和上面的标量子查询的技巧是等价的： 展示分组前三数据 `WHERE` > 相关题目：🟥 185. 部门工资前三高的所有员工 - 力扣（LeetCode） 分组（`GROUP BY`）中的比率计算 > [!example] 题目：🟩 1211. 查询结果的质量和占比 - 力扣（LeetCode） > > | Column Name | Type | > | ----------- | ------- | > | query_name | varchar | > | result | varchar | > | position | int | > | rating | int | > > 此表可能有重复的行。此表包含了一些从数据库中收集的查询信息： > - “位置”（position）列的值为 1 到 500 。 > - “评分”（rating）列的值为 1 到 5 。评分小于 3 的查询被定义为质量很差的查询。 > > 将查询结果的质量 quality 定义为：各查询结果的评分与其位置之间比率的平均值。 > 将劣质查询百分比 `poor_query_percentage` 为：评分小于 3 的查询结果占全部查询结果的百分比。 要点： 可以利用 IF 方便计算组内一些记录的占比 > [!example] 小练习 1：尝试改变上述的 SQL 语句，使其不包含 `SUM` 和 `COUNT` 语句。..."}