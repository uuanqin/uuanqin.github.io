{"data":{"title":"åŸå‹æ¨¡å¼ï¼šå­¦ä¼šå…‹éš†","slug":"é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼/åŸå‹æ¨¡å¼ï¼šå­¦ä¼šå…‹éš†","description":"ç”¨äº†cloneå…¶å®å°±æ˜¯æœ‰åŸå‹æ¨¡å¼çš„æ„æ€","date":"2025-07-21T15:36:14.000Z","updated":"2025-08-18T12:48:20.277Z","language":"zh-CN","comments":true,"url":"p/96a98120/","cover":"https://cdn.gallery.uuanqin.top/img/202507212334117.webp","images":[],"content":"<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202503040232648.webp\" alt=\"image.png\" width=\"350px\" /></p>\n<p>é€šè¿‡ <code>new</code> å…³é”®å­—ç”Ÿæˆå®ä¾‹æ˜¯éœ€è¦æŒ‡å®šç±»åçš„ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ã€Œåœ¨ä¸æŒ‡å®šç±»åçš„å‰æä¸‹ç”Ÿæˆå®ä¾‹ã€çš„éœ€æ±‚ã€‚</p>\n<p>åœ¨ä»¥ä¸‹æƒ…å†µï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ ¹æ®ç±»æ¥ç”Ÿæˆå®ä¾‹ï¼Œè€Œè¦æ ¹æ®ç°æœ‰çš„å®ä¾‹æ¥ç”Ÿæˆæ–°çš„å®ä¾‹ã€‚</p>\n<ol>\n<li>å¯¹è±¡ç§ç±»ç¹å¤šï¼Œæ— æ³•å°†å®ƒä»¬æ•´åˆåˆ°ä¸€ä¸ªç±»ä¸­ã€‚éœ€è¦å¤„ç†çš„å¯¹è±¡å¤ªå¤šï¼Œå¦‚æœå°†å®ƒä»¬åˆ†åˆ«ä½œä¸ºä¸€ä¸ªç±»ï¼Œå¿…é¡»è¦ç¼–å†™å¾ˆå¤šä¸ªç±»æ–‡ä»¶ã€‚</li>\n<li>éš¾ä»¥æ ¹æ®ç±»ç”Ÿæˆå®ä¾‹ã€‚ç”Ÿæˆå®ä¾‹çš„è¿‡ç¨‹å¤ªå¤æ‚ã€‚</li>\n<li>æƒ³è§£è€¦æ¡†æ¶ä¸ç”Ÿæˆçš„å®ä¾‹æ—¶ã€‚æƒ³è®©ç”Ÿæˆå®ä¾‹çš„æ¡†æ¶ä¸ä¾èµ–äºå…·ä½“çš„ç±»ã€‚</li>\n</ol>\n<p>Prototype æ¨¡å¼ï¼š</p>\n<ul>\n<li>åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦å¤šæ¬¡åˆ›å»ºæŸä¸€ç±»å‹çš„å¯¹è±¡ï¼Œä¸ºäº†ç®€åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œå¯ä»¥åªåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†é€šè¿‡å…‹éš†çš„æ–¹å¼å¤åˆ¶å‡ºå¤šä¸ªç›¸åŒçš„å¯¹è±¡</li>\n<li>åŸå‹æ¨¡å¼ä¸è·Ÿæ®ç±»ç”Ÿæˆå®ä¾‹ï¼Œè€Œæ˜¯æ ¹æ®å®ä¾‹æ¥ç”Ÿæˆæ–°å®ä¾‹ã€‚åœ¨ Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ <code>clone</code> åˆ›å»ºå‡ºå®ä¾‹çš„å‰¯æœ¬ã€‚</li>\n<li>åŸå‹æ¨¡å¼<strong>åœ¨åˆ›å»ºé‡å¤å¯¹è±¡çš„åŒæ—¶ï¼Œéœ€è¦ä¿è¯æ€§èƒ½</strong>ã€‚å¯ä»¥é€šè¿‡ <code>clone()</code> æ‹·è´å·²æœ‰å¯¹è±¡çš„æ•°æ®ï¼Œæ›´æ–°å°‘é‡å·®å€¼æ¥å®ç°ã€‚</li>\n</ul>\n<p>ç¼ºç‚¹ï¼š</p>\n<ul>\n<li>éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ï¼Œå› æ­¤å¯¹å·²æœ‰ç±»è¿›è¡Œæ”¹é€ æ¯”è¾ƒéº»çƒ¦ã€‚éœ€è¦ä¿®æ”¹å…¶æºä»£ç ï¼Œå¹¶ä¸”åœ¨å®ç°æ·±å…‹éš†æ—¶éœ€è¦ç¼–å†™è¾ƒä¸ºå¤æ‚çš„ä»£ç ã€‚</li>\n</ul>\n<p>åŸå‹æ¨¡å¼çš„åŸºæœ¬å·¥ä½œåŸç†ï¼šé€šè¿‡å°†ä¸€ä¸ªåŸå‹å¯¹è±¡ä¼ ç»™é‚£ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡ï¼Œè¿™ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡é€šè¿‡è¯·æ±‚åŸå‹å¯¹è±¡å¤åˆ¶åŸå‹è‡ªå·±æ¥å®ç°åˆ›å»ºè¿‡ç¨‹ã€‚</p>\n<p>ç™»åœºè§’è‰²ï¼š</p>\n<ul>\n<li><code>Prototype</code>ï¼ˆæŠ½è±¡åŸå‹ç±»ï¼‰ï¼šå®šä¹‰ç”¨äºå¤åˆ¶ç°æœ‰å®ä¾‹æ¥ç”Ÿæˆæ–°å®ä¾‹çš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯æŠ½è±¡ç±»ä¹Ÿå¯ä»¥æ˜¯æ¥å£ã€‚åœ¨ Java ä¸­ï¼Œè¿™ä¸ªæŠ½è±¡ç±»æ˜¯å®ç°äº† <code>@Cloneable</code> æ¥å£çš„ã€‚</li>\n<li><code>ConcretePrototype</code>ï¼ˆå…·ä½“åŸå‹ç±»ï¼‰ï¼šå®ç°å¤åˆ¶ç°æœ‰å®ä¾‹å¹¶ç”Ÿæˆæ–°å®ä¾‹çš„æ–¹æ³•ã€‚</li>\n<li><code>Client</code>ï¼ˆä½¿ç”¨è€…ï¼‰ï¼šä½¿ç”¨å¤åˆ¶å®ä¾‹çš„æ–¹æ³•ç”Ÿæˆæ–°å®ä¾‹ã€‚</li>\n</ul>\n<pre><code class=\"highlight mermaid\">classDiagram\n    class Client &#123;\n    &#125;\n\n    class Prototype &#123;\n        &lt;&lt;abstract&gt;&gt;\n        +clone() Prototype\n    &#125;\n\n    class ConcretePrototypeA &#123;\n        +clone() Prototype\n    &#125;\n\n    class ConcretePrototypeB &#123;\n        +clone() Prototype\n    &#125;\n\n    Client --&gt; Prototype : uses\n    Prototype &lt;|-- ConcretePrototypeA\n    Prototype &lt;|-- ConcretePrototypeB</code></pre>\n<p>ç›¸å…³çš„è®¾è®¡æ¨¡å¼ï¼š</p>\n<ul>\n<li>äº«å…ƒæ¨¡å¼ Flyweightï¼šä½¿ç”¨ Prototype æ¨¡å¼å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸å½“å‰å®ä¾‹çš„çŠ¶æ€å®Œå…¨ç›¸åŒçš„å®ä¾‹ã€‚è€Œä½¿ç”¨ Flyweight æ¨¡å¼å¯ä»¥åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨åŒä¸€ä¸ªå®ä¾‹ã€‚</li>\n<li>Memento æ¨¡å¼ï¼šä½¿ç”¨ Prototype æ¨¡å¼å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸å½“å‰å®ä¾‹çš„çŠ¶æ€å®Œå…¨ç›¸åŒçš„å®ä¾‹ã€‚è€Œä½¿ç”¨ Memento æ¨¡å¼å¯ä»¥ä¿å­˜å½“å‰å®ä¾‹çš„çŠ¶æ€ï¼Œä»¥å®ç°å¿«ç…§å’Œæ’¤é”€åŠŸèƒ½ã€‚</li>\n<li><a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/undefined/\"><span class=\"yukari\">ç«™å†…æ–‡ç« </span>ç»„åˆæ¨¡å¼</a> ä»¥åŠ è£…é¥°è€…æ¨¡å¼ Decoratorï¼šç»å¸¸ä½¿ç”¨ç»„åˆæ¨¡å¼å’Œ Decorator æ¨¡å¼æ—¶ï¼Œéœ€è¦èƒ½å¤ŸåŠ¨æ€åœ°åˆ›å»ºå¤æ‚ç»“æ„çš„å®ä¾‹ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æ–¹ä¾¿åœ°ç”Ÿæˆå®ä¾‹ã€‚</li>\n<li>Command æ¨¡å¼ï¼šæƒ³è¦å¤åˆ¶ Command æ¨¡å¼ä¸­å‡ºç°çš„å‘½ä»¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Prototype æ¨¡å¼ã€‚</li>\n</ul>\n<h2 id=\"ç¤ºä¾‹å¸¦åŸå‹ç®¡ç†å™¨çš„åŸå‹æ¨¡å¼\"><a class=\"markdownIt-Anchor\" href=\"#ç¤ºä¾‹å¸¦åŸå‹ç®¡ç†å™¨çš„åŸå‹æ¨¡å¼\"></a> ç¤ºä¾‹ï¼šå¸¦åŸå‹ç®¡ç†å™¨çš„åŸå‹æ¨¡å¼</h2>\n<blockquote>\n<p>ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬å…­ç« ä¸­çš„æ¡ˆä¾‹å…¶å®å°±æ˜¯ä½¿ç”¨äº†åŸå‹ç®¡ç†å™¨ã€‚</p>\n</blockquote>\n<p>åŸå‹ç®¡ç†å™¨ï¼ˆPrototype Managerï¼‰è§’è‰²åˆ›å»ºå…·ä½“åŸå‹ç±»çš„å¯¹è±¡ï¼Œå¹¶è®°å½•æ¯ä¸€ä¸ªè¢«åˆ›å»ºçš„å¯¹è±¡ã€‚åŸå‹ç®¡ç†å™¨çš„ä½œç”¨ä¸å·¥å‚ç›¸ä¼¼ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé›†åˆç”¨äºå­˜å‚¨åŸå‹å¯¹è±¡ï¼Œå¦‚æœéœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€ä¸ªå…‹éš†ï¼Œå¯ä»¥é€šè¿‡å¤åˆ¶é›†åˆä¸­å¯¹åº”çš„åŸå‹å¯¹è±¡æ¥è·å¾—ã€‚åœ¨åŸå‹ç®¡ç†å™¨ä¸­é’ˆå¯¹æŠ½è±¡åŸå‹ç±»è¿›è¡Œç¼–ç¨‹ï¼Œä»¥ä¾¿æ‰©å±•ã€‚</p>\n<h3 id=\"æ¡ˆä¾‹-1color\"><a class=\"markdownIt-Anchor\" href=\"#æ¡ˆä¾‹-1color\"></a> æ¡ˆä¾‹ 1ï¼šColor</h3>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507212317316.webp\" alt=\"image.png\" /></p>\n<p>æŠ½è±¡åŸå‹ç±» <code>MyColor</code>ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">interface</span> <span class=\"title class_\">MyColor</span> <span class=\"keyword\">extends</span> <span class=\"title class_\">Cloneable</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> Object <span class=\"title function_\">clone</span><span class=\"params\">()</span>;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">display</span><span class=\"params\">()</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…·ä½“åŸå‹ç±» <code>Red</code>ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Red</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">MyColor</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Object <span class=\"title function_\">clone</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        Red r=<span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            r = (Red) <span class=\"built_in\">super</span>.clone();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span> (Exception e)&#123;&#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> r;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">display</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;This is Red&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å…·ä½“åŸå‹ç±» <code>Blue</code>ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Blue</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">MyColor</span> &#123;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> Object <span class=\"title function_\">clone</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        Blue b=<span class=\"literal\">null</span>;</span><br><span class=\"line\">        <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">            b = (Blue) <span class=\"built_in\">super</span>.clone();</span><br><span class=\"line\">        &#125;<span class=\"keyword\">catch</span> (Exception e)&#123;</span><br><span class=\"line\"></span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> b;</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"meta\">@Override</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">display</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        System.out.println(<span class=\"string\">&quot;This is Blue&quot;</span>);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>åŸå‹ç®¡ç†å™¨ç±» <code>PrototypeManager</code>ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">PrototypeManager</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">private</span> <span class=\"type\">Hashtable</span> <span class=\"variable\">ht</span> <span class=\"operator\">=</span><span class=\"keyword\">new</span> <span class=\"title class_\">Hashtable</span>();</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"title function_\">PrototypeManager</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        ht.put(<span class=\"string\">&quot;red&quot;</span>,<span class=\"keyword\">new</span> <span class=\"title class_\">Red</span>());</span><br><span class=\"line\">        ht.put(<span class=\"string\">&quot;blue&quot;</span>,<span class=\"keyword\">new</span> <span class=\"title class_\">Blue</span>());</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">void</span> <span class=\"title function_\">addColor</span><span class=\"params\">(String key,MyColor obj)</span>&#123;</span><br><span class=\"line\">        ht.put(key,obj);</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> MyColor <span class=\"title function_\">getColor</span><span class=\"params\">(String key)</span>&#123;</span><br><span class=\"line\">        <span class=\"keyword\">return</span> (MyColor) ((MyColor)ht.get(key)).clone();</span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®¢æˆ·ç«¯æµ‹è¯•ç±» <code>Client</code>ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Client</span> &#123;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">PrototypeManager</span> <span class=\"variable\">pm</span> <span class=\"operator\">=</span><span class=\"keyword\">new</span> <span class=\"title class_\">PrototypeManager</span>();</span><br><span class=\"line\"></span><br><span class=\"line\">        MyColor obj1=pm.getColor(<span class=\"string\">&quot;red&quot;</span>);</span><br><span class=\"line\">        obj1.display();</span><br><span class=\"line\"></span><br><span class=\"line\">        MyColor obj2=pm.getColor(<span class=\"string\">&quot;red&quot;</span>);</span><br><span class=\"line\">        obj2.display();</span><br><span class=\"line\"></span><br><span class=\"line\">        System.out.println(obj1==obj2); <span class=\"comment\">// false</span></span><br><span class=\"line\"></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h3 id=\"æ¡ˆä¾‹-2shape\"><a class=\"markdownIt-Anchor\" href=\"#æ¡ˆä¾‹-2shape\"></a> æ¡ˆä¾‹ 2ï¼šShape</h3>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507212323570.webp\" alt=\"image.png\" width=\"375px\" /></p>\n<h1 id=\"å¼•ç”¨æ‹·è´å’Œå¯¹è±¡æ‹·è´\"><a class=\"markdownIt-Anchor\" href=\"#å¼•ç”¨æ‹·è´å’Œå¯¹è±¡æ‹·è´\"></a> å¼•ç”¨æ‹·è´å’Œå¯¹è±¡æ‹·è´</h1>\n<p>å¯¹è±¡å’Œå¼•ç”¨çš„åŒºåˆ«ï¼š</p>\n<ul>\n<li>å¯¹è±¡ï¼šç»å¤§å¤šæ•°å¯¹è±¡åœ¨å †åŒºï¼Œå®ƒæ˜¯å®é™…ä¿å­˜å±æ€§çš„å†…å­˜ç©ºé—´</li>\n<li>å¼•ç”¨ï¼šå¼•ç”¨å¤§å¤šå¼•ç”¨åœ¨æ ˆåŒºï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºæŒ‡å‘å®é™…å¯¹è±¡åœ°å€çš„æŒ‡é’ˆ</li>\n</ul>\n<p>ä¸€ä¸ªå¯¹è±¡å¯ä»¥æœ‰å¤šä¸ªå¼•ç”¨ï¼Œä½†ä¸€ä¸ªå¼•ç”¨åªèƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ <code>==</code> æ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œä¸€èˆ¬æ¯”è¾ƒçš„æ˜¯å¯¹è±¡åœ°å€ã€‚</p>\n<h2 id=\"å¼•ç”¨æ‹·è´\"><a class=\"markdownIt-Anchor\" href=\"#å¼•ç”¨æ‹·è´\"></a> å¼•ç”¨æ‹·è´</h2>\n<p>å¼•ç”¨æ‹·è´ç¤ºä¾‹ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Teacher</span> <span class=\"variable\">teacher</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Teacher</span>(<span class=\"string\">&quot;Taylor&quot;</span>,<span class=\"number\">26</span>);</span><br><span class=\"line\"><span class=\"type\">Teacher</span> <span class=\"variable\">otherteacher</span> <span class=\"operator\">=</span> teacher;</span><br><span class=\"line\">System.out.println(teacher);      <span class=\"comment\">// blog.Teacher@355da254</span></span><br><span class=\"line\">System.out.println(otherteacher); <span class=\"comment\">// blog.Teacher@355da254</span></span><br></pre></td></tr></table></figure>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507152322394.webp\" alt=\"image.png\" width=\"450px\" /></p>\n<p>å¼•ç”¨æ‹·è´é€šå¸¸å‘ç”Ÿåœ¨ä¼ é€’å‚æ•°ã€è¿”å›å€¼ç­‰åœºæ™¯ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨ Java ä¸­ï¼Œå¦‚æœå°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯å°†è¯¥å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™äº†æ–¹æ³•ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«çš„æ‹·è´ã€‚</p>\n<h2 id=\"å¯¹è±¡æ‹·è´\"><a class=\"markdownIt-Anchor\" href=\"#å¯¹è±¡æ‹·è´\"></a> å¯¹è±¡æ‹·è´</h2>\n<p>å¯¹è±¡æ‹·è´ï¼šåˆ›å»ºå¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªå‰¯æœ¬ã€‚</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"type\">Teacher</span> <span class=\"variable\">teacher</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Teacher</span>(<span class=\"string\">&quot;Swift&quot;</span>,<span class=\"number\">26</span>); </span><br><span class=\"line\"><span class=\"type\">Teacher</span> <span class=\"variable\">otherteacher</span> <span class=\"operator\">=</span> (Teacher)teacher.clone(); </span><br><span class=\"line\">System.out.println(teacher);       <span class=\"comment\">// blog.Teacher@355da254</span></span><br><span class=\"line\">System.out.println(otherteacher);  <span class=\"comment\">// blog.Teacher@4dc63996</span></span><br></pre></td></tr></table></figure>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507152324370.webp\" alt=\"image.png\" width=\"450px\" /></p>\n<h1 id=\"æ·±æ‹·è´ä¸æµ…æ‹·è´\"><a class=\"markdownIt-Anchor\" href=\"#æ·±æ‹·è´ä¸æµ…æ‹·è´\"></a> æ·±æ‹·è´ä¸æµ…æ‹·è´</h1>\n<p>æ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯å¯¹è±¡æ‹·è´ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºæ˜¯å¦å¤åˆ¶äº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚</p>\n<ul>\n<li>æµ…æ‹·è´ Shallow Copyï¼šè¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæµ…å¤åˆ¶ä»…ä»…å¤åˆ¶æ‰€è€ƒè™‘çš„å¯¹è±¡ï¼Œè€Œä¸å¤åˆ¶å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚</li>\n<li>æ·±æ‹·è´ Deep Copyï¼šè¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œé™¤å»é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡ï¼Œé‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡å°†æŒ‡å‘è¢«å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡ï¼Œè€Œä¸å†æ˜¯åŸæœ‰çš„é‚£äº›è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œæ¢è¨€ä¹‹ï¼Œæ·±å¤åˆ¶æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€éã€‚</li>\n</ul>\n<blockquote>\n<p>ğŸâš±ï¸ï¼šï¼ˆè°ˆæµ…æ‹·è´ï¼‰ä½ ç”¨é­”æ³•æ£’å¤åˆ¶äº†è‡ªå·±ï¼Œä½†æ˜¯å¤åˆ¶äººå’Œä½ éƒ½ç”¨ç€åŒæ ·ä¸€å°ç”µè„‘ï¼‰</p>\n</blockquote>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507160006407.webp\" alt=\"image.png\" width=\"525px\" /></p>\n<blockquote>\n<p>åœ¨ä¸Šå›¾çš„ä¾‹å­ä¸­ï¼Œå•çº¯ä½¿ç”¨ <code>clone()</code> æ–¹æ³•å¾—åˆ°çš„æ˜¯æµ…å…‹éš†çš„ç»“æœã€‚</p>\n</blockquote>\n<h1 id=\"java-object-ç±»ä¸­çš„-clone-æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#java-object-ç±»ä¸­çš„-clone-æ–¹æ³•\"></a> Java <code>Object</code> ç±»ä¸­çš„ <code>clone()</code> æ–¹æ³•</h1>\n<p><code>clone</code> ç”¨äºå¤åˆ¶å®ä¾‹ã€‚<code>clone</code> æ–¹æ³•å®šä¹‰åœ¨ <code>java.lang.Object</code> ä¸­ï¼Œ<code>Object</code> åˆæ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ Java ç±»éƒ½ç»§æ‰¿äº† <code>clone</code> æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œ<strong>ç»§æ‰¿äº†è¯¥æ–¹æ³•å¹¶ä¸æ„å‘³ç€å°±èƒ½ç›´æ¥ç”¨</strong>ã€‚èƒ½è°ƒç”¨ <code>clone</code> æ–¹æ³•çš„å‰ææ˜¯è¿™ä¸ªç±»å¿…é¡»å®ç°äº† <code>Cloneable</code> æ¥å£ã€‚</p>\n<p><code>Object</code> ç±»ä¸­çš„ <code>clone()</code> æ–¹æ³•æ˜¯é€šè¿‡ <code>native</code> ä¿®é¥°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯é€šè¿‡ç›´æ¥è°ƒç”¨åº•å±‚æ“ä½œç³»ç»Ÿæ–¹æ³•å®ç°çš„ã€‚å½“æ²¡æœ‰é‡å†™è¯¥æ–¹æ³•æ—¶å°±é»˜è®¤è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚</p>\n<p><code>clone()</code> å’Œ <code>new</code> ä¸€æ ·ï¼Œéƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚</p>\n<ul>\n<li><code>new</code>ï¼šå½“æˆ‘ä»¬ä½¿ç”¨ <code>new</code> å…³é”®å­—åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒJVM é¦–å…ˆæ ¹æ®å…³é”®å­—åé¢çš„ç±»å‹ç¡®å®šéœ€è¦ç”³è¯·çš„å†…å­˜å¤§å°ï¼Œç”³è¯·å®Œå†…å­˜åï¼Œæ‰§è¡Œç±»çš„æ„é€ æ–¹æ³•ã€‚åœ¨æ‰§è¡Œæ„é€ æ–¹æ³•æœŸé—´ï¼Œå¡«å……å†…å­˜ä¸­å„ä¸ªå±æ€§åŸŸï¼Œè¿™ä¸ªå¡«å……çš„è¿‡ç¨‹ä¹Ÿå«åˆå§‹åŒ–ã€‚æ„é€ æ–¹æ³•æ‰§è¡Œå®Œæ ‡å¿—ç€å¯¹è±¡åˆ›å»ºæˆåŠŸï¼Œæ­¤æ—¶è¿”å›å¯¹è±¡åœ°å€ï¼Œåœ¨æ ˆåŒºä»¥å¼•ç”¨çš„æ–¹å¼è°ƒç”¨å¯¹è±¡ã€‚ï¼ˆå½“ç„¶ï¼Œç”±äºæŒ‡ä»¤çš„é‡æ’åºï¼Œå‘å¸ƒå¯¹è±¡å¯èƒ½åœ¨æ„é€ å‡½æ•°è¿”å›ä¹‹å‰ï¼‰</li>\n<li><code>clone()</code>ï¼šå½“æˆ‘ä»¬è°ƒç”¨æŸä¸ªå¯¹è±¡çš„ <code>clone()</code> æ–¹æ³•å…‹éš†å¯¹è±¡æ—¶ï¼Œé¦–å…ˆæ ¹æ®åŸå¯¹è±¡çš„å†…å­˜å¤§å°ç”³è¯·å†…å­˜ç©ºé—´ï¼Œç”³è¯·å®Œå†…å­˜ç©ºé—´åï¼Œå°†åŸå¯¹è±¡å†…å­˜åŸŸå¤åˆ¶åˆ°æ–°ç”³è¯·çš„å†…å­˜ç©ºé—´ï¼Œå¤åˆ¶å®Œæˆæ ‡å¿—ç€å…‹éš†å®Œæˆï¼Œè¿”å›å¼•ç”¨ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong><code>clone()</code> çš„è¿‡ç¨‹æ²¡æœ‰è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°</strong>ã€‚</li>\n</ul>\n<p>ç®€å•æ€»ç»“ï¼š<code>new</code> å’Œ <code>clone()</code> ç¬¬ä¸€æ­¥éƒ½æ˜¯ç”³è¯·å†…å­˜ï¼Œåªä¸è¿‡ <code>new</code> å…³é”®å­—é€šè¿‡ç±»æ„é€ æ–¹æ³•åˆå§‹åŒ–å¯¹è±¡ï¼Œ<code>clone()</code> æ–¹æ³•ç›´æ¥é€šè¿‡å…‹éš†å†…å­˜åŸŸå®Œæˆå¯¹è±¡åˆ›å»ºã€‚</p>\n<p><code>clone()</code> æ˜¯æ·±å…‹éš†è¿˜æ˜¯æµ…å…‹éš†ï¼Ÿ</p>\n<ul>\n<li>å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§éƒ½æ˜¯åŸºç¡€ç±»å‹ï¼ˆ<code>int</code>ï¼Œ<code>boolean</code>ï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„æ·±å…‹éš†å’Œå•çº¯ <code>clone()</code> çš„æµ…å…‹éš†ç»“æœå®Œå…¨ç›¸åŒã€‚</li>\n<li>å¦‚æœä¸€ä¸ªå¯¹è±¡åŒ…å«å¼•ç”¨ç±»å‹æ•°æ®ï¼Œå¦‚æœå…‹éš†ä¹‹åçš„å¼•ç”¨æ‰€æŒ‡å‘å¯¹è±¡æ˜¯ä¸åŒå¯¹è±¡ï¼ˆçœ‹ä½  <code>clone()</code> çš„å…·ä½“å®ç°ï¼‰ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ·±å…‹éš†ï¼Œå¦åˆ™æ˜¯æµ…å…‹éš†ã€‚</li>\n</ul>\n<h1 id=\"æ·±æ‹·è´çš„å®ç°\"><a class=\"markdownIt-Anchor\" href=\"#æ·±æ‹·è´çš„å®ç°\"></a> æ·±æ‹·è´çš„å®ç°</h1>\n<p>æ‰‹åŠ¨èµ‹å€¼ã€ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯ä»¥å®ç°æ·±æ‹·è´ã€‚</p>\n<h2 id=\"cloneableé‡å†™-clone-æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#cloneableé‡å†™-clone-æ–¹æ³•\"></a> <code>Cloneable</code>ï¼šé‡å†™ <code>clone</code> æ–¹æ³•</h2>\n<p>åœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å®ç° <code>java.lang.Cloneable</code> æ¥å£é‡å†™ <code>clone()</code> æ–¹æ³•ï¼Œç„¶åå°±å¯ä»¥è°ƒç”¨é‡å†™åçš„ <code>clone()</code> æ–¹æ³•æ‰§è¡Œè‡ªå·±çš„é€»è¾‘ã€‚<code>Cloneable</code> æ¥å£ä¸­å¹¶æ²¡æœ‰å£°æ˜ä»»ä½•æ–¹æ³•ã€‚ä»–åªæ˜¯ç”¨æ¥æ ‡è®°å“ªä¸ªç±»å¯ä»¥è¿›è¡Œå¤åˆ¶ã€‚è¿™ç§æ¥å£ç§°ä¸ºã€Œæ ‡è®°æ¥å£ã€ã€‚</p>\n<p>Java è¦æ±‚è¢«å…‹éš†çš„ç±»<strong>å¿…é¡»æ˜¾å¼å®ç°Â <code>Cloneable</code>Â æ¥å£</strong>ã€‚å¦‚æœæ²¡æœ‰å®ç° <code>Cloneable</code> æ¥å£çš„ç±»çš„å®ä¾‹è°ƒç”¨äº† <code>clone</code> æ–¹æ³•ï¼Œ åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡º <code>CloneNotSupportedException</code> å¼‚å¸¸ã€‚</p>\n<p>åœ¨å®é™…åº”ç”¨å¼€å‘ä¸­ï¼Œæµ…å…‹éš†è‚¯å®šä¸èƒ½æ»¡è¶³æ‰€æœ‰ä¸šåŠ¡åœºæ™¯ã€‚éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéœ€è¦å°†æµ…å…‹éš†ä¼˜åŒ–ä¸ºæ·±å…‹éš†ï¼Œå…·ä½“å®ç°æ–¹æ³•ï¼šå®ç° <code>Cloneable</code> æ¥å£ï¼Œé‡å†™ <code>clone()</code> æ–¹æ³•ï¼Œåœ¨ <code>clone()</code> æ–¹æ³•ä¸­æ‰‹åŠ¨å…‹éš†å¼•ç”¨å±æ€§ã€‚é‡å†™æ—¶è®°å¾— <code>super.clone()</code>ã€‚</p>\n<p>ç¤ºä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Test</span> &#123;</span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Body</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cloneable</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> Head head;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"title function_\">Body</span><span class=\"params\">()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"title function_\">Body</span><span class=\"params\">(Head head)</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">this</span>.head = head;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">protected</span> Object <span class=\"title function_\">clone</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> CloneNotSupportedException &#123;</span><br><span class=\"line\">\t\t\t<span class=\"type\">Body</span> <span class=\"variable\">newBody</span> <span class=\"operator\">=</span> (Body) <span class=\"built_in\">super</span>.clone();</span><br><span class=\"line\">\t\t\tnewBody.head = (Head) head.clone();</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> newBody;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Head</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cloneable</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> Face face;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"title function_\">Head</span><span class=\"params\">()</span> &#123;&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"title function_\">Head</span><span class=\"params\">(Face face)</span> &#123;</span><br><span class=\"line\">\t\t\t<span class=\"built_in\">this</span>.face = face;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t\t<span class=\"meta\">@Override</span></span><br><span class=\"line\">\t\t<span class=\"keyword\">protected</span> Object <span class=\"title function_\">clone</span><span class=\"params\">()</span> <span class=\"keyword\">throws</span> CloneNotSupportedException &#123;</span><br><span class=\"line\">\t\t\t<span class=\"keyword\">return</span> <span class=\"built_in\">super</span>.clone();</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Face</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Cloneable</span> &#123;</span><br><span class=\"line\">\t\t<span class=\"keyword\">public</span> <span class=\"title function_\">Face</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">\t\t&#125;</span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">\t<span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> <span class=\"keyword\">throws</span> CloneNotSupportedException &#123;</span><br><span class=\"line\">\t\t<span class=\"type\">Body</span> <span class=\"variable\">body</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">Body</span>(<span class=\"keyword\">new</span> <span class=\"title class_\">Head</span>());</span><br><span class=\"line\">\t\t<span class=\"type\">Body</span> <span class=\"variable\">body1</span> <span class=\"operator\">=</span> (Body) body.clone();</span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">&quot;body == body1 : &quot;</span> + (body == body1)); <span class=\"comment\">// false</span></span><br><span class=\"line\">\t\tSystem.out.println(<span class=\"string\">&quot;body.head == body1.head : &quot;</span> + (body.head == body1.head)); <span class=\"comment\">// false</span></span><br><span class=\"line\">\t&#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>å®é™…ä¸Šï¼Œä¸Šé¢çš„ä»£ç å…‹éš†å¾—è¿˜æ˜¯ä¸å¤Ÿå½»åº•ï¼š</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202507212235064.webp\" alt=\"image.png\" width=\"475px\" /></p>\n<p>æƒ³è¦åšåˆ°å®Œå®Œæ•´æ•´çš„æ·±å…‹éš†ï¼Œå¿…é¡»ä¿è¯æ‰€æœ‰å¼•ç”¨å±æ€§å…‹éš†åéƒ½ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ— é™å‘ä¸‹é€’å½’ï¼Œç›´åˆ°åªå‰©ä¸‹å¸¸é‡å±æ€§ã€‚æƒ³è¦å®ç°è¿™ç§ç¨‹åº¦çš„æ·±å…‹éš†å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºä¸€æ—¦ä»£ç ä¸­å¼•å…¥ SDK åŒ…ä¸­çš„ç±»ï¼Œä¸”è¯¥ç±»æ²¡æœ‰é‡å†™ <code>clone()</code> æ–¹æ³•ï¼Œå°±æ— æ³•å®ç°æ·±å…‹éš†ã€‚</p>\n<h2 id=\"serializableåºåˆ—åŒ–åå†ååºåˆ—åŒ–\"><a class=\"markdownIt-Anchor\" href=\"#serializableåºåˆ—åŒ–åå†ååºåˆ—åŒ–\"></a> <code>Serializable</code>ï¼šåºåˆ—åŒ–åå†ååºåˆ—åŒ–</h2>\n<blockquote>\n<p>æŠŠå¯¹è±¡å†™åˆ°æµé‡Œçš„è¿‡ç¨‹æ˜¯ä¸²è¡ŒåŒ–ï¼ˆSerilizationï¼‰è¿‡ç¨‹ï¼Œä¸€ç§å½¢è±¡çš„è¯´æ³•ä¸ºã€Œå†·å†»ã€æˆ–è€…ã€Œè…Œå’¸èœï¼ˆpickingï¼‰ã€è¿‡ç¨‹ï¼›è€ŒæŠŠå¯¹è±¡ä»æµä¸­è¯»å‡ºæ¥çš„å¹¶è¡ŒåŒ–ï¼ˆDeserializationï¼‰è¿‡ç¨‹åˆ™å«åšã€Œè§£å†»ã€æˆ–è€…ã€Œå›é²œï¼ˆdepickingï¼‰ã€è¿‡ç¨‹ã€‚</p>\n</blockquote>\n<p>å°†å¯¹è±¡åºåˆ—åŒ–ï¼Œç„¶åå†ååºåˆ—åŒ–æˆæ–°çš„å¯¹è±¡æ˜¯æ·±æ‹·è´çš„ä¸€ç§æ–¹æ³•ã€‚</p>\n<p>ç¤ºä¾‹ä»£ç ï¼š</p>\n<figure class=\"highlight java\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br><span class=\"line\">35</span><br><span class=\"line\">36</span><br><span class=\"line\">37</span><br><span class=\"line\">38</span><br><span class=\"line\">39</span><br><span class=\"line\">40</span><br><span class=\"line\">41</span><br><span class=\"line\">42</span><br><span class=\"line\">43</span><br><span class=\"line\">44</span><br><span class=\"line\">45</span><br><span class=\"line\">46</span><br><span class=\"line\">47</span><br><span class=\"line\">48</span><br><span class=\"line\">49</span><br><span class=\"line\">50</span><br><span class=\"line\">51</span><br><span class=\"line\">52</span><br><span class=\"line\">53</span><br><span class=\"line\">54</span><br><span class=\"line\">55</span><br><span class=\"line\">56</span><br><span class=\"line\">57</span><br><span class=\"line\">58</span><br><span class=\"line\">59</span><br><span class=\"line\">60</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">package</span> top.uuanqin;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">import</span> java.io.*;</span><br><span class=\"line\"><span class=\"keyword\">import</span> java.util.Date;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">public</span> <span class=\"keyword\">class</span> <span class=\"title class_\">TestClone</span> &#123;</span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">User</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"type\">int</span> id;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String username;<span class=\"comment\">// ç”¨æˆ·å§“å</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> String sex;<span class=\"comment\">// æ€§åˆ«</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Date birthday;<span class=\"comment\">// ç”Ÿæ—¥</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> String address;<span class=\"comment\">// åœ°å€</span></span><br><span class=\"line\">        <span class=\"keyword\">private</span> Person person; <span class=\"comment\">//å¼•ç”¨ç±»å‹</span></span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> User <span class=\"title function_\">myColon</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">            <span class=\"type\">User</span> <span class=\"variable\">copy</span> <span class=\"operator\">=</span> <span class=\"literal\">null</span>;</span><br><span class=\"line\">            <span class=\"keyword\">try</span> &#123;</span><br><span class=\"line\">                <span class=\"type\">ByteArrayOutputStream</span> <span class=\"variable\">baos</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ByteArrayOutputStream</span>();</span><br><span class=\"line\">                <span class=\"type\">ObjectOutputStream</span> <span class=\"variable\">oos</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectOutputStream</span>(baos);</span><br><span class=\"line\">                oos.writeObject(<span class=\"built_in\">this</span>);</span><br><span class=\"line\">                <span class=\"comment\">//å°†æµåºåˆ—åŒ–æˆå¯¹è±¡</span></span><br><span class=\"line\">                <span class=\"type\">ByteArrayInputStream</span> <span class=\"variable\">bais</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ByteArrayInputStream</span>(baos.toByteArray());</span><br><span class=\"line\">                <span class=\"type\">ObjectInputStream</span> <span class=\"variable\">ois</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">ObjectInputStream</span>(bais);</span><br><span class=\"line\">                copy = (User) ois.readObject();</span><br><span class=\"line\">            &#125; <span class=\"keyword\">catch</span> (IOException | ClassNotFoundException e) &#123;</span><br><span class=\"line\">                e.printStackTrace();</span><br><span class=\"line\">            &#125;</span><br><span class=\"line\">            <span class=\"keyword\">return</span> copy;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"comment\">//æ­¤å¤„çœç•¥get-setæ–¹æ³•ä»£ç </span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// å¼•ç”¨ç±»å‹ä¹Ÿéœ€è¦å®ç°Serializableæ¥å£ï¼Œå¦åˆ™ä¼šåºåˆ—åŒ–å¤±è´¥ã€‚</span></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">class</span> <span class=\"title class_\">Person</span> <span class=\"keyword\">implements</span> <span class=\"title class_\">Serializable</span> &#123;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"type\">int</span> id;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String userName;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> <span class=\"type\">int</span> age;</span><br><span class=\"line\">        <span class=\"keyword\">private</span> String mobilePhone;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"title function_\">Person</span><span class=\"params\">()</span> &#123;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">        <span class=\"keyword\">public</span> <span class=\"title function_\">Person</span><span class=\"params\">(<span class=\"type\">int</span> id, String userName, <span class=\"type\">int</span> age, String mobilePhone)</span> &#123;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.id = id;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.userName = userName;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.age = age;</span><br><span class=\"line\">            <span class=\"built_in\">this</span>.mobilePhone = mobilePhone;</span><br><span class=\"line\">        &#125;</span><br><span class=\"line\">        <span class=\"comment\">//æ­¤å¤„çœç•¥get-setæ–¹æ³•</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"keyword\">public</span> <span class=\"keyword\">static</span> <span class=\"keyword\">void</span> <span class=\"title function_\">main</span><span class=\"params\">(String[] args)</span> &#123;</span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u1</span> <span class=\"operator\">=</span> <span class=\"keyword\">new</span> <span class=\"title class_\">User</span>();</span><br><span class=\"line\">        u1.person = <span class=\"keyword\">new</span> <span class=\"title class_\">Person</span>(); <span class=\"comment\">// è®©å¼•ç”¨å¯¹è±¡ä¸ä¸ºç©º</span></span><br><span class=\"line\">        <span class=\"type\">User</span> <span class=\"variable\">u2</span> <span class=\"operator\">=</span> u1.myColon();</span><br><span class=\"line\">        System.out.println(u1 == u2);  <span class=\"comment\">// false</span></span><br><span class=\"line\">        System.out.println(u1.person == u2.person); <span class=\"comment\">// false</span></span><br><span class=\"line\">    &#125;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<h2 id=\"ä½¿ç”¨åå°„æ–¹æ³•\"><a class=\"markdownIt-Anchor\" href=\"#ä½¿ç”¨åå°„æ–¹æ³•\"></a> ä½¿ç”¨åå°„æ–¹æ³•</h2>\n<p>é€šè¿‡ <a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/c8dc9bbd/\"><span class=\"yukari\">ç«™å†…æ–‡ç« </span>åå°„</a> ç”Ÿæˆå¯¹è±¡ï¼Œé€šè¿‡åå°„æœºåˆ¶è·å–è¯¥å¯¹è±¡çš„æ‰€æœ‰å­—æ®µå’Œå±æ€§ä¿¡æ¯ã€‚éå†æ‰€æœ‰å­—æ®µå’Œå±æ€§ï¼Œä»¥é€’å½’æ–¹å¼å°†æºå¯¹è±¡ä¸­çš„å€¼å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚</p>\n<h1 id=\"æœ¬æ–‡å‚è€ƒ\"><a class=\"markdownIt-Anchor\" href=\"#æœ¬æ–‡å‚è€ƒ\"></a> æœ¬æ–‡å‚è€ƒ</h1>\n<ul>\n<li>ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬ 6 ç« </li>\n<li>æœ¬ç§‘ç”Ÿè¯¾ç¨‹ç¬”è®°ã€Šç¨‹åºè®¾è®¡ä¸­çº§å®è·µï¼†è®¾è®¡æ¨¡å¼ã€‹ - TJU ğŸâš±ï¸</li>\n<li><a href=\"https://gitee.com/buxsren/design-pattern-books/blob/master/docs/200786.md\">æå®¢æ—¶é—´ä¸“æ  - è®¾è®¡æ¨¡å¼ä¹‹ç¾ - ç‹äº‰</a></li>\n<li><a href=\"https://zhuanlan.zhihu.com/p/168777892\">æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Œä½ çœŸçš„å¼„æ‡‚äº†å—ï¼Ÿ - çŸ¥ä¹</a></li>\n<li><a href=\"https://cloud.tencent.com/developer/article/2335478\">ã€é¢è¯•é¢˜ç²¾è®²ã€‘æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«äº†è§£å—ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘</a></li>\n<li>ã€ä¸æ¨èã€‘<a href=\"https://blog.csdn.net/weixin_42361467/article/details/130640155\">java clone() æ–¹æ³•è¯¦è§£åŠæ·±å…‹éš†ä¸æµ…å…‹éš†-CSDNåšå®¢</a></li>\n<li><a href=\"https://www.cnblogs.com/xzwblog/p/7230788.html\">è¯¦è§£Javaä¸­çš„cloneæ–¹æ³• - ä½•å¿…ç­‰æ˜å¤© - åšå®¢å›­</a></li>\n<li><a href=\"https://blog.csdn.net/m0_37695902/article/details/119930702\">Javaå¯¹è±¡-æ·±æ‹·è´(å®ç°Serializable, Cloneableä¸¤ç§æ–¹å¼)_javaæ²¡æœ‰getsetçš„æ·±æ‹·è´-CSDNåšå®¢</a></li>\n<li><a href=\"https://www.cnblogs.com/pandefu/p/17536258.html\">è§£è¯» â€” æ·±æ‹·è´ - NiueryDiary - åšå®¢å›­</a></li>\n<li><a href=\"https://blog.csdn.net/weixin_45692705/article/details/121647915\">è¯¦è§£Javaè®¾è®¡æ¨¡å¼ä¹‹åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰_é‚®ä»¶å¤åˆ¶ java æ¨¡å¼-CSDNåšå®¢</a></li>\n<li><a href=\"https://www.runoob.com/design-pattern/prototype-pattern.html\">åŸå‹æ¨¡å¼ | èœé¸Ÿæ•™ç¨‹</a></li>\n</ul>\n","raw":"---\ntitle: åŸå‹æ¨¡å¼ï¼šå­¦ä¼šå…‹éš†\ntags:\n  - è®¾è®¡æ¨¡å¼\n  - Java\ncover: 'https://cdn.gallery.uuanqin.top/img/202507212334117.webp'\ndescription: ç”¨äº†cloneå…¶å®å°±æ˜¯æœ‰åŸå‹æ¨¡å¼çš„æ„æ€\nkatex: false\ncategories:\n  - é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼\nabbrlink: 96a98120\ndate: 2025-07-21 23:36:14\ntop_img:\n---\n\n![image.png|350](https://cdn.gallery.uuanqin.top/img/202503040232648.webp)\n\né€šè¿‡ `new` å…³é”®å­—ç”Ÿæˆå®ä¾‹æ˜¯éœ€è¦æŒ‡å®šç±»åçš„ã€‚åœ¨å¼€å‘è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬éœ€è¦ã€Œåœ¨ä¸æŒ‡å®šç±»åçš„å‰æä¸‹ç”Ÿæˆå®ä¾‹ã€çš„éœ€æ±‚ã€‚\n\nåœ¨ä»¥ä¸‹æƒ…å†µï¼Œæˆ‘ä»¬å°±ä¸èƒ½æ ¹æ®ç±»æ¥ç”Ÿæˆå®ä¾‹ï¼Œè€Œè¦æ ¹æ®ç°æœ‰çš„å®ä¾‹æ¥ç”Ÿæˆæ–°çš„å®ä¾‹ã€‚\n\n1. å¯¹è±¡ç§ç±»ç¹å¤šï¼Œæ— æ³•å°†å®ƒä»¬æ•´åˆåˆ°ä¸€ä¸ªç±»ä¸­ã€‚éœ€è¦å¤„ç†çš„å¯¹è±¡å¤ªå¤šï¼Œå¦‚æœå°†å®ƒä»¬åˆ†åˆ«ä½œä¸ºä¸€ä¸ªç±»ï¼Œå¿…é¡»è¦ç¼–å†™å¾ˆå¤šä¸ªç±»æ–‡ä»¶ã€‚\n2. éš¾ä»¥æ ¹æ®ç±»ç”Ÿæˆå®ä¾‹ã€‚ç”Ÿæˆå®ä¾‹çš„è¿‡ç¨‹å¤ªå¤æ‚ã€‚\n3. æƒ³è§£è€¦æ¡†æ¶ä¸ç”Ÿæˆçš„å®ä¾‹æ—¶ã€‚æƒ³è®©ç”Ÿæˆå®ä¾‹çš„æ¡†æ¶ä¸ä¾èµ–äºå…·ä½“çš„ç±»ã€‚\n\nPrototype æ¨¡å¼ï¼š\n\n- åœ¨è½¯ä»¶ç³»ç»Ÿä¸­ï¼Œæœ‰æ—¶å€™éœ€è¦å¤šæ¬¡åˆ›å»ºæŸä¸€ç±»å‹çš„å¯¹è±¡ï¼Œä¸ºäº†ç®€åŒ–åˆ›å»ºè¿‡ç¨‹ï¼Œå¯ä»¥åªåˆ›å»ºä¸€ä¸ªå¯¹è±¡ï¼Œç„¶åå†é€šè¿‡å…‹éš†çš„æ–¹å¼å¤åˆ¶å‡ºå¤šä¸ªç›¸åŒçš„å¯¹è±¡\n- åŸå‹æ¨¡å¼ä¸è·Ÿæ®ç±»ç”Ÿæˆå®ä¾‹ï¼Œè€Œæ˜¯æ ¹æ®å®ä¾‹æ¥ç”Ÿæˆæ–°å®ä¾‹ã€‚åœ¨ Java ä¸­ï¼Œå¯ä»¥ä½¿ç”¨ `clone` åˆ›å»ºå‡ºå®ä¾‹çš„å‰¯æœ¬ã€‚\n- åŸå‹æ¨¡å¼**åœ¨åˆ›å»ºé‡å¤å¯¹è±¡çš„åŒæ—¶ï¼Œéœ€è¦ä¿è¯æ€§èƒ½**ã€‚å¯ä»¥é€šè¿‡ `clone()` æ‹·è´å·²æœ‰å¯¹è±¡çš„æ•°æ®ï¼Œæ›´æ–°å°‘é‡å·®å€¼æ¥å®ç°ã€‚\n\nç¼ºç‚¹ï¼š\n\n- éœ€è¦ä¸ºæ¯ä¸€ä¸ªç±»é…å¤‡ä¸€ä¸ªå…‹éš†æ–¹æ³•ï¼Œå› æ­¤å¯¹å·²æœ‰ç±»è¿›è¡Œæ”¹é€ æ¯”è¾ƒéº»çƒ¦ã€‚éœ€è¦ä¿®æ”¹å…¶æºä»£ç ï¼Œå¹¶ä¸”åœ¨å®ç°æ·±å…‹éš†æ—¶éœ€è¦ç¼–å†™è¾ƒä¸ºå¤æ‚çš„ä»£ç ã€‚\n\nåŸå‹æ¨¡å¼çš„åŸºæœ¬å·¥ä½œåŸç†ï¼šé€šè¿‡å°†ä¸€ä¸ªåŸå‹å¯¹è±¡ä¼ ç»™é‚£ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡ï¼Œè¿™ä¸ªè¦å‘åŠ¨åˆ›å»ºçš„å¯¹è±¡é€šè¿‡è¯·æ±‚åŸå‹å¯¹è±¡å¤åˆ¶åŸå‹è‡ªå·±æ¥å®ç°åˆ›å»ºè¿‡ç¨‹ã€‚\n\nç™»åœºè§’è‰²ï¼š\n\n- `Prototype`ï¼ˆæŠ½è±¡åŸå‹ç±»ï¼‰ï¼šå®šä¹‰ç”¨äºå¤åˆ¶ç°æœ‰å®ä¾‹æ¥ç”Ÿæˆæ–°å®ä¾‹çš„æ–¹æ³•ï¼Œå¯ä»¥æ˜¯æŠ½è±¡ç±»ä¹Ÿå¯ä»¥æ˜¯æ¥å£ã€‚åœ¨ Java ä¸­ï¼Œè¿™ä¸ªæŠ½è±¡ç±»æ˜¯å®ç°äº† `@Cloneable` æ¥å£çš„ã€‚\n- `ConcretePrototype`ï¼ˆå…·ä½“åŸå‹ç±»ï¼‰ï¼šå®ç°å¤åˆ¶ç°æœ‰å®ä¾‹å¹¶ç”Ÿæˆæ–°å®ä¾‹çš„æ–¹æ³•ã€‚\n- `Client`ï¼ˆä½¿ç”¨è€…ï¼‰ï¼šä½¿ç”¨å¤åˆ¶å®ä¾‹çš„æ–¹æ³•ç”Ÿæˆæ–°å®ä¾‹ã€‚\n\n```mermaid\nclassDiagram\n    class Client {\n    }\n\n    class Prototype {\n        <<abstract>>\n        +clone() Prototype\n    }\n\n    class ConcretePrototypeA {\n        +clone() Prototype\n    }\n\n    class ConcretePrototypeB {\n        +clone() Prototype\n    }\n\n    Client --> Prototype : uses\n    Prototype <|-- ConcretePrototypeA\n    Prototype <|-- ConcretePrototypeB\n```\n\nç›¸å…³çš„è®¾è®¡æ¨¡å¼ï¼š\n\n- äº«å…ƒæ¨¡å¼ Flyweightï¼šä½¿ç”¨ Prototype æ¨¡å¼å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸å½“å‰å®ä¾‹çš„çŠ¶æ€å®Œå…¨ç›¸åŒçš„å®ä¾‹ã€‚è€Œä½¿ç”¨ Flyweight æ¨¡å¼å¯ä»¥åœ¨ä¸åŒçš„åœ°æ–¹ä½¿ç”¨åŒä¸€ä¸ªå®ä¾‹ã€‚\n- Memento æ¨¡å¼ï¼šä½¿ç”¨ Prototype æ¨¡å¼å¯ä»¥ç”Ÿæˆä¸€ä¸ªä¸å½“å‰å®ä¾‹çš„çŠ¶æ€å®Œå…¨ç›¸åŒçš„å®ä¾‹ã€‚è€Œä½¿ç”¨ Memento æ¨¡å¼å¯ä»¥ä¿å­˜å½“å‰å®ä¾‹çš„çŠ¶æ€ï¼Œä»¥å®ç°å¿«ç…§å’Œæ’¤é”€åŠŸèƒ½ã€‚\n- [[ç»„åˆæ¨¡å¼ï¼šæ ‘å½¢ç»“æ„|ç»„åˆæ¨¡å¼]] ä»¥åŠ è£…é¥°è€…æ¨¡å¼ Decoratorï¼šç»å¸¸ä½¿ç”¨ç»„åˆæ¨¡å¼å’Œ Decorator æ¨¡å¼æ—¶ï¼Œéœ€è¦èƒ½å¤ŸåŠ¨æ€åœ°åˆ›å»ºå¤æ‚ç»“æ„çš„å®ä¾‹ã€‚è¿™æ—¶å¯ä»¥ä½¿ç”¨åŸå‹æ¨¡å¼ï¼Œä»¥å¸®åŠ©æˆ‘ä»¬æ–¹ä¾¿åœ°ç”Ÿæˆå®ä¾‹ã€‚\n- Command æ¨¡å¼ï¼šæƒ³è¦å¤åˆ¶ Command æ¨¡å¼ä¸­å‡ºç°çš„å‘½ä»¤æ—¶ï¼Œå¯ä»¥ä½¿ç”¨ Prototype æ¨¡å¼ã€‚\n\n## ç¤ºä¾‹ï¼šå¸¦åŸå‹ç®¡ç†å™¨çš„åŸå‹æ¨¡å¼\n\n> ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬å…­ç« ä¸­çš„æ¡ˆä¾‹å…¶å®å°±æ˜¯ä½¿ç”¨äº†åŸå‹ç®¡ç†å™¨ã€‚\n\nåŸå‹ç®¡ç†å™¨ï¼ˆPrototype Managerï¼‰è§’è‰²åˆ›å»ºå…·ä½“åŸå‹ç±»çš„å¯¹è±¡ï¼Œå¹¶è®°å½•æ¯ä¸€ä¸ªè¢«åˆ›å»ºçš„å¯¹è±¡ã€‚åŸå‹ç®¡ç†å™¨çš„ä½œç”¨ä¸å·¥å‚ç›¸ä¼¼ï¼Œå…¶ä¸­å®šä¹‰äº†ä¸€ä¸ªé›†åˆç”¨äºå­˜å‚¨åŸå‹å¯¹è±¡ï¼Œå¦‚æœéœ€è¦æŸä¸ªå¯¹è±¡çš„ä¸€ä¸ªå…‹éš†ï¼Œå¯ä»¥é€šè¿‡å¤åˆ¶é›†åˆä¸­å¯¹åº”çš„åŸå‹å¯¹è±¡æ¥è·å¾—ã€‚åœ¨åŸå‹ç®¡ç†å™¨ä¸­é’ˆå¯¹æŠ½è±¡åŸå‹ç±»è¿›è¡Œç¼–ç¨‹ï¼Œä»¥ä¾¿æ‰©å±•ã€‚\n\n### æ¡ˆä¾‹ 1ï¼šColor\n\n![image.png](https://cdn.gallery.uuanqin.top/img/202507212317316.webp)\n\næŠ½è±¡åŸå‹ç±» `MyColor`ï¼š\n\n```java\npublic interface MyColor extends Cloneable {\n    public Object clone();\n    public void display();\n}\n```\n\nå…·ä½“åŸå‹ç±» `Red`ï¼š\n\n```java\npublic class Red implements MyColor {\n    @Override\n    public Object clone() {\n        Red r=null;\n        try {\n            r = (Red) super.clone();\n        }catch (Exception e){}\n        return r;\n    }\n\n    @Override\n    public void display() {\n        System.out.println(\"This is Red\");\n    }\n}\n```\n\nå…·ä½“åŸå‹ç±» `Blue`ï¼š\n\n```java\npublic class Blue implements MyColor {\n    @Override\n    public Object clone() {\n        Blue b=null;\n        try {\n            b = (Blue) super.clone();\n        }catch (Exception e){\n\n        }\n        return b;\n    }\n    @Override\n    public void display() {\n        System.out.println(\"This is Blue\");\n    }\n}\n```\n\nåŸå‹ç®¡ç†å™¨ç±» `PrototypeManager`ï¼š\n\n```java\npublic class PrototypeManager {\n    private Hashtable ht =new Hashtable();\n    public PrototypeManager() {\n        ht.put(\"red\",new Red());\n        ht.put(\"blue\",new Blue());\n    }\n    public void addColor(String key,MyColor obj){\n        ht.put(key,obj);\n    }\n    public MyColor getColor(String key){\n        return (MyColor) ((MyColor)ht.get(key)).clone();\n    }\n}\n```\n\nå®¢æˆ·ç«¯æµ‹è¯•ç±» `Client`ï¼š\n\n```java\npublic class Client {\n\n    public static void main(String[] args) {\n        PrototypeManager pm =new PrototypeManager();\n\n        MyColor obj1=pm.getColor(\"red\");\n        obj1.display();\n\n        MyColor obj2=pm.getColor(\"red\");\n        obj2.display();\n\n        System.out.println(obj1==obj2); // false\n\n    }\n}\n```\n\n### æ¡ˆä¾‹ 2ï¼šShape\n\n![image.png|375](https://cdn.gallery.uuanqin.top/img/202507212323570.webp)\n\n# å¼•ç”¨æ‹·è´å’Œå¯¹è±¡æ‹·è´\n\nå¯¹è±¡å’Œå¼•ç”¨çš„åŒºåˆ«ï¼š\n\n- å¯¹è±¡ï¼šç»å¤§å¤šæ•°å¯¹è±¡åœ¨å †åŒºï¼Œå®ƒæ˜¯å®é™…ä¿å­˜å±æ€§çš„å†…å­˜ç©ºé—´\n- å¼•ç”¨ï¼šå¼•ç”¨å¤§å¤šå¼•ç”¨åœ¨æ ˆåŒºï¼Œå¯ä»¥å°†å®ƒç†è§£ä¸ºæŒ‡å‘å®é™…å¯¹è±¡åœ°å€çš„æŒ‡é’ˆ\n\nä¸€ä¸ªå¯¹è±¡å¯ä»¥æœ‰å¤šä¸ªå¼•ç”¨ï¼Œä½†ä¸€ä¸ªå¼•ç”¨åªèƒ½æŒ‡å‘ä¸€ä¸ªå¯¹è±¡ã€‚å½“æˆ‘ä»¬ä½¿ç”¨ `==` æ¯”è¾ƒå¯¹è±¡æ—¶ï¼Œä¸€èˆ¬æ¯”è¾ƒçš„æ˜¯å¯¹è±¡åœ°å€ã€‚\n\n## å¼•ç”¨æ‹·è´\n\nå¼•ç”¨æ‹·è´ç¤ºä¾‹ï¼š\n\n```java\nTeacher teacher = new Teacher(\"Taylor\",26);\nTeacher otherteacher = teacher;\nSystem.out.println(teacher);      // blog.Teacher@355da254\nSystem.out.println(otherteacher); // blog.Teacher@355da254\n```\n\n![image.png|450](https://cdn.gallery.uuanqin.top/img/202507152322394.webp)\n\nå¼•ç”¨æ‹·è´é€šå¸¸å‘ç”Ÿåœ¨ä¼ é€’å‚æ•°ã€è¿”å›å€¼ç­‰åœºæ™¯ä¸­ã€‚ä¾‹å¦‚ï¼Œåœ¨ Java ä¸­ï¼Œå¦‚æœå°†ä¸€ä¸ªå¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’ç»™æ–¹æ³•ï¼Œå®é™…ä¸Šæ˜¯å°†è¯¥å¯¹è±¡çš„å¼•ç”¨ä¼ é€’ç»™äº†æ–¹æ³•ï¼Œè€Œä¸æ˜¯å¯¹è±¡æœ¬èº«çš„æ‹·è´ã€‚\n\n## å¯¹è±¡æ‹·è´\n\nå¯¹è±¡æ‹·è´ï¼šåˆ›å»ºå¯¹è±¡æœ¬èº«çš„ä¸€ä¸ªå‰¯æœ¬ã€‚\n\n```java\nTeacher teacher = new Teacher(\"Swift\",26); \nTeacher otherteacher = (Teacher)teacher.clone(); \nSystem.out.println(teacher);       // blog.Teacher@355da254\nSystem.out.println(otherteacher);  // blog.Teacher@4dc63996\n```\n\n![image.png|450](https://cdn.gallery.uuanqin.top/img/202507152324370.webp)\n\n# æ·±æ‹·è´ä¸æµ…æ‹·è´\n\næ·±æ‹·è´å’Œæµ…æ‹·è´éƒ½æ˜¯å¯¹è±¡æ‹·è´ã€‚å®ƒä»¬ä¹‹é—´çš„ä¸»è¦åŒºåˆ«åœ¨äºæ˜¯å¦å¤åˆ¶äº†å¯¹è±¡å†…éƒ¨çš„æ•°æ®ã€‚\n\n- æµ…æ‹·è´ Shallow Copyï¼šè¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œè€Œæ‰€æœ‰çš„å¯¹å…¶ä»–å¯¹è±¡çš„å¼•ç”¨ä»ç„¶æŒ‡å‘åŸæ¥çš„å¯¹è±¡ã€‚æ¢è¨€ä¹‹ï¼Œæµ…å¤åˆ¶ä»…ä»…å¤åˆ¶æ‰€è€ƒè™‘çš„å¯¹è±¡ï¼Œè€Œä¸å¤åˆ¶å®ƒæ‰€å¼•ç”¨çš„å¯¹è±¡ã€‚\n- æ·±æ‹·è´ Deep Copyï¼šè¢«å¤åˆ¶å¯¹è±¡çš„æ‰€æœ‰å˜é‡éƒ½å«æœ‰ä¸åŸæ¥çš„å¯¹è±¡ç›¸åŒçš„å€¼ï¼Œé™¤å»é‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡ï¼Œé‚£äº›å¼•ç”¨å…¶ä»–å¯¹è±¡çš„å˜é‡å°†æŒ‡å‘è¢«å¤åˆ¶è¿‡çš„æ–°å¯¹è±¡ï¼Œè€Œä¸å†æ˜¯åŸæœ‰çš„é‚£äº›è¢«å¼•ç”¨çš„å¯¹è±¡ï¼Œæ¢è¨€ä¹‹ï¼Œæ·±å¤åˆ¶æŠŠè¦å¤åˆ¶çš„å¯¹è±¡æ‰€å¼•ç”¨çš„å¯¹è±¡éƒ½å¤åˆ¶äº†ä¸€éã€‚\n\n> ğŸâš±ï¸ï¼šï¼ˆè°ˆæµ…æ‹·è´ï¼‰ä½ ç”¨é­”æ³•æ£’å¤åˆ¶äº†è‡ªå·±ï¼Œä½†æ˜¯å¤åˆ¶äººå’Œä½ éƒ½ç”¨ç€åŒæ ·ä¸€å°ç”µè„‘ï¼‰\n\n![image.png|525](https://cdn.gallery.uuanqin.top/img/202507160006407.webp)\n\n> åœ¨ä¸Šå›¾çš„ä¾‹å­ä¸­ï¼Œå•çº¯ä½¿ç”¨ `clone()` æ–¹æ³•å¾—åˆ°çš„æ˜¯æµ…å…‹éš†çš„ç»“æœã€‚\n\n# Java `Object` ç±»ä¸­çš„ `clone()` æ–¹æ³•\n\n`clone` ç”¨äºå¤åˆ¶å®ä¾‹ã€‚`clone` æ–¹æ³•å®šä¹‰åœ¨ `java.lang.Object` ä¸­ï¼Œ`Object` åˆæ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»ï¼Œä¹Ÿå°±æ˜¯è¯´æ‰€æœ‰çš„ Java ç±»éƒ½ç»§æ‰¿äº† `clone` æ–¹æ³•ã€‚ä½†æ˜¯ï¼Œ**ç»§æ‰¿äº†è¯¥æ–¹æ³•å¹¶ä¸æ„å‘³ç€å°±èƒ½ç›´æ¥ç”¨**ã€‚èƒ½è°ƒç”¨ `clone` æ–¹æ³•çš„å‰ææ˜¯è¿™ä¸ªç±»å¿…é¡»å®ç°äº† `Cloneable` æ¥å£ã€‚\n\n`Object` ç±»ä¸­çš„ `clone()` æ–¹æ³•æ˜¯é€šè¿‡ `native` ä¿®é¥°çš„ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒæ˜¯é€šè¿‡ç›´æ¥è°ƒç”¨åº•å±‚æ“ä½œç³»ç»Ÿæ–¹æ³•å®ç°çš„ã€‚å½“æ²¡æœ‰é‡å†™è¯¥æ–¹æ³•æ—¶å°±é»˜è®¤è°ƒç”¨è¿™ä¸ªæ–¹æ³•ã€‚\n\n`clone()` å’Œ `new` ä¸€æ ·ï¼Œéƒ½å¯ä»¥åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡ã€‚\n\n- `new`ï¼šå½“æˆ‘ä»¬ä½¿ç”¨ `new` å…³é”®å­—åˆ›å»ºå¯¹è±¡æ—¶ï¼ŒJVM é¦–å…ˆæ ¹æ®å…³é”®å­—åé¢çš„ç±»å‹ç¡®å®šéœ€è¦ç”³è¯·çš„å†…å­˜å¤§å°ï¼Œç”³è¯·å®Œå†…å­˜åï¼Œæ‰§è¡Œç±»çš„æ„é€ æ–¹æ³•ã€‚åœ¨æ‰§è¡Œæ„é€ æ–¹æ³•æœŸé—´ï¼Œå¡«å……å†…å­˜ä¸­å„ä¸ªå±æ€§åŸŸï¼Œè¿™ä¸ªå¡«å……çš„è¿‡ç¨‹ä¹Ÿå«åˆå§‹åŒ–ã€‚æ„é€ æ–¹æ³•æ‰§è¡Œå®Œæ ‡å¿—ç€å¯¹è±¡åˆ›å»ºæˆåŠŸï¼Œæ­¤æ—¶è¿”å›å¯¹è±¡åœ°å€ï¼Œåœ¨æ ˆåŒºä»¥å¼•ç”¨çš„æ–¹å¼è°ƒç”¨å¯¹è±¡ã€‚ï¼ˆå½“ç„¶ï¼Œç”±äºæŒ‡ä»¤çš„é‡æ’åºï¼Œå‘å¸ƒå¯¹è±¡å¯èƒ½åœ¨æ„é€ å‡½æ•°è¿”å›ä¹‹å‰ï¼‰\n- `clone()`ï¼šå½“æˆ‘ä»¬è°ƒç”¨æŸä¸ªå¯¹è±¡çš„ `clone()` æ–¹æ³•å…‹éš†å¯¹è±¡æ—¶ï¼Œé¦–å…ˆæ ¹æ®åŸå¯¹è±¡çš„å†…å­˜å¤§å°ç”³è¯·å†…å­˜ç©ºé—´ï¼Œç”³è¯·å®Œå†…å­˜ç©ºé—´åï¼Œå°†åŸå¯¹è±¡å†…å­˜åŸŸå¤åˆ¶åˆ°æ–°ç”³è¯·çš„å†…å­˜ç©ºé—´ï¼Œå¤åˆ¶å®Œæˆæ ‡å¿—ç€å…‹éš†å®Œæˆï¼Œè¿”å›å¼•ç”¨ç±»å‹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ**`clone()` çš„è¿‡ç¨‹æ²¡æœ‰è°ƒç”¨ç±»çš„æ„é€ å‡½æ•°**ã€‚\n\nç®€å•æ€»ç»“ï¼š`new` å’Œ `clone()` ç¬¬ä¸€æ­¥éƒ½æ˜¯ç”³è¯·å†…å­˜ï¼Œåªä¸è¿‡ `new` å…³é”®å­—é€šè¿‡ç±»æ„é€ æ–¹æ³•åˆå§‹åŒ–å¯¹è±¡ï¼Œ`clone()` æ–¹æ³•ç›´æ¥é€šè¿‡å…‹éš†å†…å­˜åŸŸå®Œæˆå¯¹è±¡åˆ›å»ºã€‚\n\n`clone()` æ˜¯æ·±å…‹éš†è¿˜æ˜¯æµ…å…‹éš†ï¼Ÿ\n\n- å¦‚æœä¸€ä¸ªå¯¹è±¡ä¸­æ‰€æœ‰å±æ€§éƒ½æ˜¯åŸºç¡€ç±»å‹ï¼ˆ`int`ï¼Œ`boolean`ï¼‰ï¼Œé‚£ä¹ˆå®ƒçš„æ·±å…‹éš†å’Œå•çº¯ `clone()` çš„æµ…å…‹éš†ç»“æœå®Œå…¨ç›¸åŒã€‚\n- å¦‚æœä¸€ä¸ªå¯¹è±¡åŒ…å«å¼•ç”¨ç±»å‹æ•°æ®ï¼Œå¦‚æœå…‹éš†ä¹‹åçš„å¼•ç”¨æ‰€æŒ‡å‘å¯¹è±¡æ˜¯ä¸åŒå¯¹è±¡ï¼ˆçœ‹ä½  `clone()` çš„å…·ä½“å®ç°ï¼‰ï¼Œé‚£ä¹ˆå®ƒæ˜¯æ·±å…‹éš†ï¼Œå¦åˆ™æ˜¯æµ…å…‹éš†ã€‚\n\n# æ·±æ‹·è´çš„å®ç°\n\næ‰‹åŠ¨èµ‹å€¼ã€ç¬¬ä¸‰æ–¹åº“ä¹Ÿå¯ä»¥å®ç°æ·±æ‹·è´ã€‚\n\n## `Cloneable`ï¼šé‡å†™ `clone` æ–¹æ³•\n\nåœ¨ç¼–ç è¿‡ç¨‹ä¸­ï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡å®ç° `java.lang.Cloneable` æ¥å£é‡å†™ `clone()` æ–¹æ³•ï¼Œç„¶åå°±å¯ä»¥è°ƒç”¨é‡å†™åçš„ `clone()` æ–¹æ³•æ‰§è¡Œè‡ªå·±çš„é€»è¾‘ã€‚`Cloneable` æ¥å£ä¸­å¹¶æ²¡æœ‰å£°æ˜ä»»ä½•æ–¹æ³•ã€‚ä»–åªæ˜¯ç”¨æ¥æ ‡è®°å“ªä¸ªç±»å¯ä»¥è¿›è¡Œå¤åˆ¶ã€‚è¿™ç§æ¥å£ç§°ä¸ºã€Œæ ‡è®°æ¥å£ã€ã€‚\n\nJava è¦æ±‚è¢«å…‹éš†çš„ç±»**å¿…é¡»æ˜¾å¼å®ç°Â `Cloneable`Â æ¥å£**ã€‚å¦‚æœæ²¡æœ‰å®ç° `Cloneable` æ¥å£çš„ç±»çš„å®ä¾‹è°ƒç”¨äº† `clone` æ–¹æ³•ï¼Œ åˆ™ä¼šåœ¨è¿è¡Œæ—¶æŠ›å‡º `CloneNotSupportedException` å¼‚å¸¸ã€‚\n\nåœ¨å®é™…åº”ç”¨å¼€å‘ä¸­ï¼Œæµ…å…‹éš†è‚¯å®šä¸èƒ½æ»¡è¶³æ‰€æœ‰ä¸šåŠ¡åœºæ™¯ã€‚éƒ¨åˆ†æƒ…å†µä¸‹ï¼Œéœ€è¦å°†æµ…å…‹éš†ä¼˜åŒ–ä¸ºæ·±å…‹éš†ï¼Œå…·ä½“å®ç°æ–¹æ³•ï¼šå®ç° `Cloneable` æ¥å£ï¼Œé‡å†™ `clone()` æ–¹æ³•ï¼Œåœ¨ `clone()` æ–¹æ³•ä¸­æ‰‹åŠ¨å…‹éš†å¼•ç”¨å±æ€§ã€‚é‡å†™æ—¶è®°å¾— `super.clone()`ã€‚\n\nç¤ºä¾‹ä»£ç ï¼š\n\n```java\npublic class Test {\n\tstatic class Body implements Cloneable {\n\t\tpublic Head head;\n\n\t\tpublic Body() {}\n\n\t\tpublic Body(Head head) {\n\t\t\tthis.head = head;\n\t\t}\n\n\t\t@Override\n\t\tprotected Object clone() throws CloneNotSupportedException {\n\t\t\tBody newBody = (Body) super.clone();\n\t\t\tnewBody.head = (Head) head.clone();\n\t\t\treturn newBody;\n\t\t}\n\t}\n\n\tstatic class Head implements Cloneable {\n\t\tpublic Face face;\n\n\t\tpublic Head() {}\n\n\t\tpublic Head(Face face) {\n\t\t\tthis.face = face;\n\t\t}\n\n\t\t@Override\n\t\tprotected Object clone() throws CloneNotSupportedException {\n\t\t\treturn super.clone();\n\t\t}\n\t}\n\n\tstatic class Face implements Cloneable {\n\t\tpublic Face() {\n\t\t}\n\t}\n\n\tpublic static void main(String[] args) throws CloneNotSupportedException {\n\t\tBody body = new Body(new Head());\n\t\tBody body1 = (Body) body.clone();\n\t\tSystem.out.println(\"body == body1 : \" + (body == body1)); // false\n\t\tSystem.out.println(\"body.head == body1.head : \" + (body.head == body1.head)); // false\n\t}\n}\n```\n\nå®é™…ä¸Šï¼Œä¸Šé¢çš„ä»£ç å…‹éš†å¾—è¿˜æ˜¯ä¸å¤Ÿå½»åº•ï¼š\n\n![image.png|475](https://cdn.gallery.uuanqin.top/img/202507212235064.webp)\n\næƒ³è¦åšåˆ°å®Œå®Œæ•´æ•´çš„æ·±å…‹éš†ï¼Œå¿…é¡»ä¿è¯æ‰€æœ‰å¼•ç”¨å±æ€§å…‹éš†åéƒ½ä¼šåˆ›å»ºæ–°å¯¹è±¡ï¼Œå¹¶ä¸”è¿™ä¸ªè¿‡ç¨‹éœ€è¦æ— é™å‘ä¸‹é€’å½’ï¼Œç›´åˆ°åªå‰©ä¸‹å¸¸é‡å±æ€§ã€‚æƒ³è¦å®ç°è¿™ç§ç¨‹åº¦çš„æ·±å…‹éš†å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ï¼Œå› ä¸ºä¸€æ—¦ä»£ç ä¸­å¼•å…¥ SDK åŒ…ä¸­çš„ç±»ï¼Œä¸”è¯¥ç±»æ²¡æœ‰é‡å†™ `clone()` æ–¹æ³•ï¼Œå°±æ— æ³•å®ç°æ·±å…‹éš†ã€‚\n\n## `Serializable`ï¼šåºåˆ—åŒ–åå†ååºåˆ—åŒ–\n\n> æŠŠå¯¹è±¡å†™åˆ°æµé‡Œçš„è¿‡ç¨‹æ˜¯ä¸²è¡ŒåŒ–ï¼ˆSerilizationï¼‰è¿‡ç¨‹ï¼Œä¸€ç§å½¢è±¡çš„è¯´æ³•ä¸ºã€Œå†·å†»ã€æˆ–è€…ã€Œè…Œå’¸èœï¼ˆpickingï¼‰ã€è¿‡ç¨‹ï¼›è€ŒæŠŠå¯¹è±¡ä»æµä¸­è¯»å‡ºæ¥çš„å¹¶è¡ŒåŒ–ï¼ˆDeserializationï¼‰è¿‡ç¨‹åˆ™å«åšã€Œè§£å†»ã€æˆ–è€…ã€Œå›é²œï¼ˆdepickingï¼‰ã€è¿‡ç¨‹ã€‚\n\nå°†å¯¹è±¡åºåˆ—åŒ–ï¼Œç„¶åå†ååºåˆ—åŒ–æˆæ–°çš„å¯¹è±¡æ˜¯æ·±æ‹·è´çš„ä¸€ç§æ–¹æ³•ã€‚\n\nç¤ºä¾‹ä»£ç ï¼š\n\n```java\npackage top.uuanqin;\n\nimport java.io.*;\nimport java.util.Date;\n\npublic class TestClone {\n    public static class User implements Serializable {\n        private int id;\n        private String username;// ç”¨æˆ·å§“å\n        private String sex;// æ€§åˆ«\n        private Date birthday;// ç”Ÿæ—¥\n        private String address;// åœ°å€\n        private Person person; //å¼•ç”¨ç±»å‹\n\n        public User myColon() {\n            User copy = null;\n            try {\n                ByteArrayOutputStream baos = new ByteArrayOutputStream();\n                ObjectOutputStream oos = new ObjectOutputStream(baos);\n                oos.writeObject(this);\n                //å°†æµåºåˆ—åŒ–æˆå¯¹è±¡\n                ByteArrayInputStream bais = new ByteArrayInputStream(baos.toByteArray());\n                ObjectInputStream ois = new ObjectInputStream(bais);\n                copy = (User) ois.readObject();\n            } catch (IOException | ClassNotFoundException e) {\n                e.printStackTrace();\n            }\n            return copy;\n        }\n\n        //æ­¤å¤„çœç•¥get-setæ–¹æ³•ä»£ç \n    }\n\n    // å¼•ç”¨ç±»å‹ä¹Ÿéœ€è¦å®ç°Serializableæ¥å£ï¼Œå¦åˆ™ä¼šåºåˆ—åŒ–å¤±è´¥ã€‚\n    public static class Person implements Serializable {\n        private int id;\n        private String userName;\n        private int age;\n        private String mobilePhone;\n\n        public Person() {\n        }\n\n        public Person(int id, String userName, int age, String mobilePhone) {\n            this.id = id;\n            this.userName = userName;\n            this.age = age;\n            this.mobilePhone = mobilePhone;\n        }\n        //æ­¤å¤„çœç•¥get-setæ–¹æ³•\n    }\n\n    public static void main(String[] args) {\n        User u1 = new User();\n        u1.person = new Person(); // è®©å¼•ç”¨å¯¹è±¡ä¸ä¸ºç©º\n        User u2 = u1.myColon();\n        System.out.println(u1 == u2);  // false\n        System.out.println(u1.person == u2.person); // false\n    }\n}\n```\n\n## ä½¿ç”¨åå°„æ–¹æ³•\n\né€šè¿‡ [[Java ä¸­çš„åå°„|åå°„]] ç”Ÿæˆå¯¹è±¡ï¼Œé€šè¿‡åå°„æœºåˆ¶è·å–è¯¥å¯¹è±¡çš„æ‰€æœ‰å­—æ®µå’Œå±æ€§ä¿¡æ¯ã€‚éå†æ‰€æœ‰å­—æ®µå’Œå±æ€§ï¼Œä»¥é€’å½’æ–¹å¼å°†æºå¯¹è±¡ä¸­çš„å€¼å¤åˆ¶åˆ°ç›®æ ‡å¯¹è±¡ä¸­ã€‚\n\n# æœ¬æ–‡å‚è€ƒ\n\n- ã€Šå›¾è§£è®¾è®¡æ¨¡å¼ã€‹ç¬¬ 6 ç« \n- æœ¬ç§‘ç”Ÿè¯¾ç¨‹ç¬”è®°ã€Šç¨‹åºè®¾è®¡ä¸­çº§å®è·µï¼†è®¾è®¡æ¨¡å¼ã€‹ - TJU ğŸâš±ï¸\n- [æå®¢æ—¶é—´ä¸“æ  - è®¾è®¡æ¨¡å¼ä¹‹ç¾ - ç‹äº‰](https://gitee.com/buxsren/design-pattern-books/blob/master/docs/200786.md)\n- [æ·±æ‹·è´å’Œæµ…æ‹·è´çš„åŒºåˆ«ï¼Œä½ çœŸçš„å¼„æ‡‚äº†å—ï¼Ÿ - çŸ¥ä¹](https://zhuanlan.zhihu.com/p/168777892)\n- [ã€é¢è¯•é¢˜ç²¾è®²ã€‘æ·±æ‹·è´å’Œæµ…æ‹·è´åŒºåˆ«äº†è§£å—ï¼Ÿä»€ä¹ˆæ˜¯å¼•ç”¨æ‹·è´ï¼Ÿ-è…¾è®¯äº‘å¼€å‘è€…ç¤¾åŒº-è…¾è®¯äº‘](https://cloud.tencent.com/developer/article/2335478)\n- ã€ä¸æ¨èã€‘[java clone() æ–¹æ³•è¯¦è§£åŠæ·±å…‹éš†ä¸æµ…å…‹éš†-CSDNåšå®¢](https://blog.csdn.net/weixin_42361467/article/details/130640155)\n- [è¯¦è§£Javaä¸­çš„cloneæ–¹æ³• - ä½•å¿…ç­‰æ˜å¤© - åšå®¢å›­](https://www.cnblogs.com/xzwblog/p/7230788.html)\n- [Javaå¯¹è±¡-æ·±æ‹·è´(å®ç°Serializable, Cloneableä¸¤ç§æ–¹å¼)_javaæ²¡æœ‰getsetçš„æ·±æ‹·è´-CSDNåšå®¢](https://blog.csdn.net/m0_37695902/article/details/119930702)\n- [è§£è¯» --- æ·±æ‹·è´ - NiueryDiary - åšå®¢å›­](https://www.cnblogs.com/pandefu/p/17536258.html)\n- [è¯¦è§£Javaè®¾è®¡æ¨¡å¼ä¹‹åŸå‹æ¨¡å¼ï¼ˆPrototype Patternï¼‰_é‚®ä»¶å¤åˆ¶ java æ¨¡å¼-CSDNåšå®¢](https://blog.csdn.net/weixin_45692705/article/details/121647915)\n- [åŸå‹æ¨¡å¼ | èœé¸Ÿæ•™ç¨‹](https://www.runoob.com/design-pattern/prototype-pattern.html)","categories":[{"name":"é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼","api":"api/categories/é«˜è´¨é‡ä»£ç åŠè®¾è®¡æ¨¡å¼.json"}],"tags":[{"name":"Java","api":"api/tags/Java.json"},{"name":"è®¾è®¡æ¨¡å¼","api":"api/tags/è®¾è®¡æ¨¡å¼.json"}]},"api":"api/posts/p/96a98120.json"}