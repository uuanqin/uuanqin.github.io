{"data":{"title":"【索引】装点你的 Butterfly 博客","slug":"博客站点维护/Hexo/【索引】装点你的 Butterfly 博客","description":"既然选择了 Butterfly 主题，那就好好装点一下吧","date":"2023-06-02T08:55:00.000Z","updated":"2025-06-25T14:27:04.526Z","language":"zh-CN","comments":true,"url":"p/4872f379/","cover":"https://cdn.gallery.uuanqin.top/img/butterflybeautifycover.webp","images":[],"content":"\n<div class=\"callout\" data-callout=\"hint\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-flame\"><path d=\"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\"/></svg>\n</div>\n<div class=\"callout-title-inner\">这是一篇索引文章</div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><p>本文由原 <a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/18bbd410/\"><span class=\"yukari\">站内文章</span>【索引】Hexo 博客的写作与装饰</a> 拆分而来。</p>\n<h1 id=\"主题升级\"><a class=\"markdownIt-Anchor\" href=\"#主题升级\"></a> 主题升级</h1>\n<p>主题文件夹拉取最新分支即可。注意查看更新日志以调整主题配置文件。</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">git pull origin master</span><br></pre></td></tr></table></figure>\n<p>如果有魔改的自己注意合并一下。</p>\n<p>参考：<a href=\"https://butterfly.js.org/posts/21cfbf15/\">Butterfly 安裝文檔(一) 快速開始 | Butterfly</a></p>\n<h1 id=\"评论系统的部署定制\"><a class=\"markdownIt-Anchor\" href=\"#评论系统的部署定制\"></a> 评论系统的部署/定制</h1>\n<p>Waline 部署：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/591f2165/\"><span class=\"yukari\">站内文章</span>Hexo Btterfly 引入 Waline 评论系统以及常见问题解决</a></p>\n<p>Waline 定制：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/dd188b35/\"><span class=\"yukari\">站内文章</span>【索引】定制自己的 Waline 评论系统</a></p>\n<h1 id=\"algolia-搜索服务\"><a class=\"markdownIt-Anchor\" href=\"#algolia-搜索服务\"></a> Algolia 搜索服务</h1>\n<p>Butterfly 文档： <a href=\"https://butterfly.js.org/posts/ceeb73f/#%E6%90%9C%E7%B4%A2\">Butterfly 安裝文檔(四) 主題配置-2 | Butterfly</a></p>\n<p>Hexo-algoliasearch 仓库：<a href=\"https://github.com/LouisBarranqueiro/hexo-algoliasearch\">LouisBarranqueiro/hexo-algoliasearch: A plugin to index posts of your Hexo blog on Algolia (github.com)</a></p>\n\n<div class=\"callout\" data-callout=\"warning\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-alert-triangle\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>\n</div>\n<div class=\"callout-title-inner\">教训</div>\n</div>\n<div class=\"callout-content\"><p>使用 Algolia 搜索默认主题时，注意搜索界面不要有跳转到外国网站的链接（比如 Power By 的 logo），否则可能会有蜀黍来电风险。</p>\n</div></div><p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202410250343192.webp\" alt=\"image.png\" width=\"450px\" /></p>\n<p>可以在 <code>themes/butterfly/source/js/search/algolia.js</code> 中去掉 Algolia 搜索 Power By 标签：</p>\n<figure class=\"highlight diff\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">// 旧版本</span><br><span class=\"line\"><span class=\"deletion\">- search.addWidgets([configure, searchBox, hits, stats, powerBy, pagination]) // add the widgets to the instantsearch instance</span></span><br><span class=\"line\"><span class=\"addition\">+ search.addWidgets([configure, searchBox, hits, stats, pagination]) // add the widgets to the instantsearch instance</span></span><br><span class=\"line\"></span><br><span class=\"line\">// 新版本（Butterfly 5.1 之后的版本使用新版本的instantsearch）</span><br><span class=\"line\"><span class=\"deletion\">- instantsearch.widgets.poweredBy(&#123;  </span></span><br><span class=\"line\"><span class=\"deletion\">- container: &#x27;#algolia-info &gt; .algolia-poweredBy&#x27;  </span></span><br><span class=\"line\"><span class=\"deletion\">- &#125;),</span></span><br></pre></td></tr></table></figure>\n\n<div class=\"callout\" data-callout=\"hint\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-flame\"><path d=\"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z\"/></svg>\n</div>\n<div class=\"callout-title-inner\">不建议去掉 Power By 标识</div>\n</div>\n<div class=\"callout-content\"><p>为了尊重知识产权，以及纠纷避免，不建议去掉 Power By 标识。根据 Algolia <a href=\"https://www.algolia.com/policies/free-services-terms\">免费服务特殊条款</a>，如果你使用的是社区版本（免费开源）必须加上 Power By 部件。</p>\n<p>（如果你觉得<strong>狗命要紧</strong>请无视此提醒🐕）</p>\n</div></div><p>如果你的 Butterfly 版本是 5.1 以后，那么你还可以把 Power By 加回来，只是把标签链接替换为另外的链接，比如中间页链接规避风险（关于中间页详看 <a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/e1ee5eca/\"><span class=\"yukari\">站内文章</span>Hexo 博客与 Waline 评论区实现外链跳转中间页</a>）。</p>\n<p>首先按照上面代码去掉标签，然后找到代码中的这一行 <code>search.addWidgets(widgets)</code>，在其下方添加以下代码：</p>\n<figure class=\"highlight javascript\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/************ 自定义 PowerBy ***********/</span></span><br><span class=\"line\"><span class=\"comment\">/*********** https://www.algolia.com/doc/api-reference/widgets/powered-by/js/#connector ***********/</span></span><br><span class=\"line\"><span class=\"comment\">// Create the render function</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">const</span> <span class=\"title function_\">renderPoweredBy</span> = (<span class=\"params\">renderOptions, isFirstRender</span>) =&gt; &#123;</span><br><span class=\"line\"><span class=\"keyword\">const</span> &#123; url, widgetParams &#125; = renderOptions;</span><br><span class=\"line\"><span class=\"keyword\">const</span> target = <span class=\"string\">&quot;https://www.algolia.com/&quot;</span> <span class=\"comment\">// 目标跳转地址</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> midPage = <span class=\"string\">&quot;https://blog.uuanqin.top/go.html?u=&quot;</span> + <span class=\"title function_\">btoa</span>(target) <span class=\"comment\">// 中间页处理地址（你可以处理成你想要的形式）</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> svg = <span class=\"string\">`&lt;svg width=&quot;77&quot; height=&quot;19&quot; aria-label=&quot;Algolia&quot; role=&quot;img&quot; id=&quot;Layer_1&quot; xmlns=&quot;http://www.w3.org/2000/svg&quot; viewBox=&quot;0 0 2196.2 500&quot;&gt;&lt;defs&gt;&lt;style&gt;.cls-1,.cls-2&#123;fill:#003dff;&#125;.cls-2&#123;fill-rule:evenodd;&#125;&lt;/style&gt;&lt;/defs&gt;&lt;path d=&quot;M1070.38,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;rect x=&quot;1845.88&quot; y=&quot;104.73&quot; width=&quot;62.58&quot; height=&quot;277.9&quot; rx=&quot;5.9&quot; ry=&quot;5.9&quot; class=&quot;cls-1&quot;&gt;&lt;/rect&gt;&lt;path d=&quot;M1851.78,71.38h50.77c3.26,0,5.9-2.64,5.9-5.9V5.9c0-3.62-3.24-6.39-6.82-5.83l-50.77,7.95c-2.87,.45-4.99,2.92-4.99,5.83v51.62c0,3.26,2.64,5.9,5.9,5.9Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M1764.03,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M1631.95,142.72c-11.14-12.25-24.83-21.65-40.78-28.31-15.92-6.53-33.26-9.85-52.07-9.85-18.78,0-36.15,3.17-51.92,9.85-15.59,6.66-29.29,16.05-40.76,28.31-11.47,12.23-20.38,26.87-26.76,44.03-6.38,17.17-9.24,37.37-9.24,58.36,0,20.99,3.19,36.87,9.55,54.21,6.38,17.32,15.14,32.11,26.45,44.36,11.29,12.23,24.83,21.62,40.6,28.46,15.77,6.83,40.12,10.33,52.4,10.48,12.25,0,36.78-3.82,52.7-10.48,15.92-6.68,29.46-16.23,40.78-28.46,11.29-12.25,20.05-27.04,26.25-44.36,6.22-17.34,9.24-33.22,9.24-54.21,0-20.99-3.34-41.19-10.03-58.36-6.38-17.17-15.14-31.8-26.43-44.03Zm-44.43,163.75c-11.47,15.75-27.56,23.7-48.09,23.7-20.55,0-36.63-7.8-48.1-23.7-11.47-15.75-17.21-34.01-17.21-61.2,0-26.89,5.59-49.14,17.06-64.87,11.45-15.75,27.54-23.52,48.07-23.52,20.55,0,36.63,7.78,48.09,23.52,11.47,15.57,17.36,37.98,17.36,64.87,0,27.19-5.72,45.3-17.19,61.2Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M894.42,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M2133.97,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M1314.05,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-11.79,18.34-19.6,39.64-22.11,62.59-.58,5.3-.88,10.68-.88,16.14s.31,11.15,.93,16.59c4.28,38.09,23.14,71.61,50.66,94.52,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47h0c17.99,0,34.61-5.93,48.16-15.97,16.29-11.58,28.88-28.54,34.48-47.75v50.26h-.11v11.08c0,21.84-5.71,38.27-17.34,49.36-11.61,11.08-31.04,16.63-58.25,16.63-11.12,0-28.79-.59-46.6-2.41-2.83-.29-5.46,1.5-6.27,4.22l-12.78,43.11c-1.02,3.46,1.27,7.02,4.83,7.53,21.52,3.08,42.52,4.68,54.65,4.68,48.91,0,85.16-10.75,108.89-32.21,21.48-19.41,33.15-48.89,35.2-88.52V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,64.1s.65,139.13,0,143.36c-12.08,9.77-27.11,13.59-43.49,14.7-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-1.32,0-2.63-.03-3.94-.1-40.41-2.11-74.52-37.26-74.52-79.38,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33Z&quot; class=&quot;cls-2&quot;&gt;&lt;/path&gt;&lt;path d=&quot;M249.83,0C113.3,0,2,110.09,.03,246.16c-2,138.19,110.12,252.7,248.33,253.5,42.68,.25,83.79-10.19,120.3-30.03,3.56-1.93,4.11-6.83,1.08-9.51l-23.38-20.72c-4.75-4.21-11.51-5.4-17.36-2.92-25.48,10.84-53.17,16.38-81.71,16.03-111.68-1.37-201.91-94.29-200.13-205.96,1.76-110.26,92-199.41,202.67-199.41h202.69V407.41l-115-102.18c-3.72-3.31-9.42-2.66-12.42,1.31-18.46,24.44-48.53,39.64-81.93,37.34-46.33-3.2-83.87-40.5-87.34-86.81-4.15-55.24,39.63-101.52,94-101.52,49.18,0,89.68,37.85,93.91,85.95,.38,4.28,2.31,8.27,5.52,11.12l29.95,26.55c3.4,3.01,8.79,1.17,9.63-3.3,2.16-11.55,2.92-23.58,2.07-35.92-4.82-70.34-61.8-126.93-132.17-131.26-80.68-4.97-148.13,58.14-150.27,137.25-2.09,77.1,61.08,143.56,138.19,145.26,32.19,.71,62.03-9.41,86.14-26.95l150.26,133.2c6.44,5.71,16.61,1.14,16.61-7.47V9.48C499.66,4.25,495.42,0,490.18,0H249.83Z&quot; class=&quot;cls-1&quot;&gt;&lt;/path&gt;&lt;/svg&gt;`</span></span><br><span class=\"line\">widgetParams.<span class=\"property\">container</span>.<span class=\"property\">innerHTML</span> = <span class=\"string\">`&lt;a href=&quot;<span class=\"subst\">$&#123;midPage&#125;</span>&quot;&gt;<span class=\"subst\">$&#123;svg&#125;</span>&lt;/a&gt;`</span>; <span class=\"comment\">// 重写标签HTML</span></span><br><span class=\"line\">&#125;;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Create the custom widget</span></span><br><span class=\"line\"><span class=\"keyword\">const</span> customPoweredBy = instantsearch.<span class=\"property\">connectors</span>.<span class=\"title function_\">connectPoweredBy</span>(</span><br><span class=\"line\">\t  renderPoweredBy</span><br><span class=\"line\">);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Instantiate the custom widget</span></span><br><span class=\"line\">search.<span class=\"title function_\">addWidgets</span>([</span><br><span class=\"line\">\t<span class=\"title function_\">customPoweredBy</span>(&#123;</span><br><span class=\"line\">\t  <span class=\"attr\">container</span>: <span class=\"variable language_\">document</span>.<span class=\"title function_\">querySelector</span>(<span class=\"string\">&#x27;#algolia-info &gt; .algolia-poweredBy&#x27;</span>),</span><br><span class=\"line\">\t&#125;)</span><br><span class=\"line\">]);</span><br><span class=\"line\"><span class=\"comment\">/********** END ***********/</span></span><br></pre></td></tr></table></figure>\n<h1 id=\"各平台站长管理工具配置\"><a class=\"markdownIt-Anchor\" href=\"#各平台站长管理工具配置\"></a> 各平台站长管理工具配置</h1>\n<p><a href=\"https://cloud.tencent.com/developer/article/2023058\">hexo-butterfly-数据统计相关引入 - 腾讯云开发者社区-腾讯云 (tencent.com)</a></p>\n<h1 id=\"优雅改\"><a class=\"markdownIt-Anchor\" href=\"#优雅改\"></a> 优雅改</h1>\n<p>我定义的优雅改是指仅在主题配置文件 <code>inject</code> 处添加自定义 css 和 js 文件，不修改主题源码。</p>\n<h2 id=\"hexo-博客添加自定义-css-和-js-文件方法\"><a class=\"markdownIt-Anchor\" href=\"#hexo-博客添加自定义-css-和-js-文件方法\"></a> Hexo 博客添加自定义 css 和 js 文件方法</h2>\n<ol>\n<li>打开主题配置文件（<code>butterfly.yml</code>）</li>\n<li>定位搜索 inject</li>\n<li>其中 head 是用来引入 css 的。bottom 是用来引入 js 的。（有时候也没有那么严格区分）</li>\n</ol>\n<p>示例</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;your</span> <span class=\"string\">css&quot;&gt;</span></span><br><span class=\"line\">  <span class=\"attr\">bottom:</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;script</span> <span class=\"string\">src=&quot;your</span> <span class=\"string\">js&quot;&gt;&lt;/script&gt;</span></span><br></pre></td></tr></table></figure>\n<p>参考：<a href=\"https://blog.leonus.cn/2022/custom.html\">Hexo 博客添加自定义 css 和 js 文件 | Leonus</a></p>\n<h2 id=\"使用-iconfont-图标库\"><a class=\"markdownIt-Anchor\" href=\"#使用-iconfont-图标库\"></a> 使用 iconfont 图标库</h2>\n<p>使用之前首先阅读官方说明：<a href=\"https://butterfly.js.org/posts/4073eda/#iconfont\">Butterfly 安裝文檔(六) 進階教程 | Butterfly</a></p>\n<p>然后参考这篇文章：<a href=\"https://www.antmoe.com/posts/80c43671/index.html\">Hexo 博客之优雅使用阿里 iconfont 图标 | 小康博客 (antmoe.com)</a></p>\n<p>其实可以像我这样实践，我觉得这样更方便：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"attr\">inject:</span></span><br><span class=\"line\">  <span class=\"attr\">head:</span></span><br><span class=\"line\">    <span class=\"comment\"># iconfont</span></span><br><span class=\"line\">    <span class=\"comment\"># 放iconfont自己项目的链接，注意，每次iconfont中的项目更新后，连接就会不一样</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;//at.alicdn.com/t/c/yourcsslink.css&quot;&gt;</span></span><br><span class=\"line\">    <span class=\"comment\"># 放自己额外定义的css</span></span><br><span class=\"line\">    <span class=\"bullet\">-</span> <span class=\"string\">&lt;link</span> <span class=\"string\">rel=&quot;stylesheet&quot;</span> <span class=\"string\">href=&quot;/css/iconfont_custom.css&quot;&gt;</span></span><br></pre></td></tr></table></figure>\n<p>当然也可以把图标下载到本地，方法：</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/image-20230427194929460.png\" alt=\"image-20230427194929460\" /></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/image-20230427195048627.png\" alt=\"image-20230427195048627\" width=\"450px\" /></p>\n<h2 id=\"其他优雅改\"><a class=\"markdownIt-Anchor\" href=\"#其他优雅改\"></a> 其他优雅改</h2>\n\n<div class=\"callout\" data-callout=\"success\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-check\"><path d=\"M20 6 9 17l-5-5\"/></svg>\n</div>\n<div class=\"callout-title-inner\">以下文章均已收录至 <a href=\"https://butterfly.zhheo.com/\">Butterfly 主题美化教程</a></div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><p>自定义侧边栏：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/568ad08/\"><span class=\"yukari\">站内文章</span>Butterfly 不改动主题源码实现自定义侧边栏</a></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/crowdsimudemo.gif\" alt=\"crowdsimudemo.gif\" /></p>\n<p>自定义页脚：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/91b7dad/\"><span class=\"yukari\">站内文章</span>Butterfly 自定义页脚（不修改主题源码）</a></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202408031704229.webp\" alt=\"image.png\" /></p>\n<p>夜间模式更改网站图标：<a class=\"uuanqin-bilink\" target=\"_blank\" href=\"/p/f06d4de6/\"><span class=\"yukari\">站内文章</span>Butterfly 夜间模式变换顶部网站图标</a></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/202410250117264.webp\" alt=\"image.png\" width=\"335px\" /></p>\n<h2 id=\"butterfly-问题解决\"><a class=\"markdownIt-Anchor\" href=\"#butterfly-问题解决\"></a> Butterfly 问题解决</h2>\n\n<div class=\"callout\" data-callout=\"question\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-help-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>\n</div>\n<div class=\"callout-title-inner\">BtterFly 主题不显示封面？</div>\n</div>\n<div class=\"callout-content\"><p></p>\n<p>确保主题配置文件中 cover 的相关配置已经配置正确。</p>\n</div></div>\n<div class=\"callout\" data-callout=\"question\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-help-circle\"><circle cx=\"12\" cy=\"12\" r=\"10\"/><path d=\"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3\"/><path d=\"M12 17h.01\"/></svg>\n</div>\n<div class=\"callout-title-inner\">配置好了但某些文章不显示默认封面？</div>\n</div>\n<div class=\"callout-content\"><p></p>\n<p>如果某些文章没有显示默认封面，试试在 Front-matter 加上 <code>description</code> 字段。</p>\n</div></div><h1 id=\"过期仅供参考的条目\"><a class=\"markdownIt-Anchor\" href=\"#过期仅供参考的条目\"></a> 【过期】仅供参考的条目</h1>\n<p>以下条目将不再维护，仅供历史参考。</p>\n<h2 id=\"过期自定义滚动条\"><a class=\"markdownIt-Anchor\" href=\"#过期自定义滚动条\"></a> 【过期】自定义滚动条</h2>\n\n<div class=\"callout\" data-callout=\"fail\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-x\"><path d=\"M18 6 6 18\"/><path d=\"m6 6 12 12\"/></svg>\n</div>\n<div class=\"callout-title-inner\">新版本 Butterfly 好像不起作用了</div>\n</div>\n<div class=\"callout-content\"><p></p>\n</div></div><p>引入新的 css 文件，文件内容为：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br><span class=\"line\">23</span><br><span class=\"line\">24</span><br><span class=\"line\">25</span><br><span class=\"line\">26</span><br><span class=\"line\">27</span><br><span class=\"line\">28</span><br><span class=\"line\">29</span><br><span class=\"line\">30</span><br><span class=\"line\">31</span><br><span class=\"line\">32</span><br><span class=\"line\">33</span><br><span class=\"line\">34</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"comment\">/* 滚动条 */</span></span><br><span class=\"line\">::-webkit-scrollbar &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">width</span>: <span class=\"number\">15px</span>;        <span class=\"comment\">/* 滚动条的宽度 */</span></span><br><span class=\"line\">\t<span class=\"attribute\">height</span>: <span class=\"number\">8px</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">::-webkit-scrollbar-track &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: <span class=\"built_in\">rgba</span>(<span class=\"number\">73</span>, <span class=\"number\">177</span>, <span class=\"number\">245</span>, <span class=\"number\">0.2</span>);</span><br><span class=\"line\">\t<span class=\"attribute\">border-radius</span>: <span class=\"number\">2em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">::-webkit-scrollbar-thumb &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: <span class=\"number\">#49b1f5</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-image</span>: <span class=\"built_in\">-webkit-linear-gradient</span>(</span><br><span class=\"line\">\t  <span class=\"number\">45deg</span>,</span><br><span class=\"line\">\t  <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.4</span>) <span class=\"number\">25%</span>,</span><br><span class=\"line\">\t  transparent <span class=\"number\">25%</span>,</span><br><span class=\"line\">\t  transparent <span class=\"number\">50%</span>,</span><br><span class=\"line\">\t  <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.4</span>) <span class=\"number\">50%</span>,</span><br><span class=\"line\">\t  <span class=\"built_in\">rgba</span>(<span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">255</span>, <span class=\"number\">0.4</span>) <span class=\"number\">75%</span>,</span><br><span class=\"line\">\t  transparent <span class=\"number\">75%</span>,</span><br><span class=\"line\">\t  transparent</span><br><span class=\"line\">\t);</span><br><span class=\"line\">\t<span class=\"attribute\">border-radius</span>: <span class=\"number\">2em</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">::-webkit-scrollbar-corner &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: transparent;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\">::-moz-selection &#123;</span><br><span class=\"line\">\t<span class=\"attribute\">color</span>: <span class=\"number\">#fff</span>;</span><br><span class=\"line\">\t<span class=\"attribute\">background-color</span>: <span class=\"number\">#49b1f5</span>;</span><br><span class=\"line\">&#125;</span><br></pre></td></tr></table></figure>\n<p>参考：<a href=\"https://www.cnblogs.com/antmoe/p/12846393.html\">Hexo 博客之 butterfly 主题优雅魔改系列（持续更新） - antmoe - 博客园 (cnblogs.com)</a></p>\n","raw":"---\ntitle: 【索引】装点你的 Butterfly 博客\ntags:\n  - Butterfly\n  - CSS\n  - HTML\n  - Javascript\n  - RSS\n  - Waline\n  - iconfont\n  - NPM\n  - Codepen\n  - SQLite\ncover: 'https://cdn.gallery.uuanqin.top/img/butterflybeautifycover.webp'\ndescription: 既然选择了 Butterfly 主题，那就好好装点一下吧\ncategories:\n  - 博客站点维护\n  - Hexo\nabbrlink: 4872f379\ndate: 2023-06-02 16:55:00\ntop_img:\n---\n\n> [!hint] 这是一篇索引文章\n\n本文由原 [[【索引】Hexo 博客的写作与装饰]] 拆分而来。\n\n# 主题升级\n\n主题文件夹拉取最新分支即可。注意查看更新日志以调整主题配置文件。\n\n```sh\ngit pull origin master\n```\n\n如果有魔改的自己注意合并一下。\n\n参考：[Butterfly 安裝文檔(一) 快速開始 | Butterfly](https://butterfly.js.org/posts/21cfbf15/)\n\n# 评论系统的部署/定制\n\nWaline 部署：[[Hexo Btterfly 引入 Waline 评论系统以及常见问题解决]]\n\nWaline 定制：[[【索引】定制自己的 Waline 评论系统]]\n\n# Algolia 搜索服务\n\nButterfly 文档： [Butterfly 安裝文檔(四) 主題配置-2 | Butterfly](https://butterfly.js.org/posts/ceeb73f/#搜索)\n\nHexo-algoliasearch 仓库：[LouisBarranqueiro/hexo-algoliasearch: A plugin to index posts of your Hexo blog on Algolia (github.com)](https://github.com/LouisBarranqueiro/hexo-algoliasearch)\n\n> [!warning] 教训\n> 使用 Algolia 搜索默认主题时，注意搜索界面不要有跳转到外国网站的链接（比如 Power By 的 logo），否则可能会有蜀黍来电风险。\n\n![image.png|450](https://cdn.gallery.uuanqin.top/img/202410250343192.webp)\n\n可以在 `themes/butterfly/source/js/search/algolia.js` 中去掉 Algolia 搜索 Power By 标签：\n\n```diff\n// 旧版本\n- search.addWidgets([configure, searchBox, hits, stats, powerBy, pagination]) // add the widgets to the instantsearch instance\n+ search.addWidgets([configure, searchBox, hits, stats, pagination]) // add the widgets to the instantsearch instance\n\n// 新版本（Butterfly 5.1 之后的版本使用新版本的instantsearch）\n- instantsearch.widgets.poweredBy({  \n- container: '#algolia-info > .algolia-poweredBy'  \n- }),\n```\n\n> [!hint] 不建议去掉 Power By 标识\n> 为了尊重知识产权，以及纠纷避免，不建议去掉 Power By 标识。根据 Algolia [免费服务特殊条款](https://www.algolia.com/policies/free-services-terms)，如果你使用的是社区版本（免费开源）必须加上 Power By 部件。\n>\n> （如果你觉得**狗命要紧**请无视此提醒🐕）\n\n如果你的 Butterfly 版本是 5.1 以后，那么你还可以把 Power By 加回来，只是把标签链接替换为另外的链接，比如中间页链接规避风险（关于中间页详看 [[Hexo 博客与 Waline 评论区实现外链跳转中间页]]）。\n\n首先按照上面代码去掉标签，然后找到代码中的这一行 `search.addWidgets(widgets)`，在其下方添加以下代码：\n\n```javascript\n/************ 自定义 PowerBy ***********/\n/*********** https://www.algolia.com/doc/api-reference/widgets/powered-by/js/#connector ***********/\n// Create the render function\n\nconst renderPoweredBy = (renderOptions, isFirstRender) => {\nconst { url, widgetParams } = renderOptions;\nconst target = \"https://www.algolia.com/\" // 目标跳转地址\nconst midPage = \"https://blog.uuanqin.top/go.html?u=\" + btoa(target) // 中间页处理地址（你可以处理成你想要的形式）\nconst svg = `<svg width=\"77\" height=\"19\" aria-label=\"Algolia\" role=\"img\" id=\"Layer_1\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 2196.2 500\"><defs><style>.cls-1,.cls-2{fill:#003dff;}.cls-2{fill-rule:evenodd;}</style></defs><path d=\"M1070.38,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z\" class=\"cls-2\"></path><rect x=\"1845.88\" y=\"104.73\" width=\"62.58\" height=\"277.9\" rx=\"5.9\" ry=\"5.9\" class=\"cls-1\"></rect><path d=\"M1851.78,71.38h50.77c3.26,0,5.9-2.64,5.9-5.9V5.9c0-3.62-3.24-6.39-6.82-5.83l-50.77,7.95c-2.87,.45-4.99,2.92-4.99,5.83v51.62c0,3.26,2.64,5.9,5.9,5.9Z\" class=\"cls-2\"></path><path d=\"M1764.03,275.3V5.91c0-3.63-3.24-6.39-6.82-5.83l-50.46,7.94c-2.87,.45-4.99,2.93-4.99,5.84l.17,273.22c0,12.92,0,92.7,95.97,95.49,3.33,.1,6.09-2.58,6.09-5.91v-40.78c0-2.96-2.19-5.51-5.12-5.84-34.85-4.01-34.85-47.57-34.85-54.72Z\" class=\"cls-2\"></path><path d=\"M1631.95,142.72c-11.14-12.25-24.83-21.65-40.78-28.31-15.92-6.53-33.26-9.85-52.07-9.85-18.78,0-36.15,3.17-51.92,9.85-15.59,6.66-29.29,16.05-40.76,28.31-11.47,12.23-20.38,26.87-26.76,44.03-6.38,17.17-9.24,37.37-9.24,58.36,0,20.99,3.19,36.87,9.55,54.21,6.38,17.32,15.14,32.11,26.45,44.36,11.29,12.23,24.83,21.62,40.6,28.46,15.77,6.83,40.12,10.33,52.4,10.48,12.25,0,36.78-3.82,52.7-10.48,15.92-6.68,29.46-16.23,40.78-28.46,11.29-12.25,20.05-27.04,26.25-44.36,6.22-17.34,9.24-33.22,9.24-54.21,0-20.99-3.34-41.19-10.03-58.36-6.38-17.17-15.14-31.8-26.43-44.03Zm-44.43,163.75c-11.47,15.75-27.56,23.7-48.09,23.7-20.55,0-36.63-7.8-48.1-23.7-11.47-15.75-17.21-34.01-17.21-61.2,0-26.89,5.59-49.14,17.06-64.87,11.45-15.75,27.54-23.52,48.07-23.52,20.55,0,36.63,7.78,48.09,23.52,11.47,15.57,17.36,37.98,17.36,64.87,0,27.19-5.72,45.3-17.19,61.2Z\" class=\"cls-2\"></path><path d=\"M894.42,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z\" class=\"cls-2\"></path><path d=\"M2133.97,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-14.52,22.58-22.99,49.63-22.99,78.73,0,44.89,20.13,84.92,51.59,111.1,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47,1.23,0,2.46-.03,3.68-.09,.36-.02,.71-.05,1.07-.07,.87-.05,1.75-.11,2.62-.2,.34-.03,.68-.08,1.02-.12,.91-.1,1.82-.21,2.73-.34,.21-.03,.42-.07,.63-.1,32.89-5.07,61.56-30.82,70.9-62.81v57.83c0,3.26,2.64,5.9,5.9,5.9h50.42c3.26,0,5.9-2.64,5.9-5.9V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,206.92c-12.2,10.16-27.97,13.98-44.84,15.12-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-42.24,0-77.12-35.89-77.12-79.37,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33v142.83Z\" class=\"cls-2\"></path><path d=\"M1314.05,104.73h-49.33c-48.36,0-90.91,25.48-115.75,64.1-11.79,18.34-19.6,39.64-22.11,62.59-.58,5.3-.88,10.68-.88,16.14s.31,11.15,.93,16.59c4.28,38.09,23.14,71.61,50.66,94.52,2.93,2.6,6.05,4.98,9.31,7.14,12.86,8.49,28.11,13.47,44.52,13.47h0c17.99,0,34.61-5.93,48.16-15.97,16.29-11.58,28.88-28.54,34.48-47.75v50.26h-.11v11.08c0,21.84-5.71,38.27-17.34,49.36-11.61,11.08-31.04,16.63-58.25,16.63-11.12,0-28.79-.59-46.6-2.41-2.83-.29-5.46,1.5-6.27,4.22l-12.78,43.11c-1.02,3.46,1.27,7.02,4.83,7.53,21.52,3.08,42.52,4.68,54.65,4.68,48.91,0,85.16-10.75,108.89-32.21,21.48-19.41,33.15-48.89,35.2-88.52V110.63c0-3.26-2.64-5.9-5.9-5.9h-56.32Zm0,64.1s.65,139.13,0,143.36c-12.08,9.77-27.11,13.59-43.49,14.7-.16,.01-.33,.03-.49,.04-1.12,.07-2.24,.1-3.36,.1-1.32,0-2.63-.03-3.94-.1-40.41-2.11-74.52-37.26-74.52-79.38,0-10.25,1.96-20.01,5.42-28.98,11.22-29.12,38.77-49.74,71.06-49.74h49.33Z\" class=\"cls-2\"></path><path d=\"M249.83,0C113.3,0,2,110.09,.03,246.16c-2,138.19,110.12,252.7,248.33,253.5,42.68,.25,83.79-10.19,120.3-30.03,3.56-1.93,4.11-6.83,1.08-9.51l-23.38-20.72c-4.75-4.21-11.51-5.4-17.36-2.92-25.48,10.84-53.17,16.38-81.71,16.03-111.68-1.37-201.91-94.29-200.13-205.96,1.76-110.26,92-199.41,202.67-199.41h202.69V407.41l-115-102.18c-3.72-3.31-9.42-2.66-12.42,1.31-18.46,24.44-48.53,39.64-81.93,37.34-46.33-3.2-83.87-40.5-87.34-86.81-4.15-55.24,39.63-101.52,94-101.52,49.18,0,89.68,37.85,93.91,85.95,.38,4.28,2.31,8.27,5.52,11.12l29.95,26.55c3.4,3.01,8.79,1.17,9.63-3.3,2.16-11.55,2.92-23.58,2.07-35.92-4.82-70.34-61.8-126.93-132.17-131.26-80.68-4.97-148.13,58.14-150.27,137.25-2.09,77.1,61.08,143.56,138.19,145.26,32.19,.71,62.03-9.41,86.14-26.95l150.26,133.2c6.44,5.71,16.61,1.14,16.61-7.47V9.48C499.66,4.25,495.42,0,490.18,0H249.83Z\" class=\"cls-1\"></path></svg>`\nwidgetParams.container.innerHTML = `<a href=\"${midPage}\">${svg}</a>`; // 重写标签HTML\n};\n\n// Create the custom widget\nconst customPoweredBy = instantsearch.connectors.connectPoweredBy(\n\t  renderPoweredBy\n);\n\n// Instantiate the custom widget\nsearch.addWidgets([\n\tcustomPoweredBy({\n\t  container: document.querySelector('#algolia-info > .algolia-poweredBy'),\n\t})\n]);\n/********** END ***********/\n```\n\n# 各平台站长管理工具配置\n\n[hexo-butterfly-数据统计相关引入 - 腾讯云开发者社区-腾讯云 (tencent.com)](https://cloud.tencent.com/developer/article/2023058)\n\n# 优雅改\n\n我定义的优雅改是指仅在主题配置文件 `inject` 处添加自定义 css 和 js 文件，不修改主题源码。\n\n## Hexo 博客添加自定义 css 和 js 文件方法\n\n1. 打开主题配置文件（`butterfly.yml`）\n2. 定位搜索 inject\n3. 其中 head 是用来引入 css 的。bottom 是用来引入 js 的。（有时候也没有那么严格区分）\n\n示例\n\n```yaml\ninject:\n  head:\n    - <link rel=\"stylesheet\" href=\"your css\">\n  bottom:\n    - <script src=\"your js\"></script>\n```\n\n参考：[Hexo 博客添加自定义 css 和 js 文件 | Leonus](https://blog.leonus.cn/2022/custom.html)\n\n## 使用 iconfont 图标库\n\n使用之前首先阅读官方说明：[Butterfly 安裝文檔(六) 進階教程 | Butterfly](https://butterfly.js.org/posts/4073eda/#iconfont)\n\n然后参考这篇文章：[Hexo 博客之优雅使用阿里 iconfont 图标 | 小康博客 (antmoe.com)](https://www.antmoe.com/posts/80c43671/index.html)\n\n其实可以像我这样实践，我觉得这样更方便：\n\n```yaml\ninject:\n  head:\n    # iconfont\n    # 放iconfont自己项目的链接，注意，每次iconfont中的项目更新后，连接就会不一样\n    - <link rel=\"stylesheet\" href=\"//at.alicdn.com/t/c/yourcsslink.css\">\n    # 放自己额外定义的css\n    - <link rel=\"stylesheet\" href=\"/css/iconfont_custom.css\">\n```\n\n当然也可以把图标下载到本地，方法：\n\n![image-20230427194929460](https://cdn.gallery.uuanqin.top/img/image-20230427194929460.png)\n\n![image-20230427195048627|450](https://cdn.gallery.uuanqin.top/img/image-20230427195048627.png)\n\n## 其他优雅改\n\n> [!success] 以下文章均已收录至 [Butterfly 主题美化教程](https://butterfly.zhheo.com/)\n\n自定义侧边栏：[[Butterfly 不改动主题源码实现自定义侧边栏]]\n\n![crowdsimudemo.gif](https://cdn.gallery.uuanqin.top/img/crowdsimudemo.gif)\n\n自定义页脚：[[Butterfly 自定义页脚（不修改主题源码）]]\n\n![image.png](https://cdn.gallery.uuanqin.top/img/202408031704229.webp)\n\n夜间模式更改网站图标：[[Butterfly 夜间模式变换顶部网站图标]]\n\n![image.png|335](https://cdn.gallery.uuanqin.top/img/202410250117264.webp)\n\n## Butterfly 问题解决\n\n> [!question] BtterFly 主题不显示封面？\n>\n> 确保主题配置文件中 cover 的相关配置已经配置正确。\n\n> [!question] 配置好了但某些文章不显示默认封面？\n>\n> 如果某些文章没有显示默认封面，试试在 Front-matter 加上 `description` 字段。\n\n# 【过期】仅供参考的条目\n\n以下条目将不再维护，仅供历史参考。\n\n## 【过期】自定义滚动条\n\n> [!fail] 新版本 Butterfly 好像不起作用了\n\n引入新的 css 文件，文件内容为：\n\n```css\n/* 滚动条 */\n::-webkit-scrollbar {\n\twidth: 15px;        /* 滚动条的宽度 */\n\theight: 8px;\n}\n\n::-webkit-scrollbar-track {\n\tbackground-color: rgba(73, 177, 245, 0.2);\n\tborder-radius: 2em;\n}\n\n::-webkit-scrollbar-thumb {\n\tbackground-color: #49b1f5;\n\tbackground-image: -webkit-linear-gradient(\n\t  45deg,\n\t  rgba(255, 255, 255, 0.4) 25%,\n\t  transparent 25%,\n\t  transparent 50%,\n\t  rgba(255, 255, 255, 0.4) 50%,\n\t  rgba(255, 255, 255, 0.4) 75%,\n\t  transparent 75%,\n\t  transparent\n\t);\n\tborder-radius: 2em;\n}\n\n::-webkit-scrollbar-corner {\n\tbackground-color: transparent;\n}\n\n::-moz-selection {\n\tcolor: #fff;\n\tbackground-color: #49b1f5;\n}\n```\n\n参考：[Hexo 博客之 butterfly 主题优雅魔改系列（持续更新） - antmoe - 博客园 (cnblogs.com)](https://www.cnblogs.com/antmoe/p/12846393.html)\n","categories":[{"name":"博客站点维护","api":"api/categories/博客站点维护.json"},{"name":"Hexo","api":"api/categories/博客站点维护/Hexo.json"}],"tags":[{"name":"HTML","api":"api/tags/HTML.json"},{"name":"CSS","api":"api/tags/CSS.json"},{"name":"Waline","api":"api/tags/Waline.json"},{"name":"Javascript","api":"api/tags/Javascript.json"},{"name":"Butterfly","api":"api/tags/Butterfly.json"},{"name":"SQLite","api":"api/tags/SQLite.json"},{"name":"NPM","api":"api/tags/NPM.json"},{"name":"Codepen","api":"api/tags/Codepen.json"},{"name":"RSS","api":"api/tags/RSS.json"},{"name":"iconfont","api":"api/tags/iconfont.json"}]},"api":"api/posts/p/4872f379.json"}