{"title":"Ant Design Pro 前端项目初始化到部署上线","tags":["阿里巴巴","前端","Ant Design","umijs","npm","yarn","cnpm","tyarn","蚂蚁金服","React","Nginx","Linux"],"cover":"https://cdn.gallery.uuanqin.top/img/20240410234822.webp","description":"备忘一下 Ant Design Pro 上线关键流程","abbrlink":"3d8f61f0","date":"2024-04-11T00:18:37.000Z","top_img":null,"summary":"初始化 > [!warning] 搭建方法随时可能更新，请注意查看最新官网相关文档 Ant Design Pro 是基于 Ant Design 和 umi 的封装的一整套企业级中后台前端/设计解决方案。 官网：pro.ant.design/zh-CN/docs/getting-started/ 一些准备： 前端开发工具可以使用 vscode，或 WebStorm。 yarn：安装 | Yarn 中文网 (nodejs.cn)。yarn 是并行的 npm。一句话：`npm install --global yarn` 由于国内网络和前端的特殊性，在安装依赖等方面可能会失败或导致无法启动，浪费大量的时间，因此 Ant Design 推荐使用 tyarn - npm (npmjs.com) 及 cnpm - npm (npmjs.com) 工具。 主要搭建指令： > [!error] 一个可能遇到的问题 > /usr/local/lib/node_modules/@ant-design/pro-cli/src/create/generators/ant-design-pro/index.js:10 > const sortPackage = require('sort-package-json'); > Error \\[ERR_REQUIRE_ESM\\]: require() of ES Module > > 解决方法： > 进入 `@ant-design/pro-cli` 全局安装目录（一般在 `C:\\Users\\yourname\\AppData\\Roaming\\npm\\node_modules\\@ant-design\\pro-cli`）中执行 `npm i sort-package-json@1.55.0 -D`（如果初始化失败则 `npm cache clean --force`）。 下载完成后终端输入： 项目目录可看到生成好的依赖包：`node_modules` 注意：脚手架工具生成了项目后 不要改动任何代码，先保证项目能运行 确认环境是否匹配、安装项目依赖 注意使用 F12 及时看错误。 > react 是对 js 的一层封装，而 umi 是对 react 的进一步封装。 【可选】Ant Design Pro 项目瘦身 > [!h..."}