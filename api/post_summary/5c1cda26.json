{"title":"串口驱动程序之「发送数据」","tags":["驱动","STM32","USB","Keil","C","HAL","串口"],"cover":"https://cdn.gallery.uuanqin.top/img/20240404230451.webp","description":"一个简单的串口发送数据的驱动程序。","categories":["嵌入式"],"abbrlink":"5c1cda26","date":"2024-04-02T23:30:28.000Z","top_img":null,"summary":"串口简介 串口是一种应用十分广泛的通讯接口，串口成本低、容易使用、通信线路简单，可实现两个设备的互相通信。单片机的串口可以使单片机与单片机、单片机与电脑、单片机与各式各样的模块互相通信，极大地扩展了单片机的应用范围，增强了单片机系统的硬件实力。 简单双向串口通信有两根通信线（发送端TX和接收端RX），TX与RX要交叉连接。当只需单向的数据传输时，可以只接一根通信线。当电平标准不一致时，需要加电平转换芯片。 | STM32 | USB-TTL | | ----- | ------------------ | | | 5V | | | VCC（和 5V 或 3V3 短接） | | | 3V3 | | RX | TDX | | TX | RXD | | GND | GND | 串口参数： 波特率：串口通信的速率 起始位：标志一个数据帧的开始，固定为低电平 数据位：数据帧的有效载荷，1为高电平，0为低电平，低位先行 校验位：用于数据验证，根据数据位计算得来 停止位：用于数据帧间隔，固定为高电平 使用串口输出到电脑 使用串口时记得勾选 Use MicroLIB： 在 User 文件夹（或其他文件夹）下，新建两个文件：serial.c 和 serial.h（或其它名字，serial 取串口之意），并添加到「组」中。 基操之重写 printf 和 sprintf HAL 标准库 serial.h： serial.c： 示例程序 main.c： 测试："}