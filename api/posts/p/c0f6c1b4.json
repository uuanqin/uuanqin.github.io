{"data":{"title":"“禅道”的配置与数据库连接","slug":"“禅道”的配置与数据库连接","description":"禅道的安装方法与配置、数据库连接与操作。","date":"2022-04-18T04:43:36.000Z","updated":"2024-08-01T14:58:46.724Z","language":"zh-CN","comments":true,"url":"p/c0f6c1b4/","cover":"https://cdn.gallery.uuanqin.top/img/cdcover.webp","images":[],"content":"<p>禅道官网镇楼：<a href=\"https://www.zentao.net/\">项目管理软件 开源项目管理软件 免费项目管理软件 - 禅道开源项目管理软件 (zentao.net)</a></p>\n<h1 id=\"禅道安装\"><a class=\"markdownIt-Anchor\" href=\"#禅道安装\"></a> 禅道安装</h1>\n<p>安装与操作指南见：<a href=\"https://www.zentao.net/book/zentaopmshelp/90.html\">linux 用一键安装包 - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)</a>。注意记住你开启的 Apache 端口和 Mysql 端口。比如这篇教程的 81 端口和 3307 端口。</p>\n<p>如果你已经安了 LAMP，尝试看这篇安装禅道：<a href=\"https://www.zentao.net/book/zentaopmshelp/101.html\">使用源码包安装(各系统通用) - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)</a></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/QQ截图20220411234927-1024x549.png\" alt=\"\" /></p>\n<p>正常打开的界面</p>\n<p>如果你在云服务器进行操作，别忘了在安全组打开端口。</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/QQ截图20220411234940-1024x47.png\" alt=\"\" /></p>\n<h1 id=\"禅道内批量导入用户数据\"><a class=\"markdownIt-Anchor\" href=\"#禅道内批量导入用户数据\"></a> 禅道内批量导入用户数据</h1>\n<p>需要进入数据库进行操作。网页登录禅道数据库的方法：<a href=\"https://www.zentao.net/book/zentaopmshelp/90.html\">(推荐)linux 用一键安装包 - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)</a></p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/image-35.png\" alt=\"\" /></p>\n<p>网页直接登录：</p>\n<ul>\n<li>系统：默认选择 MySQL。</li>\n<li>服务器：127.0.0.1:mysql 端口（mysql 端口启用的是 3307，那么就填写 127.0.0.1:3307。<strong>注意：ip 只能写 127.0.0.1</strong>）</li>\n<li>用户名： root。（禅道默认的数据库用户名是 root）</li>\n<li>密码：123456。（禅道默认的数据库密码是 123456）</li>\n<li>数据库：zentao。</li>\n</ul>\n<p>进入数据库，找到表 zt_user 即可进行操作。</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/image-27.png\" alt=\"\" /></p>\n<p>我的批量添加的方法是，按照表的结构，另外在 Excel 中创建一个。参照数据库中的默认数据进行填充。</p>\n<p>Password 应填入 MD5 加密后的结果。Excel 使用 MD5 对字符串进行加密请参见我的另一篇文章：《Excel 琐碎 - 半方池水半方田》</p>\n<p>构造好后进行 csv 文件的导入即可。</p>\n<p>做完这些操作，会发现用户没有权限，这时候就需要看另一张表 zt_usergroup。以同样的方式，构造表，导入即可。</p>\n\n<div class=\"callout\" data-callout=\"error\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-zap\"><polygon points=\"13 2 3 14 12 14 11 22 21 10 12 10 13 2\"/></svg>\n</div>\n<div class=\"callout-title-inner\">Error</div>\n</div>\n<div class=\"callout-content\"><p>原文此位置包含图片，现链接已被覆盖造成丢失，且复查时存在疏漏。原图片命名为：image-36.png</p>\n</div></div><p>导入数据灵感参考：<a href=\"https://www.inqingdao.cn/1151.html\">禅道用 csv 方式批量导入用户方法 – 在情岛 (inqingdao.cn)</a></p>\n<h1 id=\"使用-navicat-连接禅道数据库\"><a class=\"markdownIt-Anchor\" href=\"#使用-navicat-连接禅道数据库\"></a> 使用 Navicat 连接禅道数据库</h1>\n<p>（服务器为 Linux 系统）</p>\n<p>导入用户数据还可以使用 Navicat 进行导入。</p>\n<p>首先登录 adminer，选择 MySQL 数据库：</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/QQ截图20220418110939-1024x432.png\" alt=\"\" /></p>\n<p>执行 SQL 命令：</p>\n<figure class=\"highlight sql\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">GRANT</span> <span class=\"keyword\">ALL</span> <span class=\"keyword\">ON</span> <span class=\"operator\">*</span>.<span class=\"operator\">*</span> <span class=\"keyword\">TO</span> <span class=\"string\">&#x27;zentao&#x27;</span>@<span class=\"string\">&#x27;%&#x27;</span> IDENTIFIED <span class=\"keyword\">BY</span> <span class=\"string\">&#x27;123456&#x27;</span> <span class=\"keyword\">WITH</span> <span class=\"keyword\">GRANT</span> OPTION;</span><br></pre></td></tr></table></figure>\n<p>你会发现增加了一条记录。用户名 zentao。</p>\n<p>进入服务器，找到 mysql 配置目录：</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find / -name my.cnf</span><br><span class=\"line\">vim /opt/zbox/etc/mysql/my.cnf</span><br></pre></td></tr></table></figure>\n<p>注释掉 bind-address</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/5ITZPXL8RMSS4ZPU_UYM.png\" alt=\"\" /></p>\n<p>进入禅道的 MySQL，刷新权限。重启禅道。</p>\n<figure class=\"highlight plaintext\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">/opt/zbox/bin/mysql -u root -p # 进入后输入的是禅道配的mysql数据库密码，默认123456</span><br><span class=\"line\">MariaDB [(none)]&gt; FLUSH PRIVILEGES; # 刷新权限（在刚刚打开的网页上执行SQL应该也行）</span><br><span class=\"line\"></span><br><span class=\"line\">/opt/zbox/zbox restart</span><br></pre></td></tr></table></figure>\n<p>接下来使用 Navicat 登录即可：</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/QQ截图20220418111459.png\" alt=\"\" /></p>\n<h1 id=\"本文参考\"><a class=\"markdownIt-Anchor\" href=\"#本文参考\"></a> 本文参考</h1>\n<ul>\n<li><a href=\"https://blog.51cto.com/u_7034817/3407526\">Windows 下使用 Navicat 远程连接禅道 Mysql 数据库_薄心之心的技术博客_51CTO 博客</a></li>\n<li><a href=\"https://blog.csdn.net/lizhiyuan_eagle/article/details/81282893\">navicat 远程连接 linux 禅道 mysql 设置_老刀聊 JAVA 的博客-CSDN 博客_navicat 远程连接禅道数据库</a></li>\n</ul>\n","raw":"---\ntitle: “禅道”的配置与数据库连接\ntags:\n  - Linux\n  - MySQL\n  - Navicat\n  - 禅道\ndescription: 禅道的安装方法与配置、数据库连接与操作。\ncover: 'https://cdn.gallery.uuanqin.top/img/cdcover.webp'\nabbrlink: c0f6c1b4\ndate: 2022-04-18 12:43:36\n---\n\n禅道官网镇楼：[项目管理软件 开源项目管理软件 免费项目管理软件 - 禅道开源项目管理软件 (zentao.net)](https://www.zentao.net/)\n\n# 禅道安装\n\n安装与操作指南见：[linux 用一键安装包 - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)](https://www.zentao.net/book/zentaopmshelp/90.html)。注意记住你开启的 Apache 端口和 Mysql 端口。比如这篇教程的 81 端口和 3307 端口。\n\n如果你已经安了 LAMP，尝试看这篇安装禅道：[使用源码包安装(各系统通用) - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)](https://www.zentao.net/book/zentaopmshelp/101.html)\n\n![](https://cdn.gallery.uuanqin.top/img/QQ%E6%88%AA%E5%9B%BE20220411234927-1024x549.png)\n\n正常打开的界面\n\n如果你在云服务器进行操作，别忘了在安全组打开端口。\n\n![](https://cdn.gallery.uuanqin.top/img/QQ%E6%88%AA%E5%9B%BE20220411234940-1024x47.png)\n\n# 禅道内批量导入用户数据\n\n需要进入数据库进行操作。网页登录禅道数据库的方法：[(推荐)linux 用一键安装包 - 禅道开源版使用帮助 - 禅道开源项目管理软件 (zentao.net)](https://www.zentao.net/book/zentaopmshelp/90.html)\n\n![](https://cdn.gallery.uuanqin.top/img/image-35.png)\n\n网页直接登录：\n\n- 系统：默认选择 MySQL。\n- 服务器：127.0.0.1:mysql 端口（mysql 端口启用的是 3307，那么就填写 127.0.0.1:3307。**注意：ip 只能写 127.0.0.1**）\n- 用户名： root。（禅道默认的数据库用户名是 root）\n- 密码：123456。（禅道默认的数据库密码是 123456）\n- 数据库：zentao。\n\n进入数据库，找到表 zt_user 即可进行操作。\n\n![](https://cdn.gallery.uuanqin.top/img/image-27.png)\n\n我的批量添加的方法是，按照表的结构，另外在 Excel 中创建一个。参照数据库中的默认数据进行填充。\n\nPassword 应填入 MD5 加密后的结果。Excel 使用 MD5 对字符串进行加密请参见我的另一篇文章：《Excel 琐碎 - 半方池水半方田》\n\n构造好后进行 csv 文件的导入即可。\n\n做完这些操作，会发现用户没有权限，这时候就需要看另一张表 zt_usergroup。以同样的方式，构造表，导入即可。\n\n> [!Error]\n> 原文此位置包含图片，现链接已被覆盖造成丢失，且复查时存在疏漏。原图片命名为：image-36.png\n\n导入数据灵感参考：[禅道用 csv 方式批量导入用户方法 – 在情岛 (inqingdao.cn)](https://www.inqingdao.cn/1151.html)\n\n# 使用 Navicat 连接禅道数据库\n\n（服务器为 Linux 系统）\n\n导入用户数据还可以使用 Navicat 进行导入。\n\n首先登录 adminer，选择 MySQL 数据库：\n\n![](https://cdn.gallery.uuanqin.top/img/QQ%E6%88%AA%E5%9B%BE20220418110939-1024x432.png)\n\n执行 SQL 命令：\n\n```SQL\nGRANT ALL ON *.* TO 'zentao'@'%' IDENTIFIED BY '123456' WITH GRANT OPTION;\n```\n\n你会发现增加了一条记录。用户名 zentao。\n\n进入服务器，找到 mysql 配置目录：\n\n```\nfind / -name my.cnf\nvim /opt/zbox/etc/mysql/my.cnf\n```\n\n注释掉 bind-address\n\n![](https://cdn.gallery.uuanqin.top/img/5ITZPXL8RMSS4ZPU_UYM.png)\n\n进入禅道的 MySQL，刷新权限。重启禅道。\n\n```\n/opt/zbox/bin/mysql -u root -p # 进入后输入的是禅道配的mysql数据库密码，默认123456\nMariaDB [(none)]> FLUSH PRIVILEGES; # 刷新权限（在刚刚打开的网页上执行SQL应该也行）\n\n/opt/zbox/zbox restart\n```\n\n接下来使用 Navicat 登录即可：\n\n![](https://cdn.gallery.uuanqin.top/img/QQ%E6%88%AA%E5%9B%BE20220418111459.png)\n\n# 本文参考\n\n* [Windows 下使用 Navicat 远程连接禅道 Mysql 数据库\\_薄心之心的技术博客\\_51CTO 博客](https://blog.51cto.com/u_7034817/3407526)\n* [navicat 远程连接 linux 禅道 mysql 设置\\_老刀聊 JAVA 的博客-CSDN 博客\\_navicat 远程连接禅道数据库](https://blog.csdn.net/lizhiyuan_eagle/article/details/81282893)\n","categories":[],"tags":[{"name":"Linux","api":"api/tags/Linux.json"},{"name":"MySQL","api":"api/tags/MySQL.json"},{"name":"Navicat","api":"api/tags/Navicat.json"},{"name":"禅道","api":"api/tags/禅道.json"}]},"api":"api/posts/p/c0f6c1b4.json"}