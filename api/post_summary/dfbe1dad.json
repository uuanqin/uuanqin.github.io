{"title":"Scrapy-充分利用浏览器中的开发者工具","tags":["python","Scrapy","Edge"],"cover":"https://cdn.gallery.uuanqin.top/img/20240221024125.webp","description":"浏览器开发者工具基础向教程","abbrlink":"dfbe1dad","categories":["核心协同"],"date":"2024-02-20T23:59:47.000Z","top_img":null,"summary":"如今大多数的浏览器（Edge、Chrome、Firefox 等）都带有开发者工具。本篇文章简单介绍利用开发者工具辅助我们选择需要爬取的内容，方便 Scrapy 爬虫的开发。 > 如果你对 Scrapy 还不熟悉，可以先看这一篇文章：[[Scrapy-入门篇]]。 > [!warning] 查阅实时浏览器 DOM 的注意事项 > 由于开发者工具工作于实时浏览器 DOM，因此你在工具中看到的页面代码并非原始 HTML 代码，它可能被浏览器清除过一些内容或者执行了某些 Javascript 脚本。就比如在 Firefox 浏览器，它会自动为表格增加 `<tbody>` 标签。Scrapy 不会修改原 HTML，因此如果你的爬虫 XPath 表达式含有 `<tbody>`，你将不会提取到任何信息。 > 正因此，使用 Scrapy 时你需要注意： > 1. 当你在为 Scrapy 寻找 XPath、查阅 DOM 时，请取消激活 JavaScript。例如在 Edge 浏览器中设置方法为打开开发者工具设置（左下角三个圆点），首选项>调试程序>禁用 JavaScript。 > 2. 不要使用完整的 XPath 表达式。使用相对路径，或者基于属性（比如 `id`，`class`，`width` 等）进行筛选，或者其它可以助于定位的特性如 `contains(@href, 'image')` > 3. 不要在 XPath 表达式中使用 `<tbody>` 元素，除非你知道自己正在做什么。 检查元素 以英文名人名言网站 quotes.toscrape.com 为例。假如我们需要提取其中的名言，我们可以直接右击名言，选择弹出菜单中的「检查」即可打开开发者工具。此时开发者工具直接打开「元素」页面，对应的名言将高亮显示。 > 打开开发者工具的快捷键为<kbd>F12</kbd> 鼠标在「元素」中划过 HTML 块时，左侧对应的元素将高亮显示。按下「检查」按钮（快捷键 Ctrl+Shift+C，可以随时呼出开发者工具面板），可以实现鼠标划过网页时高亮显示 HTML 块，单击即可固定。此外，右键某一个 HTML 块，选择「滚动到视图」也可以轻松定位元素在网页中的位置。 我们可以手动展开或折叠 HTML 代码，右键我们想要爬取的内容，选择复制 XPath。 这样你就可以轻松定位需要爬取元素的位置。..."}