{"data":{"title":"关于 WordPress 固定链接的修改以及 htaccess 文件不起作用问题的解决","slug":"博客站点维护/WordPress/关于 WordPress 固定链接的修改以及 htaccess 文件不起作用问题的解决","description":"自己新建一个，注意设置好权限。如果失效，需要修改httpd的配置。","date":"2022-03-23T15:16:05.000Z","updated":"2024-12-22T14:02:20.688Z","language":"zh-CN","comments":true,"url":"p/984b8d12/","cover":"https://cdn.gallery.uuanqin.top/img/WPPIC.png","images":[],"content":"\n<div class=\"callout\" data-callout=\"warning\">\n<div class=\"callout-title\">\n<div class=\"callout-title-icon\">\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" stroke-width=\"2\" stroke-linecap=\"round\" stroke-linejoin=\"round\" class=\"lucide lucide-alert-triangle\"><path d=\"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z\"/><path d=\"M12 9v4\"/><path d=\"M12 17h.01\"/></svg>\n</div>\n<div class=\"callout-title-inner\">注意</div>\n</div>\n<div class=\"callout-content\"><p>修改固定链接可能会影响网站的 SEO 排名。请准备好解决方案并谨慎修改！</p>\n</div></div><p>因为安装了一个 WordPress 缓存插件，需要更改 WordPress 的固定链接。但是，WordPress 固定链接的更改出现了以下问题：</p>\n<h1 id=\"无法写入htaccess-文件\"><a class=\"markdownIt-Anchor\" href=\"#无法写入htaccess-文件\"></a> 无法写入.htaccess 文件</h1>\n<p>这是由于权限设置所导致的。打开服务器，进入到 wordpress 的根目录，粘贴 wordpress 提供的内容到 .htaccess 文件。注意，开头带点的文件为隐藏文件，在 linux 下使用 ls 时注意加上选项 -a 以查看隐藏文件：</p>\n<figure class=\"highlight shell\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">ls -a</span><br></pre></td></tr></table></figure>\n<p>要查看隐藏文件的权限可以再加上 -l 选项：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">ls</span> -al</span><br></pre></td></tr></table></figure>\n<p>把.htaccess 的权限设置为 777：</p>\n<figure class=\"highlight sh\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"built_in\">chmod</span> -v 777 .htaccess</span><br></pre></td></tr></table></figure>\n<h1 id=\"没有htaccess-文件\"><a class=\"markdownIt-Anchor\" href=\"#没有htaccess-文件\"></a> 没有.htaccess 文件</h1>\n<p>如果没有 .htaccess 文件，可以自己新建一个（建在 wordpress 根目录下）。把 .htaccess 的权限设置为 777。这样 WordPress 就可以更改你的 .htaccess 文件了。</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/conf内容大致是这样的-1024x543.png\" alt=\"\" /></p>\n<p>.htaccess 文件应该像这样</p>\n<h1 id=\"htaccess-文件不起作用\"><a class=\"markdownIt-Anchor\" href=\"#htaccess-文件不起作用\"></a> .htaccess 文件不起作用</h1>\n<p>即使 .htaccess 文件更改好了，检查之后也没有问题，但 .htaccess 就是不起作用。这时需要更改 httpd.conf。</p>\n<p>找到 httpd.conf 位置：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">find / -name httpd.conf</span><br></pre></td></tr></table></figure>\n<p>vim 进行编辑，搜索 AllowOverride 参数。找到 https 站点的 Directory 设置 AllowOverride <strong>All</strong>。</p>\n<p><img src= \"/image/loading.gif\" data-lazy-src=\"https://cdn.gallery.uuanqin.top/img/QQ截图20220323225800-1024x637.png\" alt=\"\" /></p>\n<p>重启 httpd：</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\">service httpd restart</span><br></pre></td></tr></table></figure>\n<p>重新再 wordpress 固定链接设置里再保存一遍即可。</p>\n<h1 id=\"参考链接\"><a class=\"markdownIt-Anchor\" href=\"#参考链接\"></a> 参考链接</h1>\n<ul>\n<li><a href=\"https://www.wpbeginner.com/beginners-guide/why-you-cant-find-htaccess-file-on-your-wordpress-site/#:~:text=WordPress%20automatically%20generates.htaccess%20file%20because%20it%20is%20required,now%20try%20to%20generate%20the.htaccess%20file%20for%20you.\">Why You Can’t Find .htaccess File on Your WordPress Site (wpbeginner.com)</a></li>\n<li><a href=\"https://blog.csdn.net/laoqiming/article/details/84311744\">.htaccess 设置不起作用_劳启的博客-CSDN 博客_htaccess 不起作用</a></li>\n</ul>\n","raw":"---\ntitle: 关于 WordPress 固定链接的修改以及 htaccess 文件不起作用问题的解决\ntags:\n  - Apache\n  - 问题解决\ncategories:\n  - 博客站点维护\n  - WordPress\ndescription: 自己新建一个，注意设置好权限。如果失效，需要修改httpd的配置。\ncover: 'https://cdn.gallery.uuanqin.top/img/WPPIC.png'\nabbrlink: 984b8d12\ndate: 2022-03-23 23:16:05\n---\n\n> [!warning] 注意\n> 修改固定链接可能会影响网站的 SEO 排名。请准备好解决方案并谨慎修改！\n\n因为安装了一个 WordPress 缓存插件，需要更改 WordPress 的固定链接。但是，WordPress 固定链接的更改出现了以下问题：\n\n# 无法写入.htaccess 文件\n\n这是由于权限设置所导致的。打开服务器，进入到 wordpress 的根目录，粘贴 wordpress 提供的内容到 .htaccess 文件。注意，开头带点的文件为隐藏文件，在 linux 下使用 ls 时注意加上选项 -a 以查看隐藏文件：\n\n```shell\nls -a\n```\n\n要查看隐藏文件的权限可以再加上 -l 选项：\n\n```sh\nls -al\n```\n\n把.htaccess 的权限设置为 777：\n\n```sh\nchmod -v 777 .htaccess\n```\n\n# 没有.htaccess 文件\n\n如果没有 .htaccess 文件，可以自己新建一个（建在 wordpress 根目录下）。把 .htaccess 的权限设置为 777。这样 WordPress 就可以更改你的 .htaccess 文件了。\n\n![](https://cdn.gallery.uuanqin.top/img/conf%E5%86%85%E5%AE%B9%E5%A4%A7%E8%87%B4%E6%98%AF%E8%BF%99%E6%A0%B7%E7%9A%84-1024x543.png)\n\n.htaccess 文件应该像这样\n\n# .htaccess 文件不起作用\n\n即使 .htaccess 文件更改好了，检查之后也没有问题，但 .htaccess 就是不起作用。这时需要更改 httpd.conf。\n\n找到 httpd.conf 位置：\n\n```bash\nfind / -name httpd.conf\n```\n\nvim 进行编辑，搜索 AllowOverride 参数。找到 https 站点的 Directory 设置 AllowOverride **All**。\n\n![](https://cdn.gallery.uuanqin.top/img/QQ%E6%88%AA%E5%9B%BE20220323225800-1024x637.png)\n\n重启 httpd：\n\n```bash\nservice httpd restart\n```\n\n重新再 wordpress 固定链接设置里再保存一遍即可。\n\n# 参考链接\n\n- [Why You Can't Find .htaccess File on Your WordPress Site (wpbeginner.com)](https://www.wpbeginner.com/beginners-guide/why-you-cant-find-htaccess-file-on-your-wordpress-site/#:~:text=WordPress%20automatically%20generates.htaccess%20file%20because%20it%20is%20required,now%20try%20to%20generate%20the.htaccess%20file%20for%20you.)\n- [.htaccess 设置不起作用\\_劳启的博客-CSDN 博客\\_htaccess 不起作用](https://blog.csdn.net/laoqiming/article/details/84311744)\n","categories":[{"name":"博客站点维护","api":"api/categories/博客站点维护.json"},{"name":"WordPress","api":"api/categories/博客站点维护/WordPress.json"}],"tags":[{"name":"问题解决","api":"api/tags/问题解决.json"},{"name":"Apache","api":"api/tags/Apache.json"}]},"api":"api/posts/p/984b8d12.json"}